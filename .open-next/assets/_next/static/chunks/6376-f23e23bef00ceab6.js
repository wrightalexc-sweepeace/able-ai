(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6376],{8912:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var r=a(95155),i=a(12115),o=a(53429),l=a.n(o),n=a(99166),s=a.n(n),c=a(66611),d=a(64221);let u=e=>{let{onVideoRecorded:t,prompt:a,setIsEditingVideo:o,isCancelButtonVisible:n=!0}=e,u=(0,i.useRef)(null),_=(0,i.useRef)(null),[m,v]=(0,i.useState)(!1),[x,f]=(0,i.useState)(null),[b,h]=(0,i.useState)(!1),[p,j]=(0,i.useState)(null),[B,g]=(0,i.useState)([]),[y,k]=(0,i.useState)(null),[N,S]=(0,i.useState)(null),w=(0,i.useCallback)(()=>{var e;let t=null==(e=u.current)?void 0:e.getScreenshot();t&&k(t)},[]),R=()=>{f(null),v(!1),g([]),j(null),k(null),f(null)},C=()=>{_.current&&"inactive"!==_.current.state&&(_.current.stop(),v(!1))},V=async()=>{p&&(console.log("Video URL:",URL.createObjectURL(p)),t&&t(p))};return(0,i.useEffect)(()=>{if(!m&&B.length>0){let e=new Blob(B,{type:"video/webm"});j(e),f(URL.createObjectURL(e)),console.log("Captured image:",y)}},[m,B]),(0,r.jsxs)("div",{className:s().container,children:[a&&(0,r.jsx)("div",{className:s().prompt,children:a}),b?(0,r.jsx)(r.Fragment,{children:N?(0,r.jsx)("div",{className:s().error,children:N}):x?(0,r.jsx)("div",{className:s().overlay,children:(0,r.jsxs)("div",{className:s().preview,children:[(0,r.jsx)("video",{controls:!0,src:x,className:s().video}),(0,r.jsxs)("div",{className:s().actions,children:[(0,r.jsx)("button",{onClick:V,className:"".concat(s().actionButton," ").concat(s().saveButton),children:"Save Video"}),(0,r.jsx)("button",{onClick:()=>{f(null),g([]),j(null)},className:"".concat(s().actionButton," ").concat(s().rerecordButton),children:"Re-record"})]})]})}):(0,r.jsx)("div",{className:s().overlay,children:(0,r.jsxs)("div",{className:s().recorder,children:[(0,r.jsx)(l(),{ref:u,audio:!0,mirrored:!0,screenshotFormat:"image/jpeg",videoConstraints:!0,className:s().webcam,onUserMedia:()=>{S(null),console.log("Webcam stream started")},onUserMediaError:e=>{S("Camera access denied or not available. Please allow camera access and refresh the page."),console.error("Webcam error",e)}}),(0,r.jsx)("button",{onClick:m?C:()=>{var e;R();let t=null==(e=u.current)?void 0:e.stream;if(!t)return;let a=new MediaRecorder(t,{mimeType:"video/webm"});_.current=a,a.ondataavailable=e=>{e.data.size>0&&g(t=>[...t,e.data])},a.start(),v(!0),setTimeout(()=>w(),15e3),setTimeout(()=>C(),3e4)},className:s().controlButton,children:m?"Stop Recording":"Start Recording"}),(0,r.jsx)(d.A,{handleCancel:()=>{h(!1)}}),(0,r.jsx)("p",{className:s().note,children:"Max duration: 30 seconds"})]})})}):(0,r.jsxs)("div",{className:s().initial,children:[(0,r.jsxs)("button",{onClick:()=>{R(),h(!0)},className:s().recordButton,children:[(0,r.jsx)(c.A,{color:"#fff",className:s().monitorPlay}),(0,r.jsx)("span",{children:"RECORD VIDEO"})]}),n&&o&&(0,r.jsx)(d.A,{handleCancel:()=>o(!1)})]})]})}},11801:e=>{e.exports={cancelButton:"CancelButton_cancelButton__sbVPR"}},16285:(e,t,a)=>{"use strict";a.d(t,{A:()=>h});var r=a(95155),i=a(12115),o=a(84616),l=a(5196),n=a(89917),s=a(43129),c=a.n(s);let d=e=>{let{qualification:t,isEditMode:a,onEdit:i}=e;return(0,r.jsxs)("li",{className:c().item,children:[(0,r.jsxs)("div",{className:c().itemContent,children:[(0,r.jsx)("strong",{children:t.title}),": ",t.description]}),a&&(0,r.jsx)("button",{onClick:i,className:c().editIcon,children:(0,r.jsx)(n.A,{size:14})})]})};var u=a(54416),_=a(62525),m=a(59867),v=a.n(m);let x=e=>{let{mode:t,initialValue:a,onSave:o,onDelete:l,onClose:n}=e,[s,c]=(0,i.useState)((null==a?void 0:a.title)||""),[d,m]=(0,i.useState)((null==a?void 0:a.description)||""),[x,f]=(0,i.useState)(null);return(0,r.jsx)("div",{className:v().overlay,children:(0,r.jsxs)("div",{className:v().modal,children:[(0,r.jsxs)("div",{className:v().header,children:[(0,r.jsx)("h4",{children:"add"===t?"Add Qualification":"Edit Qualification"}),(0,r.jsx)("button",{onClick:n,children:(0,r.jsx)(u.A,{size:16})})]}),(0,r.jsxs)("div",{className:v().body,children:[(0,r.jsx)("input",{type:"text",placeholder:"Title",value:s,onChange:e=>c(e.target.value)}),(0,r.jsx)("input",{type:"text",placeholder:"Description",value:d,onChange:e=>m(e.target.value)}),x&&(0,r.jsx)("p",{className:v().errorText,children:x})]}),(0,r.jsxs)("div",{className:v().footer,children:["edit"===t&&l&&(0,r.jsxs)("button",{onClick:l,className:v().deleteBtn,children:[(0,r.jsx)(_.A,{size:16})," Delete"]}),(0,r.jsx)("button",{onClick:()=>{if(!s.trim()||!d.trim())return void f("Title and description are required.");o({title:s,description:d})},className:v().saveBtn,children:"Save"})]})]})})};var f=a(17043),b=a.n(f);let h=e=>{let{initialQualifications:t,workerId:a,isSelfView:s}=e,[c,u]=(0,i.useState)(t||[]),[_,m]=(0,i.useState)(!1),[v,f]=(0,i.useState)(!1),[h,p]=(0,i.useState)("add"),[j,B]=(0,i.useState)(null),g=e=>{p("edit"),B(e),f(!0)};return(0,r.jsxs)("div",{className:b().container,children:[(0,r.jsxs)("h3",{className:b().contentTitle,children:["Qualifications",s&&(0,r.jsxs)("div",{className:b().actions,children:[(0,r.jsx)("button",{onClick:()=>{p("add"),B(null),f(!0)},children:(0,r.jsx)(o.A,{size:16})}),c.length>0&&(0,r.jsx)("button",{onClick:()=>m(e=>!e),className:b().editButton,children:_?(0,r.jsxs)("span",{className:b().checkDone,children:[(0,r.jsx)(l.A,{size:16,color:"#ffffff"})," Done"]}):(0,r.jsx)(n.A,{size:16})})]})]}),(0,r.jsx)("ul",{className:b().listSimple,children:c.length>0?c.map((e,t)=>(0,r.jsx)(d,{qualification:e,isEditMode:_,onEdit:()=>g(t)},e.id)):(0,r.jsx)("li",{children:"No qualifications listed."})}),v&&(0,r.jsx)(x,{mode:h,initialValue:null!==j?c[j]:null,onSave:e=>{let t={...e,id:"id-".concat(Math.random().toString(36).substr(2,9)),workerProfileId:a,createdAt:new Date,updatedAt:new Date};if("add"===h)u([...c,t]);else if("edit"===h&&null!==j){let t=[...c];t[j]={...t[j],...e,updatedAt:new Date},u(t)}f(!1),m(!1)},onDelete:"edit"===h?()=>{null!==j&&u(c.filter((e,t)=>t!==j)),f(!1),m(!1)}:void 0,onClose:()=>{f(!1),m(!1)}})]})}},17043:e=>{e.exports={contentTitle:"Qualifications_contentTitle__VYWEc",actions:"Qualifications_actions__8q2Js",listSimple:"Qualifications_listSimple__ZTSce",editButton:"Qualifications_editButton__XO_ZK",checkDone:"Qualifications_checkDone__o4RPu"}},17655:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(95155);a(12115);var i=a(51991),o=a.n(i);let l=e=>{let{icon:t,textLines:a,color:i="#ffffff",border:l="none"}=e;return(0,r.jsxs)("div",{className:o().awardBadge,style:{border:"".concat(l)},children:[t&&(0,r.jsx)(t,{size:28,className:o().awardIcon,color:i,strokeWidth:"3"}),(0,r.jsx)("div",{className:o().awardTextContainer,children:(0,r.jsx)("span",{className:o().awardTextLine,children:a})})]})}},25202:(e,t,a)=>{"use strict";a.d(t,{l:()=>i});var r=a(34477);let i=(0,r.createServerReference)("7f6e200ec583a3ca81b47a9c711b1a030a0190c8e4",r.callServer,void 0,r.findSourceMapURL,"getPrivateWorkerProfileAction")},25731:(e,t,a)=>{"use strict";a.d(t,{A:()=>d,O:()=>c});var r=a(95155),i=a(12115),o=a(16203),l=a(85004);let n=(0,i.createContext)({user:null,loading:!0});async function s(e){for(let a=0;a<10;a++){var t;let a=await (0,o.yx)(e,!0);if(null==(t=a.claims)?void 0:t.role)return a;await new Promise(e=>setTimeout(e,1e3))}return null}let c=e=>{let{children:t}=e,[a,c]=(0,i.useState)(null),[d,u]=(0,i.useState)(!0),{authClient:_,loading:m}=(0,l.D)();return(0,i.useEffect)(()=>{let e=()=>{};return!m&&_&&(e=(0,o.hg)(_,async e=>{if(e){let t=await s(e);t?c(Object.assign(e,{token:t.token,claims:t.claims})):c(null)}else c(null);u(!1)})),()=>e()},[m]),(0,r.jsx)(n.Provider,{value:{user:a,loading:d},children:t})},d=()=>(0,i.useContext)(n)},43129:e=>{e.exports={item:"QualificationItem_item__4h0NR",editIcon:"QualificationItem_editIcon___tUdh"}},49011:e=>{e.exports={emptyContainer:"WorkerProfileVideo_emptyContainer__a9Mwy",emptyIcon:"WorkerProfileVideo_emptyIcon___afr9",recordButton:"WorkerProfileVideo_recordButton__kgHKP",videoWrapper:"WorkerProfileVideo_videoWrapper__gs2sA",videoLink:"WorkerProfileVideo_videoLink__bGje7",videoPlayer:"WorkerProfileVideo_videoPlayer__I_eda",monitorPlay:"WorkerProfileVideo_monitorPlay__6Y02f",editIconButton:"WorkerProfileVideo_editIconButton__3IxuF",recorderWrapper:"WorkerProfileVideo_recorderWrapper__AEd2F",emptyMessage:"WorkerProfileVideo_emptyMessage__TvHi3"}},51991:e=>{e.exports={awardBadge:"AwardDisplayBadge_awardBadge__4jsbY",awardIcon:"AwardDisplayBadge_awardIcon__vzi6i",awardTextContainer:"AwardDisplayBadge_awardTextContainer__n_GYl",awardTextLine:"AwardDisplayBadge_awardTextLine__TuqLi"}},55899:(e,t,a)=>{"use strict";a.d(t,{A:()=>_});var r=a(95155),i=a(12115),o=a(6874),l=a.n(o),n=a(8912),s=a(49011),c=a.n(s),d=a(66611),u=a(89917);function _(e){let{videoUrl:t,isSelfView:a,onVideoUpload:o}=e,[s,_]=(0,i.useState)(!1);return t||s?s?(0,r.jsx)("div",{className:c().recorderWrapper,children:(0,r.jsx)(n.A,{onVideoRecorded:e=>{o(e),_(!1)},setIsEditingVideo:_},2)}):(0,r.jsxs)("div",{className:c().videoWrapper,children:[(0,r.jsxs)(l(),{href:t,target:"_blank",rel:"noopener noreferrer",className:c().videoLink,children:[(0,r.jsx)("video",{className:c().videoPlayer,preload:"metadata",muted:!0,poster:"/video-placeholder.jpg",children:(0,r.jsx)("source",{src:t+"#t=0.1",type:"video/webm"})}),t&&(0,r.jsx)(d.A,{color:"#fff",size:50,className:c().monitorPlay})]}),a&&t&&(0,r.jsx)("button",{onClick:()=>_(!0),className:c().editIconButton,"aria-label":"Edit video",children:(0,r.jsx)(u.A,{size:18})})]}):a?(0,r.jsxs)("div",{className:c().emptyContainer,children:[(0,r.jsx)("h3",{children:"Please, introduce yourself"}),(0,r.jsx)(n.A,{onVideoRecorded:o,setIsEditingVideo:_,isCancelButtonVisible:!1},1)]}):(0,r.jsx)("p",{className:c().emptyMessage,children:"User has not uploaded a presentation"})}},59867:e=>{e.exports={overlay:"QualificationModal_overlay__APke8",modal:"QualificationModal_modal__fkCUR",header:"QualificationModal_header__39i7X",body:"QualificationModal_body__Sa5J_",footer:"QualificationModal_footer__t_0IX",saveBtn:"QualificationModal_saveBtn__a99js",deleteBtn:"QualificationModal_deleteBtn__xsaqU",errorText:"QualificationModal_errorText__HZ369"}},64221:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(95155),i=a(54416),o=a(11801),l=a.n(o);let n=e=>{let{handleCancel:t}=e;return(0,r.jsx)("button",{onClick:t,className:l().cancelButton,children:(0,r.jsx)(i.A,{size:18})})}},85004:(e,t,a)=>{"use strict";a.d(t,{D:()=>m,R:()=>_});var r=a(95155),i=a(12115),o=a(23915),l=a(16203),n=a(35317),s=a(90858),c=a(74826),d=a(20996);let u=(0,i.createContext)(null),_=e=>{let{children:t}=e,[a,_]=i.useState(null),[m,v]=i.useState(null),[x,f]=i.useState(null),[b,h]=i.useState(null),[p,j]=i.useState(null),[B,g]=i.useState(!0);return(0,i.useEffect)(()=>{!async function(){let e,t=await fetch("/firebase-config.json"),a=await t.json();0===(0,o.Dk)().length?(console.log("[Firebase] Initializing new instance..."),e=(0,o.Wp)(a)):(console.log("[Firebase] Reusing existing instance."),e=(0,o.Sx)()),_((0,l.xI)(e)),f((0,n.aU)(e)),h((0,s.c7)(e)),j((0,c.lS)(e,{backend:new c.C8})),v((0,d.dG)(e)),g(!1)}()},[]),(0,r.jsx)(u.Provider,{value:{authClient:a,db:x,storage:b,ai:p,messaging:m,loading:B},children:t})},m=()=>{let e=(0,i.useContext)(u);if(!e)throw Error("useFirebase must be used within FirebaseProvider");return e}},87058:(e,t,a)=>{"use strict";a.d(t,{$:()=>i});var r=a(34477);let i=(0,r.createServerReference)("7f9e922f879d94bec4ef70481acebb5feab2934c89",r.callServer,void 0,r.findSourceMapURL,"updateVideoUrlProfileAction")},93438:(e,t,a)=>{"use strict";let r;a.d(t,{xv:()=>r,yK:()=>c});var i=a(23915),o=a(16203),l=a(35317),n=a(90858),s=a(74826);a(20996),r=(0,i.Dk)().length?(0,i.Sx)():(0,i.Wp)({apiKey:"AIzaSyBF7DIyylS8ByVbXxdmnmLkKpLyXSdEbQA",authDomain:"ableai-mvp.firebaseapp.com",projectId:"ableai-mvp",storageBucket:"ableai-mvp.firebasestorage.app",messagingSenderId:"697522507372",appId:"1:697522507372:web:7ce039897f0e597d4d9249"});let c=(0,o.xI)(r);(0,l.aU)(r),(0,n.c7)(r),(0,s.lS)(r,{backend:new s.C8})},99166:e=>{e.exports={container:"VideoRecorderBubble_container__iJaHA",initial:"VideoRecorderBubble_initial__hqx0L",recordButton:"VideoRecorderBubble_recordButton__qnh4_",overlay:"VideoRecorderBubble_overlay__gF_Gw",recorder:"VideoRecorderBubble_recorder__bZRaG",preview:"VideoRecorderBubble_preview__kkBfE",webcam:"VideoRecorderBubble_webcam__XaA9R",controlButton:"VideoRecorderBubble_controlButton__j9dKz",note:"VideoRecorderBubble_note__wUbF9",video:"VideoRecorderBubble_video__Cb16R",actions:"VideoRecorderBubble_actions__njmim",actionButton:"VideoRecorderBubble_actionButton__hWCuv",rerecordButton:"VideoRecorderBubble_rerecordButton__GtqHQ",saveButton:"VideoRecorderBubble_saveButton__Hotky",monitorPlay:"VideoRecorderBubble_monitorPlay__e7_RS",error:"VideoRecorderBubble_error__gIfxO"}}}]);