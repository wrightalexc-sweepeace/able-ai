(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1098],{25731:(e,t,a)=>{"use strict";a.d(t,{A:()=>c,O:()=>u});var r=a(95155),s=a(12115),l=a(16203),n=a(85004);let o=(0,s.createContext)({user:null,loading:!0});async function i(e){for(let a=0;a<10;a++){var t;let a=await (0,l.yx)(e,!0);if(null==(t=a.claims)?void 0:t.role)return a;await new Promise(e=>setTimeout(e,1e3))}return null}let u=e=>{let{children:t}=e,[a,u]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0),{authClient:g,loading:_}=(0,n.D)();return(0,s.useEffect)(()=>{let e=()=>{};return!_&&g&&(e=(0,l.hg)(g,async e=>{if(e){let t=await i(e);t?u(Object.assign(e,{token:t.token,claims:t.claims})):u(null)}else u(null);d(!1)})),()=>e()},[_]),(0,r.jsx)(o.Provider,{value:{user:a,loading:c},children:t})},c=()=>(0,s.useContext)(o)},35695:(e,t,a)=>{"use strict";var r=a(18999);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},39672:e=>{e.exports={loadingContainer:"Loader_loadingContainer__p_FTp",loader:"Loader_loader__8pViD",l3:"Loader_l3__h_z0X"}},43296:(e,t,a)=>{Promise.resolve().then(a.bind(a,57180))},51078:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var r=a(95155),s=a(39672),l=a.n(s);let n=e=>{let{customClass:t,customStyle:a}=e;return(0,r.jsx)("div",{className:t||l().loadingContainer,style:a,children:(0,r.jsx)("div",{className:l().loader})})}},53843:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(95155);a(12115);var s=a(66766),l=a(69456),n=a.n(l);let o=e=>{let{width:t=260,height:a=260}=e;return(0,r.jsx)(s.default,{src:"/images/ableai.png",alt:"App Logo",width:t,height:a,className:n().logo})}},57180:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var r=a(95155),s=a(12115),l=a(35695),n=a(53843),o=a(95950),i=a.n(o);let u=e=>{let{bgColor:t,onClick:a,disabled:s=!1,children:l}=e;return(0,r.jsx)("button",{className:i().button,style:{backgroundColor:t},onClick:a,disabled:s,type:"button",children:l||label})};var c=a(94087),d=a.n(c),g=a(51078),_=a(25731),h=a(86325);function f(){let e=(0,l.useRouter)(),{user:t}=(0,_.A)(),[a,o]=(0,s.useState)(!1),[i,c]=(0,s.useState)(null),f=async a=>{if(!t)return void c("User context is not available. Please try again.");o(!0),c(null);try{if(await (0,h.C)(a),"BUYER"===a){let a="user/".concat(t.uid||"this_user","/buyer/gigs/new");localStorage.setItem("lastPathBuyer",a),e.push(a)}else if("GIG_WORKER"===a){let a=["GIG_WORKER","QA"].includes(t.claims.role)?"user/".concat(t.uid||"this_user","/worker"):"user/".concat(t.uid||"this_user","/worker/onboarding-ai");localStorage.setItem("lastPathGigWorker",a),e.push(a)}}catch(e){console.error("Error setting role:",e),c("Failed to set your role. Please try again."),o(!1)}};return a?(0,r.jsx)(g.A,{}):(0,r.jsx)("div",{className:d().container,children:(0,r.jsxs)("div",{className:d().card,children:[(0,r.jsx)("div",{className:d().logoWrapper,children:(0,r.jsx)(n.A,{})}),(0,r.jsxs)("div",{className:d().greeting,children:[(0,r.jsx)("p",{className:d().intro,children:"Hello, I'm Able, it's lovely to meet you."}),(0,r.jsx)("p",{className:d().question,children:"What do you want to do today?"})]}),i&&(0,r.jsx)("p",{className:d().errorMessage,children:i}),(0,r.jsxs)("div",{className:d().actions,children:[(0,r.jsx)(u,{bgColor:"#7eeef9",onClick:()=>f("BUYER"),disabled:a,children:"Hire a Gig Worker"}),(0,r.jsx)(u,{bgColor:"#41a1e8",onClick:()=>f("GIG_WORKER"),disabled:a,children:"Find Gig Work"})]}),(0,r.jsx)("p",{className:d().note,children:"We are focusing on hospitality and events gigs right now... but add all your skills and watch this space as we enable gig work across industries."})]})})}},66766:(e,t,a)=>{"use strict";a.d(t,{default:()=>s.a});var r=a(71469),s=a.n(r)},69456:e=>{e.exports={logo:"Logo_logo__aLQuM"}},71469:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return i},getImageProps:function(){return o}});let r=a(88229),s=a(38883),l=a(33063),n=r._(a(51193));function o(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let i=l.Image},85004:(e,t,a)=>{"use strict";a.d(t,{D:()=>_,R:()=>g});var r=a(95155),s=a(12115),l=a(23915),n=a(16203),o=a(35317),i=a(90858),u=a(74826),c=a(20996);let d=(0,s.createContext)(null),g=e=>{let{children:t}=e,[a,g]=s.useState(null),[_,h]=s.useState(null),[f,m]=s.useState(null),[b,x]=s.useState(null),[v,p]=s.useState(null),[P,S]=s.useState(!0);return(0,s.useEffect)(()=>{!async function(){let e,t=await fetch("/firebase-config.json"),a=await t.json();0===(0,l.Dk)().length?(console.log("[Firebase] Initializing new instance..."),e=(0,l.Wp)(a)):(console.log("[Firebase] Reusing existing instance."),e=(0,l.Sx)()),g((0,n.xI)(e)),m((0,o.aU)(e)),x((0,i.c7)(e)),p((0,u.lS)(e,{backend:new u.C8})),h((0,c.dG)(e)),S(!1)}()},[]),(0,r.jsx)(d.Provider,{value:{authClient:a,db:f,storage:b,ai:v,messaging:_,loading:P},children:t})},_=()=>{let e=(0,s.useContext)(d);if(!e)throw Error("useFirebase must be used within FirebaseProvider");return e}},86325:(e,t,a)=>{"use strict";async function r(e){try{return localStorage.setItem("lastRoleUsed",e),null}catch(e){console.log("Error updating last role used:",e)}}function s(){try{return window.localStorage.getItem("lastRoleUsed")}catch(e){return console.log("Error retrieving last role used:",e),null}}a.d(t,{C:()=>r,K:()=>s})},94087:e=>{e.exports={container:"SelectRolePage_container__C9PsU",card:"SelectRolePage_card__C__XC",greeting:"SelectRolePage_greeting__Hij7z",intro:"SelectRolePage_intro__D6OZO",question:"SelectRolePage_question__AcAbI",actions:"SelectRolePage_actions__Bn303",note:"SelectRolePage_note__5MGXC",errorMessage:"SelectRolePage_errorMessage__M4dWK",loadingText:"SelectRolePage_loadingText__ARZfF"}},95950:e=>{e.exports={button:"ActionButton_button__YEcS_"}}},e=>{var t=t=>e(e.s=t);e.O(0,[3151,2992,5965,94,3063,8441,1684,7358],()=>t(43296)),_N_E=e.O()}]);