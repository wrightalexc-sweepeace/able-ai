(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4874],{9416:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var a=t(95155);t(12115);var o=t(35695),n=t(97718),i=t.n(n),s=t(66766);let l=()=>{let e=(0,o.useRouter)();return(0,a.jsx)("button",{onClick:()=>{e.push("settings")},className:i().settingsButton,"aria-label":"Settings",children:(0,a.jsx)(s.default,{src:"/images/settings.svg",alt:"Settings",width:35,height:35})})}},17576:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(19946).A)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},30504:(e,r,t)=>{"use strict";t.d(r,{q:()=>o});var a=t(34477);let o=(0,a.createServerReference)("400cd1fa767ef5281508e93e3ca1d7a0d11ad8371f",a.callServer,void 0,a.findSourceMapURL,"getAllNotificationsAction")},31964:e=>{e.exports={banner:"ReferralBanner_banner___J_Yw",iconWrapper:"ReferralBanner_iconWrapper__Ry8Qm",title:"ReferralBanner_title__3B1P5",description:"ReferralBanner_description__dBgfd",button:"ReferralBanner_button__T5AfG",tooltip:"ReferralBanner_tooltip__wWCmf",show:"ReferralBanner_show__KfyAI",loading:"ReferralBanner_loading__F_el9",spinner:"ReferralBanner_spinner__DW9fN",spin:"ReferralBanner_spin__mNTpU"}},39672:e=>{e.exports={loadingContainer:"Loader_loadingContainer__p_FTp",loader:"Loader_loader__8pViD",l3:"Loader_l3__h_z0X"}},45340:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>k});var a=t(95155),o=t(12115),n=t(35695),i=t(47703),s=t(83756),l=t(82794),c=t(93467),d=t(9416),u=t(79772),_=t(17576);let p=(0,t(19946).A)("calendar-check-2",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 14V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"bce9hv"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m16 20 2 2 4-4",key:"13tcca"}]]);var g=t(55868),m=t(75662),h=t.n(m),f=t(51078),v=t(25731),b=t(24972),R=t(79875),y=t(30504),x=t(6188);function k(){let e=(0,n.useParams)().userId,[r,t]=(0,o.useState)(0),[m,k]=(0,o.useState)(0),{user:w}=(0,v.A)(),j=null==w?void 0:w.token,A=(0,n.useRouter)();async function B(e){let{notifications:r,unreadCount:t}=await (0,y.q)(e);return k(t),r}(0,o.useEffect)(()=>{j&&B(j).catch(e=>{console.error("Failed to fetch notifications:",e)})},[j]);let E=async()=>{await (0,R.R)(),t(0)},N=null==w?void 0:w.uid,{suggestions:S,currentIndex:C,isLoading:G,error:T,dismissed:W,dismiss:I,refresh:P,goToNext:L,goToPrev:U}=(0,b.M)({role:"worker",userId:N||"",context:{profileCompletion:.7,recentActivity:"applied for 2 gigs",platformTrends:["high demand for photographers","weekend shifts available"]},enabled:!!N}),K=[{label:"Gigfolio",icon:(0,a.jsx)(u.A,{size:28}),to:"/user/".concat(N,"/worker/profile")},{label:"Offers",icon:(0,a.jsx)(_.A,{size:28}),to:"/user/".concat(N,"/worker/offers")},{label:"Calendar & Gigs",icon:(0,a.jsx)(p,{size:28}),to:"/user/".concat(N,"/worker/calendar")},{label:"Earnings & History",icon:(0,a.jsx)(g.A,{size:28}),to:"/user/".concat(N,"/worker/earnings")}];return!w||w&&N!==e?(0,a.jsx)(f.A,{}):(0,a.jsx)("div",{className:h().container,children:(0,a.jsxs)("div",{className:h().card,children:[(0,a.jsx)(x.A,{isHomePage:!0,onBackClick:()=>A.back(),handleClick:E,unreadCount:r,unreadNotifications:m}),N&&(0,a.jsx)(i.A,{suggestions:S,currentIndex:C,isLoading:G,error:T,dismissed:W,onDismiss:I,onRefresh:P,goToNext:L,goToPrev:U,userId:N}),(0,a.jsxs)("main",{className:h().contentWrapper,children:[(0,a.jsx)(s.A,{items:K}),(0,a.jsx)(l.A,{})]}),(0,a.jsxs)("footer",{className:h().pageFooter,children:[(0,a.jsx)(c.A,{}),(0,a.jsx)(d.A,{})]})]})})}},51078:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var a=t(95155),o=t(39672),n=t.n(o);let i=e=>{let{customClass:r,customStyle:t}=e;return(0,a.jsx)("div",{className:r||n().loadingContainer,style:t,children:(0,a.jsx)("div",{className:n().loader})})}},55868:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(19946).A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},67966:(e,r,t)=>{Promise.resolve().then(t.bind(t,45340))},75662:e=>{e.exports={container:"HomePage_container__WWUnL",card:"HomePage_card__gefKR",contentWrapper:"HomePage_contentWrapper__Yv2G_",logo:"HomePage_logo__EcFEN",sectionTitle:"HomePage_sectionTitle__GRWSm",summarySection:"HomePage_summarySection__efkRY",summaryList:"HomePage_summaryList__Ejz7l",viewAllLink:"HomePage_viewAllLink__WvbFY",pageFooter:"HomePage_pageFooter__vxgNc"}},77043:e=>{e.exports={toggleContainer:"RoleToggle_toggleContainer__57oSU",switchLabel:"RoleToggle_switchLabel__pZoWj",switchInput:"RoleToggle_switchInput__DeKTX",switchSlider:"RoleToggle_switchSlider__ZxmL4",roleToggleContainer:"RoleToggle_roleToggleContainer__LMBDn",activeRole:"RoleToggle_activeRole__ybiWv",inactiveRole:"RoleToggle_inactiveRole__QynR1",separator:"RoleToggle_separator__kZnpd"}},78114:e=>{e.exports={grid:"IconGrid_grid__ldRKk",card:"IconGrid_card__E9oa2",iconWrapper:"IconGrid_iconWrapper__uwa1q",label:"IconGrid_label__rBApp"}},79772:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(19946).A)("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]])},79875:(e,r,t)=>{"use strict";t.d(r,{R:()=>i,v:()=>n});let a="notifications-db",o="counters";async function n(){return new Promise((e,r)=>{let t=indexedDB.open(a,5);t.onerror=()=>{r(t.error)},t.onupgradeneeded=()=>{let e=t.result;e.objectStoreNames.contains(o)||e.createObjectStore(o,{keyPath:"id"})},t.onsuccess=()=>{let a=t.result.transaction(o,"readonly").objectStore(o).get("unread");a.onsuccess=()=>{var r;e((null==(r=a.result)?void 0:r.count)||0)},a.onerror=()=>{r(a.error)}}})}async function i(){return new Promise((e,r)=>{let t=indexedDB.open(a,5);t.onerror=()=>{r(t.error)},t.onupgradeneeded=()=>{let e=t.result;e.objectStoreNames.contains(o)||e.createObjectStore(o,{keyPath:"id"})},t.onsuccess=()=>{let a=t.result.transaction(o,"readwrite").objectStore(o).put({id:"unread",count:0});a.onsuccess=()=>{e()},a.onerror=()=>{r(a.error)}}})}},82794:(e,r,t)=>{"use strict";t.d(r,{A:()=>_});var a=t(95155),o=t(12115),n=t(31964),i=t.n(n),s=t(51154);let l=(0,t(19946).A)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);var c=t(93438),d=t(34477);let u=(0,d.createServerReference)("7febd407effd0bf8897393b517c555c17a8bb2313b",d.callServer,void 0,d.findSourceMapURL,"getUserReferralCodeAction"),_=e=>{let{role:r}=e,[t,n]=(0,o.useState)(""),[d,_]=(0,o.useState)(!1),[p,g]=(0,o.useState)(!1),m=(0,o.useRef)(null);(0,o.useEffect)(()=>()=>{m.current&&clearTimeout(m.current)},[]);let h=e=>navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e):(f(e),Promise.resolve()),f=e=>{let r=document.createElement("input");r.value=e,document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r)},v=async()=>{if(p)return;m.current&&clearTimeout(m.current),g(!0);let e=c.yK.currentUser;if(!e){n("Please log in to get your link"),_(!0),m.current=setTimeout(()=>_(!1),3e3),g(!1);return}try{let r=await u({firebaseUid:e.uid});if(!r||!r.code)throw Error("Discount code not found");let t="".concat(window.location.origin,"/signin?code=").concat(r.code);await h(t),n("Referral link ready with discount code ".concat(r.code)),_(!0)}catch(e){console.error("Failed to copy referral link:",e),n("Could not get link. Try again."),_(!0)}finally{g(!1),m.current=setTimeout(()=>{_(!1)},3e3)}};return(0,a.jsxs)("button",{className:"".concat(i().banner," ").concat(i().button," ").concat("BUYER"===r?i().buyer:""," ").concat(p?i().loading:""),onClick:v,disabled:p,"aria-describedby":"referral-tooltip",children:[(0,a.jsx)("div",{className:i().iconWrapper,children:p?(0,a.jsx)(s.A,{size:24,className:i().spinner}):(0,a.jsx)(l,{size:24})}),(0,a.jsx)("div",{className:i().textWrapper,children:(0,a.jsx)("h4",{className:i().title,children:"Refer a business and earn \xa35!"})}),(0,a.jsx)("span",{id:"referral-tooltip",role:"tooltip",className:"".concat(i().tooltip," ").concat(d?i().show:""),children:t})]})}},83756:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var a=t(95155);t(12115);var o=t(6874),n=t.n(o),i=t(78114),s=t.n(i);let l=e=>{let{items:r=[],color:t="#41a1e8"}=e;return(0,a.jsx)("div",{className:s().grid,children:r.map(e=>(0,a.jsxs)(n(),{href:e.to,className:s().card,children:[(0,a.jsx)("div",{className:s().iconWrapper,style:{backgroundColor:t},children:e.icon}),(0,a.jsx)("span",{className:s().label,children:e.label})]},e.label))})}},93438:(e,r,t)=>{"use strict";let a;t.d(r,{xv:()=>a,yK:()=>c});var o=t(23915),n=t(16203),i=t(35317),s=t(90858),l=t(74826);t(20996),a=(0,o.Dk)().length?(0,o.Sx)():(0,o.Wp)({apiKey:"AIzaSyBF7DIyylS8ByVbXxdmnmLkKpLyXSdEbQA",authDomain:"ableai-mvp.firebaseapp.com",projectId:"ableai-mvp",storageBucket:"ableai-mvp.firebasestorage.app",messagingSenderId:"697522507372",appId:"1:697522507372:web:7ce039897f0e597d4d9249"});let c=(0,n.xI)(a);(0,i.aU)(a),(0,s.c7)(a),(0,l.lS)(a,{backend:new l.C8})},93467:(e,r,t)=>{"use strict";t.d(r,{A:()=>u});var a=t(95155),o=t(12115),n=t(35695),i=t(56671),s=t(77043),l=t.n(s),c=t(86325),d=t(25731);let u=o.memo(e=>{var r,t;let{lastViewVisited:o}=e,s=(0,n.useRouter)(),u=(0,c.K)(),{user:_}=(0,d.A)(),p=(null==_||null==(r=_.claims)?void 0:r.role)==="GIG_WORKER"||(null==_||null==(t=_.claims)?void 0:t.role)==="QA",g="BUYER"===u?"BUYER":p?"GIG_WORKER":"BUYER",m=async e=>{if(e!==g||o)try{if("GIG_WORKER"===e&&!p){i.oR.error("You cannot switch to worker mode, please complete onboarding first."),s.push("/user/".concat(null==_?void 0:_.uid,"/worker/onboarding-ai"));return}let r="/user/".concat(null==_?void 0:_.uid,"/").concat("GIG_WORKER"===e?"worker":"buyer");await (0,c.C)(e),s.push(o||r)}catch(e){console.error("Failed to switch role:",e),i.oR.error("Failed to switch roles. Please try again.")}};return(0,a.jsxs)("div",{className:l().roleToggleContainer,children:[(0,a.jsx)("button",{type:"button",className:"GIG_WORKER"===g?l().activeRole:l().inactiveRole,disabled:"GIG_WORKER"===g,onClick:()=>m("GIG_WORKER"),"aria-pressed":"GIG_WORKER"===g,children:"GIGEE"}),(0,a.jsx)("button",{type:"button",className:"BUYER"===g?l().activeRole:l().inactiveRole,disabled:"BUYER"===g,onClick:()=>m("BUYER"),"aria-pressed":"BUYER"===g,children:"BUYER"})]})})},97718:e=>{e.exports={settingsButton:"SettingsButton_settingsButton__QJQM3"}}},e=>{var r=r=>e(e.s=r);e.O(0,[7843,3151,2006,2992,5965,94,3063,6874,3753,1163,8466,8441,1684,7358],()=>r(67966)),_N_E=e.O()}]);