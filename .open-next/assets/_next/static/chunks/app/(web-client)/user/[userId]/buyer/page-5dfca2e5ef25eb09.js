(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6219],{9416:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(95155);r(12115);var o=r(35695),n=r(97718),i=r.n(n),s=r(66766);let l=()=>{let e=(0,o.useRouter)();return(0,a.jsx)("button",{onClick:()=>{e.push("settings")},className:i().settingsButton,"aria-label":"Settings",children:(0,a.jsx)(s.default,{src:"/images/settings.svg",alt:"Settings",width:35,height:35})})}},17580:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},23562:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(19946).A)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]])},30504:(e,t,r)=>{"use strict";r.d(t,{q:()=>o});var a=r(34477);let o=(0,a.createServerReference)("400cd1fa767ef5281508e93e3ca1d7a0d11ad8371f",a.callServer,void 0,a.findSourceMapURL,"getAllNotificationsAction")},31964:e=>{e.exports={banner:"ReferralBanner_banner___J_Yw",iconWrapper:"ReferralBanner_iconWrapper__Ry8Qm",title:"ReferralBanner_title__3B1P5",description:"ReferralBanner_description__dBgfd",button:"ReferralBanner_button__T5AfG",tooltip:"ReferralBanner_tooltip__wWCmf",show:"ReferralBanner_show__KfyAI",loading:"ReferralBanner_loading__F_el9",spinner:"ReferralBanner_spinner__DW9fN",spin:"ReferralBanner_spin__mNTpU"}},39672:e=>{e.exports={loadingContainer:"Loader_loadingContainer__p_FTp",loader:"Loader_loader__8pViD",l3:"Loader_l3__h_z0X"}},51078:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var a=r(95155),o=r(39672),n=r.n(o);let i=e=>{let{customClass:t,customStyle:r}=e;return(0,a.jsx)("div",{className:t||n().loadingContainer,style:r,children:(0,a.jsx)("div",{className:n().loader})})}},55967:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>w});var a=r(95155),o=r(12115),n=r(19946);let i=(0,n.A)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var s=r(17580),l=r(23562);let c=(0,n.A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);var d=r(47703),u=r(83756),_=r(82794),g=r(93467),p=r(9416),h=r(51078),m=r(75887),y=r.n(m),v=r(25731),b=r(24972),f=r(79875),R=r(30504),x=r(6188),k=r(35695);function w(){let{user:e}=(0,v.A)(),[t,r]=(0,o.useState)(0),[n,m]=(0,o.useState)(0),{user:w}=(0,v.A)(),j=(0,k.useRouter)(),B=null==w?void 0:w.token;async function A(e){let{unreadCount:t}=await (0,R.q)(e);m(t)}(0,o.useEffect)(()=>{(0,f.v)().then(r).catch(console.error)},[]);let S=async()=>{await (0,f.R)(),r(0)},E=null==e?void 0:e.uid;(0,o.useEffect)(()=>{w&&B&&A(B).catch(e=>{console.error("Failed to fetch notifications:",e)})},[w,B]);let{suggestions:N,currentIndex:C,isLoading:G,error:P,dismissed:T,dismiss:I,refresh:W,goToNext:M,goToPrev:K}=(0,b.M)({role:"buyer",userId:E||"",context:{lastGigPosted:"2 days ago",activeGigs:3,platformTrends:["increased demand for catering","more remote work options"]},enabled:!!E}),H=[{label:"Dashboard",icon:(0,a.jsx)(i,{size:28}),to:"/user/".concat(E,"/buyer/profile")},{label:"Hire",icon:(0,a.jsx)(s.A,{size:28}),to:"/user/".concat(E,"/buyer/gigs/new")},{label:"Calendar & Gigs",icon:(0,a.jsx)(l.A,{size:28}),to:"/user/".concat(E,"/buyer/calendar")},{label:"Payments & History",icon:(0,a.jsx)(c,{size:28}),to:"/user/".concat(E,"/buyer/payments")}];return e?(0,a.jsx)("div",{className:y().container,children:(0,a.jsxs)("div",{className:y().card,children:[(0,a.jsx)(x.A,{isHomePage:!0,onBackClick:()=>j.back(),handleClick:S,unreadCount:t,unreadNotifications:n}),E&&(0,a.jsx)(d.A,{suggestions:N,currentIndex:C,isLoading:G,error:P,dismissed:T,onDismiss:I,onRefresh:W,goToNext:M,goToPrev:K,userId:E}),(0,a.jsxs)("main",{className:y().contentWrapper,children:[(0,a.jsx)(u.A,{items:H,color:"#7eeef9"}),(0,a.jsx)(_.A,{role:"BUYER"})]}),(0,a.jsxs)("footer",{className:y().pageFooter,children:[(0,a.jsx)(g.A,{}),(0,a.jsx)(p.A,{})]})]})}):(0,a.jsx)(h.A,{})}},75887:e=>{e.exports={container:"HomePage_container__qFtKS",card:"HomePage_card__u3Rkd",contentWrapper:"HomePage_contentWrapper__XJqRP",pageHeader:"HomePage_pageHeader__qgFeu",welcomeMessage:"HomePage_welcomeMessage__VDJfv",notificationButton:"HomePage_notificationButton__hgEki",sectionTitle:"HomePage_sectionTitle__XfvP_",summarySection:"HomePage_summarySection__uKoKs",summaryList:"HomePage_summaryList__vRk5_",viewAllLink:"HomePage_viewAllLink__Cvbmx",pageFooter:"HomePage_pageFooter__8V6FK",notificationBadge:"HomePage_notificationBadge__dU4hG"}},77043:e=>{e.exports={toggleContainer:"RoleToggle_toggleContainer__57oSU",switchLabel:"RoleToggle_switchLabel__pZoWj",switchInput:"RoleToggle_switchInput__DeKTX",switchSlider:"RoleToggle_switchSlider__ZxmL4",roleToggleContainer:"RoleToggle_roleToggleContainer__LMBDn",activeRole:"RoleToggle_activeRole__ybiWv",inactiveRole:"RoleToggle_inactiveRole__QynR1",separator:"RoleToggle_separator__kZnpd"}},78114:e=>{e.exports={grid:"IconGrid_grid__ldRKk",card:"IconGrid_card__E9oa2",iconWrapper:"IconGrid_iconWrapper__uwa1q",label:"IconGrid_label__rBApp"}},79875:(e,t,r)=>{"use strict";r.d(t,{R:()=>i,v:()=>n});let a="notifications-db",o="counters";async function n(){return new Promise((e,t)=>{let r=indexedDB.open(a,5);r.onerror=()=>{t(r.error)},r.onupgradeneeded=()=>{let e=r.result;e.objectStoreNames.contains(o)||e.createObjectStore(o,{keyPath:"id"})},r.onsuccess=()=>{let a=r.result.transaction(o,"readonly").objectStore(o).get("unread");a.onsuccess=()=>{var t;e((null==(t=a.result)?void 0:t.count)||0)},a.onerror=()=>{t(a.error)}}})}async function i(){return new Promise((e,t)=>{let r=indexedDB.open(a,5);r.onerror=()=>{t(r.error)},r.onupgradeneeded=()=>{let e=r.result;e.objectStoreNames.contains(o)||e.createObjectStore(o,{keyPath:"id"})},r.onsuccess=()=>{let a=r.result.transaction(o,"readwrite").objectStore(o).put({id:"unread",count:0});a.onsuccess=()=>{e()},a.onerror=()=>{t(a.error)}}})}},82794:(e,t,r)=>{"use strict";r.d(t,{A:()=>_});var a=r(95155),o=r(12115),n=r(31964),i=r.n(n),s=r(51154);let l=(0,r(19946).A)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);var c=r(93438),d=r(34477);let u=(0,d.createServerReference)("7febd407effd0bf8897393b517c555c17a8bb2313b",d.callServer,void 0,d.findSourceMapURL,"getUserReferralCodeAction"),_=e=>{let{role:t}=e,[r,n]=(0,o.useState)(""),[d,_]=(0,o.useState)(!1),[g,p]=(0,o.useState)(!1),h=(0,o.useRef)(null);(0,o.useEffect)(()=>()=>{h.current&&clearTimeout(h.current)},[]);let m=e=>navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e):(y(e),Promise.resolve()),y=e=>{let t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},v=async()=>{if(g)return;h.current&&clearTimeout(h.current),p(!0);let e=c.yK.currentUser;if(!e){n("Please log in to get your link"),_(!0),h.current=setTimeout(()=>_(!1),3e3),p(!1);return}try{let t=await u({firebaseUid:e.uid});if(!t||!t.code)throw Error("Discount code not found");let r="".concat(window.location.origin,"/signin?code=").concat(t.code);await m(r),n("Referral link ready with discount code ".concat(t.code)),_(!0)}catch(e){console.error("Failed to copy referral link:",e),n("Could not get link. Try again."),_(!0)}finally{p(!1),h.current=setTimeout(()=>{_(!1)},3e3)}};return(0,a.jsxs)("button",{className:"".concat(i().banner," ").concat(i().button," ").concat("BUYER"===t?i().buyer:""," ").concat(g?i().loading:""),onClick:v,disabled:g,"aria-describedby":"referral-tooltip",children:[(0,a.jsx)("div",{className:i().iconWrapper,children:g?(0,a.jsx)(s.A,{size:24,className:i().spinner}):(0,a.jsx)(l,{size:24})}),(0,a.jsx)("div",{className:i().textWrapper,children:(0,a.jsx)("h4",{className:i().title,children:"Refer a business and earn \xa35!"})}),(0,a.jsx)("span",{id:"referral-tooltip",role:"tooltip",className:"".concat(i().tooltip," ").concat(d?i().show:""),children:r})]})}},83756:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(95155);r(12115);var o=r(6874),n=r.n(o),i=r(78114),s=r.n(i);let l=e=>{let{items:t=[],color:r="#41a1e8"}=e;return(0,a.jsx)("div",{className:s().grid,children:t.map(e=>(0,a.jsxs)(n(),{href:e.to,className:s().card,children:[(0,a.jsx)("div",{className:s().iconWrapper,style:{backgroundColor:r},children:e.icon}),(0,a.jsx)("span",{className:s().label,children:e.label})]},e.label))})}},88117:(e,t,r)=>{Promise.resolve().then(r.bind(r,55967))},93438:(e,t,r)=>{"use strict";let a;r.d(t,{xv:()=>a,yK:()=>c});var o=r(23915),n=r(16203),i=r(35317),s=r(90858),l=r(74826);r(20996),a=(0,o.Dk)().length?(0,o.Sx)():(0,o.Wp)({apiKey:"AIzaSyBF7DIyylS8ByVbXxdmnmLkKpLyXSdEbQA",authDomain:"ableai-mvp.firebaseapp.com",projectId:"ableai-mvp",storageBucket:"ableai-mvp.firebasestorage.app",messagingSenderId:"697522507372",appId:"1:697522507372:web:7ce039897f0e597d4d9249"});let c=(0,n.xI)(a);(0,i.aU)(a),(0,s.c7)(a),(0,l.lS)(a,{backend:new l.C8})},93467:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var a=r(95155),o=r(12115),n=r(35695),i=r(56671),s=r(77043),l=r.n(s),c=r(86325),d=r(25731);let u=o.memo(e=>{var t,r;let{lastViewVisited:o}=e,s=(0,n.useRouter)(),u=(0,c.K)(),{user:_}=(0,d.A)(),g=(null==_||null==(t=_.claims)?void 0:t.role)==="GIG_WORKER"||(null==_||null==(r=_.claims)?void 0:r.role)==="QA",p="BUYER"===u?"BUYER":g?"GIG_WORKER":"BUYER",h=async e=>{if(e!==p||o)try{if("GIG_WORKER"===e&&!g){i.oR.error("You cannot switch to worker mode, please complete onboarding first."),s.push("/user/".concat(null==_?void 0:_.uid,"/worker/onboarding-ai"));return}let t="/user/".concat(null==_?void 0:_.uid,"/").concat("GIG_WORKER"===e?"worker":"buyer");await (0,c.C)(e),s.push(o||t)}catch(e){console.error("Failed to switch role:",e),i.oR.error("Failed to switch roles. Please try again.")}};return(0,a.jsxs)("div",{className:l().roleToggleContainer,children:[(0,a.jsx)("button",{type:"button",className:"GIG_WORKER"===p?l().activeRole:l().inactiveRole,disabled:"GIG_WORKER"===p,onClick:()=>h("GIG_WORKER"),"aria-pressed":"GIG_WORKER"===p,children:"GIGEE"}),(0,a.jsx)("button",{type:"button",className:"BUYER"===p?l().activeRole:l().inactiveRole,disabled:"BUYER"===p,onClick:()=>h("BUYER"),"aria-pressed":"BUYER"===p,children:"BUYER"})]})})},97718:e=>{e.exports={settingsButton:"SettingsButton_settingsButton__QJQM3"}}},e=>{var t=t=>e(e.s=t);e.O(0,[7843,3151,2006,2992,5965,94,3063,6874,3753,1163,8466,8441,1684,7358],()=>t(88117)),_N_E=e.O()}]);