(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2694],{46348:(e,t,a)=>{Promise.resolve().then(a.bind(a,74233))},74233:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>w});var r=a(95155),n=a(12115),i=a(35695),o=a(8181),l=a(9698),s=a(77088),u=a(91749),d=a(25731),_=a(11652),g=a(96496),c=a.n(g),h=a(6188);let f=["Accepted gigs","See gig offers"];function v(e,t){switch(t){case"Accepted gigs":return e.filter(e=>"ACCEPTED"===e.status);case"See gig offers":return e.filter(e=>"OFFER"===e.status);default:return e}}let w=()=>{let e=(0,i.usePathname)(),t=(0,i.useRouter)(),a=(0,i.useParams)().userId,{user:g,loading:w}=(0,d.A)(),y=null==g?void 0:g.uid,[B,m]=(0,n.useState)(()=>window.innerWidth<768?"day":"week"),[C,P]=(0,n.useState)(new Date),[p,E]=(0,n.useState)(f[0]),[D,N]=(0,n.useState)([]),[b,k]=(0,n.useState)([]),[A,x]=(0,n.useState)(null),[S,T]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{if(!w){if(!g)return void t.push("/signin?redirect=".concat(e));if(y!==a)return void t.push("/signin?error=unauthorized")}},[w]),(0,n.useEffect)(()=>{(async()=>{if(!g)return;let e=await (0,_.O)({userId:g.uid,role:"buyer",isViewQA:!0});if(e.error)throw Error(e.error);let t=e.events.map(e=>({...e,start:new Date(e.start),end:new Date(e.end)})).map(e=>{let t={...e};if(t.buyerName="You",!t.workerName||"You"===t.workerName){var a;let e="string"==typeof t.title?null==(a=t.title.split(":").pop())?void 0:a.trim():void 0;e&&e.length>0&&e!==t.title&&(t.workerName=e)}return t});k(t),N(v(t,p))})()},[w]),(0,r.jsxs)("div",{className:c().container,children:[(0,r.jsx)(h.A,{onBackClick:()=>t.back()}),(0,r.jsx)(l.A,{date:C,view:B,role:"buyer",onViewChange:e=>{m(e)},onNavigate:e=>{let t=new Date(C);"TODAY"===e?P(new Date):"PREV"===e?("day"===B&&t.setDate(t.getDate()-1),"week"===B&&t.setDate(t.getDate()-7),"month"===B&&t.setMonth(t.getMonth()-1),P(t)):"NEXT"===e&&("day"===B&&t.setDate(t.getDate()+1),"week"===B&&t.setDate(t.getDate()+7),"month"===B&&t.setMonth(t.getMonth()+1),P(t))},filters:f,activeFilter:p,onFilterChange:e=>{N(v(b,e)),E(e)}}),(0,r.jsx)("main",{className:c().mainContent,children:(0,r.jsx)(o.A,{events:D,date:C,view:B,onView:m,onNavigate:P,onSelectEvent:e=>{x(e),T(!0)},userRole:"buyer",activeFilter:p,components:{event:e=>{let{event:t}=e;return(0,r.jsx)(s.A,{event:t,userRole:"buyer",view:B,activeFilter:p})}},hideToolbar:!0})}),(0,r.jsx)(u.A,{event:A,isOpen:S,onClose:()=>{T(!1),x(null)},userRole:"buyer"})]})}},96496:e=>{e.exports={container:"BuyerCalendarPage_container__vpw0B",header:"BuyerCalendarPage_header__0wLE4",headerTop:"BuyerCalendarPage_headerTop__42t6f",menuButton:"BuyerCalendarPage_menuButton__x6AyV",headerBottom:"BuyerCalendarPage_headerBottom__O0BBs",filterPills:"BuyerCalendarPage_filterPills__4h_XY",filterPill:"BuyerCalendarPage_filterPill__BCNyx",activePill:"BuyerCalendarPage_activePill__KTEqz",mainContent:"BuyerCalendarPage_mainContent__Yv9v9",filterTransitioning:"BuyerCalendarPage_filterTransitioning__xuI6z",footer:"BuyerCalendarPage_footer__9_dEN",homeButton:"BuyerCalendarPage_homeButton__EZXQT",dashboardButton:"BuyerCalendarPage_dashboardButton__GSdVP"}}},e=>{var t=t=>e(e.s=t);e.O(0,[5348,5787,2006,3151,2992,5965,586,9586,94,3063,6874,4086,5243,2170,8441,1684,7358],()=>t(46348)),_N_E=e.O()}]);