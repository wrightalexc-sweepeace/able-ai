(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5596],{6961:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var a=n(95155),s=n(12115),i=n(35695),r=n(48458),_=n(55855),o=n(34477);let g=(0,o.createServerReference)("78fc8a25fbe5adb6fffd743a661a897bd5709f9c05",o.callServer,void 0,o.findSourceMapURL,"paymentMethodSaved");var c=n(28805),d=n.n(c);let u=e=>{let{customerId:t,setupIntentClientSecret:n,userId:r}=e,o=(0,_.useStripe)(),c=(0,i.useRouter)(),[u,l]=(0,s.useState)(null);return(0,s.useEffect)(()=>{async function e(){if(!o||!n||!t||!r)return;let{setupIntent:e}=await o.retrieveSetupIntent(n);if(!e)return void l("Error: Could not retrieve the SetupIntent.");switch(e.status){case"succeeded":l("\xa1Your primary payment method has been saved successfully.!"),await g(r,t,e.status,e.payment_method);break;case"processing":l("Your payment method is being processed...");break;case"requires_payment_method":l("Your payment method could not be saved. Please try again.");break;case"canceled":l("The payment method save operation was canceled.");break;default:l("Unknown state of the SetupIntent: ".concat(e.status))}setTimeout(()=>{c.push("/user/".concat(r,"/settings"))},3e3)}n&&e()},[o,n,c,r]),(0,a.jsx)("div",{className:d().container,children:(0,a.jsx)("div",{className:d().card,children:(0,a.jsxs)("div",{style:{padding:"20px",textAlign:"center"},children:[(0,a.jsx)("header",{className:d().pageHeader,children:(0,a.jsx)("h1",{children:"Checking payment method status..."})}),(0,a.jsx)("p",{children:u||"Please, do not close this window."})]})})})},l=()=>{let{userId:e}=(0,i.useParams)(),t=(0,i.useSearchParams)(),n=t.get("customer_id"),s=t.get("setup_intent_client_secret");return(0,a.jsx)(r.A,{options:{},children:(0,a.jsx)(u,{customerId:n,setupIntentClientSecret:s,userId:e})})}},28805:e=>{e.exports={container:"SettingsPage_container__x7Ugk",card:"SettingsPage_card__RPA5a",pageWrapper:"SettingsPage_pageWrapper__jAv2v",pageHeader:"SettingsPage_pageHeader__IPiGF",section:"SettingsPage_section__53RKH",sectionTitle:"SettingsPage_sectionTitle__neP96",form:"SettingsPage_form__sbwBS",formGroup:"SettingsPage_formGroup__6o89j",label:"SettingsPage_label__7ReZn",inputField:"SettingsPage_inputField__ywxTh",actionButtons:"SettingsPage_actionButtons__Wpvj0",button:"SettingsPage_button__UO4k9",secondary:"SettingsPage_secondary__ifHfj",danger:"SettingsPage_danger__6o6Pv",errorMessage:"SettingsPage_errorMessage__TbRSe",successMessage:"SettingsPage_successMessage__oEpcO",verificationSection:"SettingsPage_verificationSection__enDg_",verificationHeader:"SettingsPage_verificationHeader__BM_6D",warningIcon:"SettingsPage_warningIcon__lJrub",verificationModalTitle:"SettingsPage_verificationModalTitle__Go0QF",verificationText:"SettingsPage_verificationText__kQWg8",verificationActions:"SettingsPage_verificationActions__S_Z8e",resendButton:"SettingsPage_resendButton__F7p0K",modalOverlay:"SettingsPage_modalOverlay__3E3Hd",modalContent:"SettingsPage_modalContent__SxHiM",modalTitle:"SettingsPage_modalTitle__EqqS9",modalActions:"SettingsPage_modalActions__GOE9o",closeButton:"SettingsPage_closeButton__HJ688",modalHeader:"SettingsPage_modalHeader__IXvxa",bottomNavSection:"SettingsPage_bottomNavSection__Fvvyt",bottomNav:"SettingsPage_bottomNav__YBsS_",bottomNavLink:"SettingsPage_bottomNavLink__4aE_x",dangerLink:"SettingsPage_dangerLink__xIS_c",pageDescription:"SettingsPage_pageDescription__dhnvR",profileInfo:"SettingsPage_profileInfo__VGWTF",linkList:"SettingsPage_linkList__OkGOY",passwordChangeSection:"SettingsPage_passwordChangeSection__57gx8",loadingContainer:"SettingsPage_loadingContainer__3uwln",stripePromptInline:"SettingsPage_stripePromptInline__1xf3_",stripePromptHeader:"SettingsPage_stripePromptHeader___PeiB",stripeIconWrapper:"SettingsPage_stripeIconWrapper__HPLJp",stripeButton:"SettingsPage_stripeButton__9mpfO",stripeStatus:"SettingsPage_stripeStatus__q3LlT",stripeStatusBannerConnected:"SettingsPage_stripeStatusBannerConnected__2y3qb",settingItem:"SettingsPage_settingItem__qzFsE",settingLabel:"SettingsPage_settingLabel__cpvHX"}},35695:(e,t,n)=>{"use strict";var a=n(18999);n.o(a,"useParams")&&n.d(t,{useParams:function(){return a.useParams}}),n.o(a,"usePathname")&&n.d(t,{usePathname:function(){return a.usePathname}}),n.o(a,"useRouter")&&n.d(t,{useRouter:function(){return a.useRouter}}),n.o(a,"useSearchParams")&&n.d(t,{useSearchParams:function(){return a.useSearchParams}})},48458:(e,t,n)=>{"use strict";let a;n.d(t,{A:()=>g});var s=n(95155);n(12115);var i=n(55855),r=n(7368),_=n(49509);let o=async()=>{if(!_.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY)throw Error("Missing Stripe Public Key");return a||(a=(0,r.c)(_.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY)),a},g=e=>{let{children:t,options:n}=e;return(0,s.jsx)(i.Elements,{stripe:o(),options:n,children:t})}},87230:(e,t,n)=>{Promise.resolve().then(n.bind(n,6961))}},e=>{var t=t=>e(e.s=t);e.O(0,[7208,4190,8441,1684,7358],()=>t(87230)),_N_E=e.O()}]);