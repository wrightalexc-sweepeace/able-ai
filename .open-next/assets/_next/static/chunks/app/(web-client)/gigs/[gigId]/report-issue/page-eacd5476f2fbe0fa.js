(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4677],{6188:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var l=a(95155);a(12115);var s=a(35169),r=a(12908),n=a.n(r),i=a(6874),o=a.n(i),u=a(25731),c=a(53843),d=a(35695),p=a(66766),_=a(61508),h=a.n(_);let f=e=>{let{uid:t,handleClick:a,unreadCount:s,unreadNotifications:r}=e;return(0,l.jsxs)(o(),{href:"/user/".concat(t,"/notifications"),passHref:!0,onClick:a,children:[(0,l.jsx)("button",{className:h().notificationButton,"aria-label":"Notifications",children:(0,l.jsx)(p.default,{src:"/images/notifications.svg",alt:"Notifications",width:40,height:40})}),s>0||r>0?(0,l.jsx)("span",{className:h().notificationBadge,children:s>0?s:r}):null]})},m=e=>{let{user:t}=(0,u.A)(),a=(0,d.usePathname)(),{isHomePage:r,title:i,onBackClick:_,handleClick:h,unreadCount:m,unreadNotifications:g}=e,b=a.includes("/able-ai");return(0,l.jsxs)("header",{className:n().header,children:[r?(0,l.jsx)(p.default,{src:"/images/home.svg",alt:"Back",width:40,height:40}):(0,l.jsx)("button",{onClick:_,className:n().backButton,"aria-label":"Go back",children:(0,l.jsx)(s.A,{size:20})}),i&&(0,l.jsx)("h1",{className:n().title,children:i}),(0,l.jsx)(o(),{href:"/user/".concat(null==t?void 0:t.uid,"/able-ai"),className:n().chat,children:b?(0,l.jsx)(c.A,{width:40,height:40}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{children:"Chat with Able"}),(0,l.jsx)(c.A,{width:30,height:30})]})}),r&&(0,l.jsx)(f,{uid:null==t?void 0:t.uid,handleClick:h,unreadCount:m,unreadNotifications:g})]})}},7580:e=>{e.exports={formField:"LabelledSelectInput_formField__A5E4w",fieldLabel:"LabelledSelectInput_fieldLabel__qtj4I",selectContainer:"LabelledSelectInput_selectContainer__3kbOx",selectInput:"LabelledSelectInput_selectInput__uV9em"}},12908:e=>{e.exports={header:"ScreenHeaderWithBack_header__mx1Ch",backButton:"ScreenHeaderWithBack_backButton__0EIlD",title:"ScreenHeaderWithBack_title__Un97C",chat:"ScreenHeaderWithBack_chat__WpLse"}},19946:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var l=a(12115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),n=e=>{let t=r(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()},o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var u={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,l.forwardRef)((e,t)=>{let{color:a="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:c="",children:d,iconNode:p,..._}=e;return(0,l.createElement)("svg",{ref:t,...u,width:s,height:s,stroke:a,strokeWidth:n?24*Number(r)/Number(s):r,className:i("lucide",c),...!d&&!o(_)&&{"aria-hidden":"true"},..._},[...p.map(e=>{let[t,a]=e;return(0,l.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let a=(0,l.forwardRef)((a,r)=>{let{className:o,...u}=a;return(0,l.createElement)(c,{ref:r,iconNode:t,className:i("lucide-".concat(s(n(e))),"lucide-".concat(e),o),...u})});return a.displayName=n(e),a}},25731:(e,t,a)=>{"use strict";a.d(t,{A:()=>c,O:()=>u});var l=a(95155),s=a(12115),r=a(16203),n=a(85004);let i=(0,s.createContext)({user:null,loading:!0});async function o(e){for(let a=0;a<10;a++){var t;let a=await (0,r.yx)(e,!0);if(null==(t=a.claims)?void 0:t.role)return a;await new Promise(e=>setTimeout(e,1e3))}return null}let u=e=>{let{children:t}=e,[a,u]=(0,s.useState)(null),[c,d]=(0,s.useState)(!0),{authClient:p,loading:_}=(0,n.D)();return(0,s.useEffect)(()=>{let e=()=>{};return!_&&p&&(e=(0,r.hg)(p,async e=>{if(e){let t=await o(e);t?u(Object.assign(e,{token:t.token,claims:t.claims})):u(null)}else u(null);d(!1)})),()=>e()},[_]),(0,l.jsx)(i.Provider,{value:{user:a,loading:c},children:t})},c=()=>(0,s.useContext)(i)},31575:e=>{e.exports={formCard:"FormCard_formCard__Q_ona"}},35169:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(19946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},35695:(e,t,a)=>{"use strict";var l=a(18999);a.o(l,"useParams")&&a.d(t,{useParams:function(){return l.useParams}}),a.o(l,"usePathname")&&a.d(t,{usePathname:function(){return l.usePathname}}),a.o(l,"useRouter")&&a.d(t,{useRouter:function(){return l.useRouter}}),a.o(l,"useSearchParams")&&a.d(t,{useSearchParams:function(){return l.useSearchParams}})},50492:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(19946).A)("paperclip",[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]])},53843:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var l=a(95155);a(12115);var s=a(66766),r=a(69456),n=a.n(r);let i=e=>{let{width:t=260,height:a=260}=e;return(0,l.jsx)(s.default,{src:"/images/ableai.png",alt:"App Logo",width:t,height:a,className:n().logo})}},61508:e=>{e.exports={notificationButton:"Notification_notificationButton__NL740",notificationBadge:"Notification_notificationBadge__ZxPNU"}},66766:(e,t,a)=>{"use strict";a.d(t,{default:()=>s.a});var l=a(71469),s=a.n(l)},69456:e=>{e.exports={logo:"Logo_logo__aLQuM"}},71469:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return o},getImageProps:function(){return i}});let l=a(88229),s=a(38883),r=a(33063),n=l._(a(51193));function i(e){let{props:t}=(0,s.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let o=r.Image},84445:e=>{e.exports={pageContainer:"ReportIssuePage_pageContainer__PkMIc",screenHeader:"ReportIssuePage_screenHeader__qCuL7",backButton:"ReportIssuePage_backButton__ahf6_",screenTitle:"ReportIssuePage_screenTitle__aEejR",chatBot:"ReportIssuePage_chatBot__vIKqx",formCard:"ReportIssuePage_formCard__O828Q",formField:"ReportIssuePage_formField__ZSkOy",fieldLabel:"ReportIssuePage_fieldLabel__3qMur",selectContainer:"ReportIssuePage_selectContainer__7auHx",selectInput:"ReportIssuePage_selectInput__Faz_l",textareaInput:"ReportIssuePage_textareaInput__M5_9G",fileUploadButton:"ReportIssuePage_fileUploadButton__b1cH2",fileInputHidden:"ReportIssuePage_fileInputHidden__JhETD",fileUploadLabel:"ReportIssuePage_fileUploadLabel__XxzAo",fileUploadIcon:"ReportIssuePage_fileUploadIcon__O1u5p",submitButton:"ReportIssuePage_submitButton__koFZ3",errorMessage:"ReportIssuePage_errorMessage__QysYE",chatWidgetCard:"ReportIssuePage_chatWidgetCard__46NzX",chatHeader:"ReportIssuePage_chatHeader__ZusQM",botAvatar:"ReportIssuePage_botAvatar___Iils",chatTitle:"ReportIssuePage_chatTitle__WTNlp",messageDisplayArea:"ReportIssuePage_messageDisplayArea__yh5ue",messageBubble:"ReportIssuePage_messageBubble__4P7n8",botMessage:"ReportIssuePage_botMessage__TGqZr",userMessage:"ReportIssuePage_userMessage__IP72O",chatInputContainer:"ReportIssuePage_chatInputContainer__o0FP7",chatInput:"ReportIssuePage_chatInput__zUEW0"}},85004:(e,t,a)=>{"use strict";a.d(t,{D:()=>_,R:()=>p});var l=a(95155),s=a(12115),r=a(23915),n=a(16203),i=a(35317),o=a(90858),u=a(74826),c=a(20996);let d=(0,s.createContext)(null),p=e=>{let{children:t}=e,[a,p]=s.useState(null),[_,h]=s.useState(null),[f,m]=s.useState(null),[g,b]=s.useState(null),[x,I]=s.useState(null),[v,j]=s.useState(!0);return(0,s.useEffect)(()=>{!async function(){let e,t=await fetch("/firebase-config.json"),a=await t.json();0===(0,r.Dk)().length?(console.log("[Firebase] Initializing new instance..."),e=(0,r.Wp)(a)):(console.log("[Firebase] Reusing existing instance."),e=(0,r.Sx)()),p((0,n.xI)(e)),m((0,i.aU)(e)),b((0,o.c7)(e)),I((0,u.lS)(e,{backend:new u.C8})),h((0,c.dG)(e)),j(!1)}()},[]),(0,l.jsx)(d.Provider,{value:{authClient:a,db:f,storage:g,ai:x,messaging:_,loading:v},children:t})},_=()=>{let e=(0,s.useContext)(d);if(!e)throw Error("useFirebase must be used within FirebaseProvider");return e}},87971:e=>{e.exports={fileUploadButton:"LabelledFileUploadButton_fileUploadButton__y8bjN",fileInputHidden:"LabelledFileUploadButton_fileInputHidden__Klbcs",fileUploadLabel:"LabelledFileUploadButton_fileUploadLabel__g23_o",fileUploadIcon:"LabelledFileUploadButton_fileUploadIcon__cv3C1",fieldLabel:"LabelledFileUploadButton_fieldLabel__G6JM4"}},93641:(e,t,a)=>{Promise.resolve().then(a.bind(a,96812))},96812:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>C});var l=a(95155),s=a(12115),r=a(35695),n=a(84445),i=a.n(n),o=a(6188),u=a(31575),c=a.n(u);let d=e=>{let{children:t,className:a}=e;return(0,l.jsx)("div",{className:"".concat(c().formCard," ").concat(a||""),children:t})};var p=a(7580),_=a.n(p);let h=e=>{let{label:t,options:a,value:s,onChange:r}=e;return(0,l.jsxs)("div",{className:_().formField,children:[(0,l.jsx)("label",{className:_().fieldLabel,children:t}),(0,l.jsx)("div",{className:_().selectContainer,children:(0,l.jsx)("select",{className:_().selectInput,value:s,onChange:e=>r(e.target.value),children:a.map(e=>(0,l.jsx)("option",{value:e.value,children:e.label},e.value))})})]})};var f=a(96878),m=a.n(f);let g=e=>{let{label:t,placeholder:a,value:s,onChange:r,rows:n=5}=e;return(0,l.jsxs)("div",{className:m().formField,children:[(0,l.jsx)("label",{className:m().fieldLabel,children:t}),(0,l.jsx)("textarea",{className:m().textareaInput,placeholder:a,value:s,onChange:e=>r(e.target.value),rows:n})]})};var b=a(50492),x=a(87971),I=a.n(x);let v=e=>{let{label:t,onFilesSelected:a}=e,[r,n]=s.useState(0);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:I().fieldLabel,children:"Attach Files"}),(0,l.jsxs)("div",{className:I().fileUploadButton,children:[(0,l.jsx)("input",{type:"file",id:"fileUpload",multiple:!0,onChange:e=>{var t;n((null==(t=e.target.files)?void 0:t.length)||0),a(e.target.files)},className:I().fileInputHidden}),(0,l.jsxs)("label",{htmlFor:"fileUpload",className:I().fileUploadLabel,children:[r>0?"".concat(r," file(s) selected"):t,(0,l.jsx)(b.A,{size:20,className:I().fileUploadIcon})]})]})]})},j=[{value:"payment_issue",label:"Payment Issue"},{value:"service_quality",label:"Service Quality"},{value:"technical_problem",label:"Technical Problem"},{value:"other",label:"Other"}];function C(){let e=(0,r.useRouter)(),t=(0,r.useParams)().gigId,[a,n]=(0,s.useState)(j[0].value),[u,c]=(0,s.useState)(""),[p,_]=(0,s.useState)(null),[f,m]=(0,s.useState)(!1),[b,x]=(0,s.useState)(null),[I,C]=(0,s.useState)(!1),P=async e=>{if(e.preventDefault(),m(!0),x(null),C(!1),!u.trim()){x("Description is required."),m(!1);return}let l=new FormData;if(l.append("gigId",t),l.append("issueType",a),l.append("description",u),p)for(let e=0;e<p.length;e++)l.append("files",p[e]);try{console.log("Submitting issue:",{gigId:t,issueType:a,description:u,numFiles:(null==p?void 0:p.length)||0}),await new Promise(e=>setTimeout(e,1500)),C(!0)}catch(e){e instanceof Error?(console.error("Error submitting issue:",e),x(e.message||"An unknown error occurred.")):(console.error("Unknown error submitting issue:",e),x("An unknown error occurred."))}finally{m(!1)}};return I?(0,l.jsxs)("div",{className:i().pageContainer,children:[(0,l.jsx)(o.A,{title:"Report an Issue",onBackClick:()=>e.back()}),(0,l.jsx)(d,{className:i().formCard,children:(0,l.jsxs)("div",{style:{textAlign:"center",padding:"2rem"},children:[(0,l.jsx)("h2",{style:{color:"#4CAF50",marginBottom:"1rem"},children:"Issue Reported Successfully!"}),(0,l.jsx)("p",{children:"Thank you for your feedback. We will get back to you shortly."}),(0,l.jsx)("button",{onClick:()=>e.back(),className:i().submitButton,style:{marginTop:"1.5rem",backgroundColor:"#555"},children:"Go Back"})]})})]}):(0,l.jsxs)("div",{className:i().pageContainer,children:[(0,l.jsx)(o.A,{title:"Report an Issue",onBackClick:()=>e.back()}),(0,l.jsx)("div",{className:i().chatBot,children:(0,l.jsx)("p",{children:"Chat with Able or complete the form manually. A member of our team will be in touch"})}),(0,l.jsxs)("form",{onSubmit:P,className:i().formCard,children:[(0,l.jsx)(h,{label:"Type of Issue",options:j,value:a,onChange:n}),(0,l.jsx)(g,{label:"Description",placeholder:"Describe the issue...",value:u,onChange:c,rows:5}),(0,l.jsx)(v,{label:"Choose files...",onFilesSelected:e=>{_(e)}}),b&&(0,l.jsx)("p",{className:i().errorMessage,children:b}),(0,l.jsx)("button",{type:"submit",className:i().submitButton,disabled:f,children:f?"Submitting...":"Submit Issue"})]})]})}},96878:e=>{e.exports={formField:"LabelledTextareaInput_formField__u0Aqc",fieldLabel:"LabelledTextareaInput_fieldLabel__AsonI",textareaInput:"LabelledTextareaInput_textareaInput__1TUFa"}}},e=>{var t=t=>e(e.s=t);e.O(0,[2042,2006,3151,2992,5965,94,3063,6874,8441,1684,7358],()=>t(93641)),_N_E=e.O()}]);