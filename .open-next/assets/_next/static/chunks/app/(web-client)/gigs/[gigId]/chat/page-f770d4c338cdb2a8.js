(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3447],{6188:(e,t,a)=>{"use strict";a.d(t,{A:()=>g});var n=a(95155);a(12115);var r=a(35169),s=a(12908),i=a.n(s),o=a(6874),l=a.n(o),u=a(25731),c=a(53843),d=a(35695),p=a(66766),h=a(61508),_=a.n(h);let b=e=>{let{uid:t,handleClick:a,unreadCount:r,unreadNotifications:s}=e;return(0,n.jsxs)(l(),{href:"/user/".concat(t,"/notifications"),passHref:!0,onClick:a,children:[(0,n.jsx)("button",{className:_().notificationButton,"aria-label":"Notifications",children:(0,n.jsx)(p.default,{src:"/images/notifications.svg",alt:"Notifications",width:40,height:40})}),r>0||s>0?(0,n.jsx)("span",{className:_().notificationBadge,children:r>0?r:s}):null]})},g=e=>{let{user:t}=(0,u.A)(),a=(0,d.usePathname)(),{isHomePage:s,title:o,onBackClick:h,handleClick:_,unreadCount:g,unreadNotifications:m}=e,f=a.includes("/able-ai");return(0,n.jsxs)("header",{className:i().header,children:[s?(0,n.jsx)(p.default,{src:"/images/home.svg",alt:"Back",width:40,height:40}):(0,n.jsx)("button",{onClick:h,className:i().backButton,"aria-label":"Go back",children:(0,n.jsx)(r.A,{size:20})}),o&&(0,n.jsx)("h1",{className:i().title,children:o}),(0,n.jsx)(l(),{href:"/user/".concat(null==t?void 0:t.uid,"/able-ai"),className:i().chat,children:f?(0,n.jsx)(c.A,{width:40,height:40}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{children:"Chat with Able"}),(0,n.jsx)(c.A,{width:30,height:30})]})}),s&&(0,n.jsx)(b,{uid:null==t?void 0:t.uid,handleClick:_,unreadCount:g,unreadNotifications:m})]})}},12908:e=>{e.exports={header:"ScreenHeaderWithBack_header__mx1Ch",backButton:"ScreenHeaderWithBack_backButton__0EIlD",title:"ScreenHeaderWithBack_title__Un97C",chat:"ScreenHeaderWithBack_chat__WpLse"}},13717:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n=(0,a(19946).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},19946:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var n=a(12115);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),i=e=>{let t=s(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()},l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var u={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,n.forwardRef)((e,t)=>{let{color:a="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:p,...h}=e;return(0,n.createElement)("svg",{ref:t,...u,width:r,height:r,stroke:a,strokeWidth:i?24*Number(s)/Number(r):s,className:o("lucide",c),...!d&&!l(h)&&{"aria-hidden":"true"},...h},[...p.map(e=>{let[t,a]=e;return(0,n.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let a=(0,n.forwardRef)((a,s)=>{let{className:l,...u}=a;return(0,n.createElement)(c,{ref:s,iconNode:t,className:o("lucide-".concat(r(i(e))),"lucide-".concat(e),l),...u})});return a.displayName=i(e),a}},24313:e=>{e.exports={dropdownContainer:"OnboardingOptionsDropdown_dropdownContainer__fXruX",dropdownTrigger:"OnboardingOptionsDropdown_dropdownTrigger__bLBAT",dropdownMenu:"OnboardingOptionsDropdown_dropdownMenu__b__l_",slideDown:"OnboardingOptionsDropdown_slideDown__HpjUz",dropdownOption:"OnboardingOptionsDropdown_dropdownOption__CWe_t"}},25731:(e,t,a)=>{"use strict";a.d(t,{A:()=>c,O:()=>u});var n=a(95155),r=a(12115),s=a(16203),i=a(85004);let o=(0,r.createContext)({user:null,loading:!0});async function l(e){for(let a=0;a<10;a++){var t;let a=await (0,s.yx)(e,!0);if(null==(t=a.claims)?void 0:t.role)return a;await new Promise(e=>setTimeout(e,1e3))}return null}let u=e=>{let{children:t}=e,[a,u]=(0,r.useState)(null),[c,d]=(0,r.useState)(!0),{authClient:p,loading:h}=(0,i.D)();return(0,r.useEffect)(()=>{let e=()=>{};return!h&&p&&(e=(0,s.hg)(p,async e=>{if(e){let t=await l(e);t?u(Object.assign(e,{token:t.token,claims:t.claims})):u(null)}else u(null);d(!1)})),()=>e()},[h]),(0,n.jsx)(o.Provider,{value:{user:a,loading:c},children:t})},c=()=>(0,r.useContext)(o)},35169:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n=(0,a(19946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},35695:(e,t,a)=>{"use strict";var n=a(18999);a.o(n,"useParams")&&a.d(t,{useParams:function(){return n.useParams}}),a.o(n,"usePathname")&&a.d(t,{usePathname:function(){return n.usePathname}}),a.o(n,"useRouter")&&a.d(t,{useRouter:function(){return n.useRouter}}),a.o(n,"useSearchParams")&&a.d(t,{useSearchParams:function(){return n.useSearchParams}})},42474:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var n=a(95155),r=a(12115),s=a(75684),i=a.n(s),o=a(66766);let l=(0,r.memo)(e=>{let{text:t,senderType:a="bot",avatarSrc:r,showAvatar:s=!0,isNew:l=!1,role:u="GIG_WORKER"}=e,c="bot"===a,d=c?i().bubbleBot:i().bubbleUser,p=c?i().alignBot:i().alignUser,h=l?i().messageWrapperNew:"";return(0,n.jsxs)("div",{className:"".concat(i().messageWrapper," ").concat(p," ").concat(h),"data-role":u,children:[c&&s&&(0,n.jsx)("div",{className:i().avatarContainer,children:(0,n.jsx)("div",{className:i().avatar,children:(0,n.jsx)("div",{className:i().avatarInner,children:(0,n.jsx)(o.default,{src:"/images/ableai.png",alt:"Able AI",width:24,height:24,className:i().avatarImage})})})}),(0,n.jsx)("div",{className:"".concat(i().bubble," ").concat(d),children:t})]})});l.displayName="MessageBubble";let u=l},42915:e=>{e.exports={darkBackground:"chat_darkBackground__lbneO",tealButton:"chat_tealButton__oZjK1",inputField:"chat_inputField__cTBJj",avatar:"chat_avatar__oldo4",avatarWithBorder:"chat_avatarWithBorder__aQzYp"}},44020:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n=(0,a(19946).A)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},49725:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>p});var n=a(95155),r=a(12115),s=a(85189),i=a(42474),o=a(51675),l=a.n(o),u=a(42915),c=a.n(u);let d=r.forwardRef((e,t)=>{let{id:a,name:r,type:s="text",placeholder:i,value:o,onChange:u,required:d=!1,disabled:p=!1,onFocus:h,onBlur:_,onKeyPress:b,isNew:g=!1}=e,m=g?l().inputBubbleWrapperNew:"";return(0,n.jsx)("div",{className:"".concat(l().inputBubbleWrapper," ").concat(l().alignUser," ").concat(m),children:(0,n.jsx)("div",{className:l().inputBubbleContent,children:(0,n.jsx)("input",{id:a||r,name:r,type:s,placeholder:i,value:o,onChange:u,onFocus:h,onBlur:_,onKeyPress:b,required:d,disabled:p,className:"".concat(l().inputField," ").concat(c().inputField),ref:t})})})});function p(){let[e,t]=(0,r.useState)([{id:"1",senderId:"bot",senderRole:"BUYER",message:"Welcome to the gig chat!",timestamp:Date.now()}]),[a,o]=(0,r.useState)(""),l=(0,r.useRef)(null);(0,r.useEffect)(()=>{l.current&&(l.current.scrollTop=l.current.scrollHeight)},[e]);let u=()=>{a.trim()&&(t(e=>[...e,{id:Date.now().toString(),senderId:"me",senderRole:"WORKER",message:a,timestamp:Date.now()}]),o(""))};return(0,n.jsxs)(s.A,{ref:l,children:[e.map(e=>(0,n.jsx)(i.A,{text:e.message,senderType:"me"===e.senderId?"user":"bot",avatarSrc:"me"===e.senderId?void 0:"/images/logo-placeholder.svg"},e.id)),(0,n.jsx)("div",{style:{marginTop:16},children:(0,n.jsx)(d,{type:"text",name:"chat-input",value:a,onChange:e=>o(e.target.value),onKeyPress:e=>{"Enter"===e.key&&u()},placeholder:"Type your message..."})})]})}d.displayName="InputBubble"},51675:e=>{e.exports={inputBubbleWrapper:"InputBubble_inputBubbleWrapper__76kZP",inputBubbleWrapperNew:"InputBubble_inputBubbleWrapperNew__JPYiC",slideInFromRightPrimary:"InputBubble_slideInFromRightPrimary__62ABH",slideInFromRightSecondary:"InputBubble_slideInFromRightSecondary__N66So",inputBubbleContent:"InputBubble_inputBubbleContent__kv4Cb",alignUser:"InputBubble_alignUser__jIFAm",label:"InputBubble_label__2v6KB",inputField:"InputBubble_inputField__lAP7q",confirmButton:"InputBubble_confirmButton__tmzaU"}},53843:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(95155);a(12115);var r=a(66766),s=a(69456),i=a.n(s);let o=e=>{let{width:t=260,height:a=260}=e;return(0,n.jsx)(r.default,{src:"/images/ableai.png",alt:"App Logo",width:t,height:a,className:i().logo})}},53904:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n=(0,a(19946).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},56059:e=>{e.exports={chatInputContainer:"ChatInput_chatInputContainer__kQbSj",inputWrapper:"ChatInput_inputWrapper__YH3PQ",input:"ChatInput_input__SnAnJ",sendButton:"ChatInput_sendButton__lPB0c"}},61508:e=>{e.exports={notificationButton:"Notification_notificationButton__NL740",notificationBadge:"Notification_notificationBadge__ZxPNU"}},66766:(e,t,a)=>{"use strict";a.d(t,{default:()=>r.a});var n=a(71469),r=a.n(n)},69456:e=>{e.exports={logo:"Logo_logo__aLQuM"}},71469:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return l},getImageProps:function(){return o}});let n=a(88229),r=a(38883),s=a(33063),i=n._(a(51193));function o(e){let{props:t}=(0,r.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,a]of Object.entries(t))void 0===a&&delete t[e];return{props:t}}let l=s.Image},75684:e=>{e.exports={messageWrapper:"MessageBubble_messageWrapper__fGlfF",slideInPrimary:"MessageBubble_slideInPrimary__rNcDf",slideInSecondary:"MessageBubble_slideInSecondary__3xEJw",alignBot:"MessageBubble_alignBot__OXTPG",alignUser:"MessageBubble_alignUser__q4Iz0",avatarContainer:"MessageBubble_avatarContainer__Fs_Eb",avatar:"MessageBubble_avatar__fCeB8",avatarInner:"MessageBubble_avatarInner__xTgmE",avatarText:"MessageBubble_avatarText__HGFoH",avatarImage:"MessageBubble_avatarImage__uYRjw",bubble:"MessageBubble_bubble__icB0Z",bubbleBot:"MessageBubble_bubbleBot__M0YBw",bubbleUser:"MessageBubble_bubbleUser__IfTgA",messageWrapperNew:"MessageBubble_messageWrapperNew__jISf_",confirmButton:"MessageBubble_confirmButton__JXGTu"}},79471:(e,t,a)=>{Promise.resolve().then(a.bind(a,49725))},85004:(e,t,a)=>{"use strict";a.d(t,{D:()=>h,R:()=>p});var n=a(95155),r=a(12115),s=a(23915),i=a(16203),o=a(35317),l=a(90858),u=a(74826),c=a(20996);let d=(0,r.createContext)(null),p=e=>{let{children:t}=e,[a,p]=r.useState(null),[h,_]=r.useState(null),[b,g]=r.useState(null),[m,f]=r.useState(null),[x,v]=r.useState(null),[B,w]=r.useState(!0);return(0,r.useEffect)(()=>{!async function(){let e,t=await fetch("/firebase-config.json"),a=await t.json();0===(0,s.Dk)().length?(console.log("[Firebase] Initializing new instance..."),e=(0,s.Wp)(a)):(console.log("[Firebase] Reusing existing instance."),e=(0,s.Sx)()),p((0,i.xI)(e)),g((0,o.aU)(e)),f((0,l.c7)(e)),v((0,u.lS)(e,{backend:new u.C8})),_((0,c.dG)(e)),w(!1)}()},[]),(0,n.jsx)(d.Provider,{value:{authClient:a,db:b,storage:m,ai:x,messaging:h,loading:B},children:t})},h=()=>{let e=(0,r.useContext)(d);if(!e)throw Error("useFirebase must be used within FirebaseProvider");return e}},85189:(e,t,a)=>{"use strict";a.d(t,{A:()=>v});var n=a(95155),r=a(12115),s=a(88536),i=a.n(s),o=a(56059),l=a.n(o);let u=e=>{let{onSend:t,placeholder:a="Type your message...",disabled:s=!1,role:i="GIG_WORKER"}=e,[o,u]=(0,r.useState)(""),c=()=>{o.trim()&&!s&&(t(o.trim()),u(""))};return(0,n.jsx)("div",{className:l().chatInputContainer,children:(0,n.jsxs)("div",{className:l().inputWrapper,children:[(0,n.jsx)("input",{type:"text",value:o,onChange:e=>u(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),c())},placeholder:a,disabled:s,className:l().input}),(0,n.jsx)("button",{onClick:c,disabled:s||!o.trim(),className:l().sendButton,children:(0,n.jsx)("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z",fill:"currentColor"})})})]})})};var c=a(35695),d=a(25731),p=a(6188),h=a(44020),_=a(13717),b=a(53904),g=a(24313),m=a.n(g);let f=e=>{let{onSwitchToManual:t,onChangeSetupMethod:a}=e,[s,i]=(0,r.useState)(!1),o=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=e=>{o.current&&!o.current.contains(e.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let l=e=>{i(!1),e()};return(0,n.jsxs)("div",{className:m().dropdownContainer,ref:o,children:[(0,n.jsx)("button",{className:m().dropdownTrigger,onClick:()=>i(!s),"aria-label":"Onboarding options",children:(0,n.jsx)(h.A,{size:20})}),s&&(0,n.jsxs)("div",{className:m().dropdownMenu,children:[(0,n.jsxs)("button",{className:m().dropdownOption,onClick:()=>l(t),children:[(0,n.jsx)(_.A,{size:16}),(0,n.jsx)("span",{children:"Switch to Manual Form"})]}),(0,n.jsxs)("button",{className:m().dropdownOption,onClick:()=>l(a),children:[(0,n.jsx)(b.A,{size:16}),(0,n.jsx)("span",{children:"Change Setup Method"})]})]})]})},x=r.forwardRef((e,t)=>{let{children:a,onScroll:r,className:s,onHomeClick:o,onSendMessage:l,role:h="GIG_WORKER",showChatInput:_=!1,showOnboardingOptions:b=!1,onSwitchToManual:g,onChangeSetupMethod:m}=e,x=(0,c.useRouter)(),{user:v}=(0,d.A)();return(0,n.jsx)("div",{className:"".concat(i().chatContainerWrapper," ").concat(s),children:(0,n.jsxs)("div",{className:i().chatContainer,onScroll:r,ref:t,children:[(0,n.jsx)(p.A,{onBackClick:()=>x.back()}),(0,n.jsxs)("div",{className:i().chatContent,children:[b&&g&&m&&(0,n.jsx)("div",{className:i().onboardingOptionsContainer,children:(0,n.jsx)(f,{onSwitchToManual:g,onChangeSetupMethod:m})}),a]}),_&&(0,n.jsx)(u,{onSend:e=>{l&&l(e)},role:h,placeholder:"Type your message..."})]})})});x.displayName="ChatBotLayout";let v=x},88536:e=>{e.exports={chatContainerWrapper:"ChatBotLayout_chatContainerWrapper__wnqLp",chatContainer:"ChatBotLayout_chatContainer__ewwhg",chatContent:"ChatBotLayout_chatContent__4ZfaH",header:"ChatBotLayout_header__kDs7E",headerText:"ChatBotLayout_headerText__T8qhV",footer:"ChatBotLayout_footer__6W9Pa",onboardingOptionsContainer:"ChatBotLayout_onboardingOptionsContainer__q62lL"}}},e=>{var t=t=>e(e.s=t);e.O(0,[7918,2006,3151,2992,5965,94,3063,6874,8441,1684,7358],()=>t(79471)),_N_E=e.O()}]);