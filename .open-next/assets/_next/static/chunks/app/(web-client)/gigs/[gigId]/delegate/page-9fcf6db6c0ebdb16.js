(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7286],{411:e=>{e.exports={pageContainer:"DelegateGigPage_pageContainer__j8BIh",contentArea:"DelegateGigPage_contentArea__GbEd0",searchInputArea:"DelegateGigPage_searchInputArea__8zbKY",workerList:"DelegateGigPage_workerList__SeOJM",loadingContainer:"DelegateGigPage_loadingContainer__MScnT",spin:"DelegateGigPage_spin__0m1Il",errorMessage:"DelegateGigPage_errorMessage__WgIf1",emptyMessage:"DelegateGigPage_emptyMessage__nHmVZ"}},6188:(e,a,t)=>{"use strict";t.d(a,{A:()=>_});var r=t(95155);t(12115);var n=t(35169),s=t(12908),i=t.n(s),l=t(6874),o=t.n(l),c=t(25731),u=t(53843),d=t(35695),g=t(66766),h=t(61508),m=t.n(h);let f=e=>{let{uid:a,handleClick:t,unreadCount:n,unreadNotifications:s}=e;return(0,r.jsxs)(o(),{href:"/user/".concat(a,"/notifications"),passHref:!0,onClick:t,children:[(0,r.jsx)("button",{className:m().notificationButton,"aria-label":"Notifications",children:(0,r.jsx)(g.default,{src:"/images/notifications.svg",alt:"Notifications",width:40,height:40})}),n>0||s>0?(0,r.jsx)("span",{className:m().notificationBadge,children:n>0?n:s}):null]})},_=e=>{let{user:a}=(0,c.A)(),t=(0,d.usePathname)(),{isHomePage:s,title:l,onBackClick:h,handleClick:m,unreadCount:_,unreadNotifications:v}=e,p=t.includes("/able-ai");return(0,r.jsxs)("header",{className:i().header,children:[s?(0,r.jsx)(g.default,{src:"/images/home.svg",alt:"Back",width:40,height:40}):(0,r.jsx)("button",{onClick:h,className:i().backButton,"aria-label":"Go back",children:(0,r.jsx)(n.A,{size:20})}),l&&(0,r.jsx)("h1",{className:i().title,children:l}),(0,r.jsx)(o(),{href:"/user/".concat(null==a?void 0:a.uid,"/able-ai"),className:i().chat,children:p?(0,r.jsx)(u.A,{width:40,height:40}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"Chat with Able"}),(0,r.jsx)(u.A,{width:30,height:30})]})}),s&&(0,r.jsx)(f,{uid:null==a?void 0:a.uid,handleClick:m,unreadCount:_,unreadNotifications:v})]})}},12908:e=>{e.exports={header:"ScreenHeaderWithBack_header__mx1Ch",backButton:"ScreenHeaderWithBack_backButton__0EIlD",title:"ScreenHeaderWithBack_title__Un97C",chat:"ScreenHeaderWithBack_chat__WpLse"}},15749:e=>{e.exports={searchContainer:"SearchInput_searchContainer__tRWVc",searchInput:"SearchInput_searchInput__Tj2__"}},19946:(e,a,t)=>{"use strict";t.d(a,{A:()=>d});var r=t(12115);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,t)=>t?t.toUpperCase():a.toLowerCase()),i=e=>{let a=s(e);return a.charAt(0).toUpperCase()+a.slice(1)},l=function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return a.filter((e,a,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===a).join(" ").trim()},o=e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let u=(0,r.forwardRef)((e,a)=>{let{color:t="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:u="",children:d,iconNode:g,...h}=e;return(0,r.createElement)("svg",{ref:a,...c,width:n,height:n,stroke:t,strokeWidth:i?24*Number(s)/Number(n):s,className:l("lucide",u),...!d&&!o(h)&&{"aria-hidden":"true"},...h},[...g.map(e=>{let[a,t]=e;return(0,r.createElement)(a,t)}),...Array.isArray(d)?d:[d]])}),d=(e,a)=>{let t=(0,r.forwardRef)((t,s)=>{let{className:o,...c}=t;return(0,r.createElement)(u,{ref:s,iconNode:a,className:l("lucide-".concat(n(i(e))),"lucide-".concat(e),o),...c})});return t.displayName=i(e),t}},25731:(e,a,t)=>{"use strict";t.d(a,{A:()=>u,O:()=>c});var r=t(95155),n=t(12115),s=t(16203),i=t(85004);let l=(0,n.createContext)({user:null,loading:!0});async function o(e){for(let t=0;t<10;t++){var a;let t=await (0,s.yx)(e,!0);if(null==(a=t.claims)?void 0:a.role)return t;await new Promise(e=>setTimeout(e,1e3))}return null}let c=e=>{let{children:a}=e,[t,c]=(0,n.useState)(null),[u,d]=(0,n.useState)(!0),{authClient:g,loading:h}=(0,i.D)();return(0,n.useEffect)(()=>{let e=()=>{};return!h&&g&&(e=(0,s.hg)(g,async e=>{if(e){let a=await o(e);a?c(Object.assign(e,{token:a.token,claims:a.claims})):c(null)}else c(null);d(!1)})),()=>e()},[h]),(0,r.jsx)(l.Provider,{value:{user:t,loading:u},children:a})},u=()=>(0,n.useContext)(l)},35169:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(19946).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},35695:(e,a,t)=>{"use strict";var r=t(18999);t.o(r,"useParams")&&t.d(a,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(a,{useSearchParams:function(){return r.useSearchParams}})},51154:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(19946).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},53843:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});var r=t(95155);t(12115);var n=t(66766),s=t(69456),i=t.n(s);let l=e=>{let{width:a=260,height:t=260}=e;return(0,r.jsx)(n.default,{src:"/images/ableai.png",alt:"App Logo",width:a,height:t,className:i().logo})}},61508:e=>{e.exports={notificationButton:"Notification_notificationButton__NL740",notificationBadge:"Notification_notificationBadge__ZxPNU"}},63367:e=>{e.exports={footerNav:"MinimalFooterNav_footerNav__1xkcj",navItem:"MinimalFooterNav_navItem__fhfR7",active:"MinimalFooterNav_active__4IlKi",navIcon:"MinimalFooterNav_navIcon__sQ4sa"}},66315:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>b});var r=t(95155),n=t(12115),s=t(35695),i=t(6188),l=t(15749),o=t.n(l);let c=e=>{let{value:a,onChange:t,placeholder:n="Search...",className:s}=e;return(0,r.jsx)("div",{className:"".concat(o().searchContainer," ").concat(s||""),children:(0,r.jsx)("input",{type:"search",value:a,onChange:e=>t(e.target.value),placeholder:n,className:o().searchInput})})};var u=t(66766),d=t(79334),g=t.n(d);let h=e=>{let{worker:a,onDelegate:t,isDelegating:n}=e;return(0,r.jsxs)("div",{className:g().card,children:[(0,r.jsx)(u.default,{src:a.avatarUrl,alt:a.name,width:48,height:48,className:g().avatar}),(0,r.jsxs)("div",{className:g().userInfo,children:[(0,r.jsx)("span",{className:g().name,children:a.name}),(0,r.jsxs)("span",{className:g().username,children:["@",a.username]})]}),(0,r.jsx)("button",{onClick:()=>t(a.id),className:g().delegateButton,disabled:n,children:n?"...":"Delegate"})]})};var m=t(6874),f=t.n(m);let _=(0,t(19946).A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);var v=t(63367),p=t.n(v);let x=()=>{let e=(0,s.usePathname)();return(0,r.jsx)("footer",{className:p().footerNav,children:(0,r.jsx)(f(),{href:"/dashboard",legacyBehavior:!0,children:(0,r.jsx)("a",{className:"".concat(p().navItem," ").concat("/dashboard"===e?p().active:""),children:(0,r.jsx)(_,{size:24,className:p().navIcon})})})})};var w=t(411),j=t.n(w),k=t(51154);async function N(e){console.log("Fetching delegates for term:",e),await new Promise(e=>setTimeout(e,500));let a=[{id:"1",name:"Alex Johnson",username:"alexjohnson",avatarUrl:"/images/avatar-alex.jpg"},{id:"2",name:"Jamie Lee",username:"jamielee",avatarUrl:"/images/avatar-jamie.jpg"},{id:"3",name:"Samantha Brown",username:"samanthabrown",avatarUrl:"/images/avatar-samantha.jpg"},{id:"4",name:"Chris Davis",username:"chrisdavis",avatarUrl:"/images/avatar-chris.jpg"},{id:"5",name:"Patricia Miller",username:"patriciamiller",avatarUrl:"/images/avatar-patricia.jpg"}];return e.trim()?a.filter(a=>a.name.toLowerCase().includes(e.toLowerCase())||a.username.toLowerCase().includes(e.toLowerCase())):a.slice(0,3)}async function C(e,a){return console.log("API: Delegating gig ".concat(e," to worker ").concat(a)),await new Promise(e=>setTimeout(e,1e3)),{success:!0}}function b(){let e=(0,s.useRouter)(),a=(0,s.useParams)().gigId,[t,l]=(0,n.useState)(""),[o,u]=(0,n.useState)([]),[d,g]=(0,n.useState)(!1),[m,f]=(0,n.useState)(null),[_,v]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=async()=>{g(!0),f(null);try{let e=await N(t);u(e)}catch(e){f("Failed to load workers. Please try again."),console.error(e)}finally{g(!1)}},a=setTimeout(()=>{e()},300*!!t);return()=>clearTimeout(a)},[t]);let p=async t=>{if(!a)return void alert("Gig ID is missing.");v(t),f(null);try{if((await C(a,t)).success)alert("Gig successfully delegated to worker ".concat(t,"!")),e.push("/dashboard");else throw Error("Failed to delegate gig.")}catch(e){e instanceof Error?(f(e.message||"An error occurred while delegating."),alert(e.message||"An error occurred while delegating.")):(f("An unknown error occurred."),alert("An unknown error occurred."))}finally{v(null)}};return(0,r.jsxs)("div",{className:j().pageContainer,children:[(0,r.jsx)(i.A,{title:"Delegate Gig",onBackClick:()=>e.back()}),(0,r.jsxs)("div",{className:j().contentArea,children:[(0,r.jsx)(c,{value:t,onChange:l,placeholder:"Search by gig worker username",className:j().searchInputArea}),d&&(0,r.jsxs)("div",{className:j().loadingContainer,children:[(0,r.jsx)(k.A,{size:32,className:"animate-spin"}),(0,r.jsx)("p",{children:"Loading workers..."})]}),m&&(0,r.jsx)("p",{className:j().errorMessage,children:m}),!d&&!m&&0===o.length&&(0,r.jsx)("p",{className:j().emptyMessage,children:"No workers found matching your search."}),!d&&o.length>0&&(0,r.jsx)("div",{className:j().workerList,children:o.map(e=>(0,r.jsx)(h,{worker:e,onDelegate:p,isDelegating:_===e.id},e.id))})]}),(0,r.jsx)(x,{})]})}},66766:(e,a,t)=>{"use strict";t.d(a,{default:()=>n.a});var r=t(71469),n=t.n(r)},69456:e=>{e.exports={logo:"Logo_logo__aLQuM"}},71469:(e,a,t)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),!function(e,a){for(var t in a)Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}(a,{default:function(){return o},getImageProps:function(){return l}});let r=t(88229),n=t(38883),s=t(33063),i=r._(t(51193));function l(e){let{props:a}=(0,n.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,t]of Object.entries(a))void 0===t&&delete a[e];return{props:a}}let o=s.Image},78960:(e,a,t)=>{Promise.resolve().then(t.bind(t,66315))},79334:e=>{e.exports={card:"WorkerDelegateItemCard_card__Ffwiy",avatar:"WorkerDelegateItemCard_avatar__uVXg2",userInfo:"WorkerDelegateItemCard_userInfo__Kx1en",name:"WorkerDelegateItemCard_name__H87Og",username:"WorkerDelegateItemCard_username__7EfH5",delegateButton:"WorkerDelegateItemCard_delegateButton__z2Uv2"}},85004:(e,a,t)=>{"use strict";t.d(a,{D:()=>h,R:()=>g});var r=t(95155),n=t(12115),s=t(23915),i=t(16203),l=t(35317),o=t(90858),c=t(74826),u=t(20996);let d=(0,n.createContext)(null),g=e=>{let{children:a}=e,[t,g]=n.useState(null),[h,m]=n.useState(null),[f,_]=n.useState(null),[v,p]=n.useState(null),[x,w]=n.useState(null),[j,k]=n.useState(!0);return(0,n.useEffect)(()=>{!async function(){let e,a=await fetch("/firebase-config.json"),t=await a.json();0===(0,s.Dk)().length?(console.log("[Firebase] Initializing new instance..."),e=(0,s.Wp)(t)):(console.log("[Firebase] Reusing existing instance."),e=(0,s.Sx)()),g((0,i.xI)(e)),_((0,l.aU)(e)),p((0,o.c7)(e)),w((0,c.lS)(e,{backend:new c.C8})),m((0,u.dG)(e)),k(!1)}()},[]),(0,r.jsx)(d.Provider,{value:{authClient:t,db:f,storage:v,ai:x,messaging:h,loading:j},children:a})},h=()=>{let e=(0,n.useContext)(d);if(!e)throw Error("useFirebase must be used within FirebaseProvider");return e}}},e=>{var a=a=>e(e.s=a);e.O(0,[2006,3151,2992,5965,94,3063,6874,8441,1684,7358],()=>a(78960)),_N_E=e.O()}]);