(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8974],{25731:(e,s,a)=>{"use strict";a.d(s,{A:()=>o,O:()=>d});var r=a(95155),t=a(12115),n=a(16203),i=a(85004);let l=(0,t.createContext)({user:null,loading:!0});async function c(e){for(let a=0;a<10;a++){var s;let a=await (0,n.yx)(e,!0);if(null==(s=a.claims)?void 0:s.role)return a;await new Promise(e=>setTimeout(e,1e3))}return null}let d=e=>{let{children:s}=e,[a,d]=(0,t.useState)(null),[o,g]=(0,t.useState)(!0),{authClient:u,loading:m}=(0,i.D)();return(0,t.useEffect)(()=>{let e=()=>{};return!m&&u&&(e=(0,n.hg)(u,async e=>{if(e){let s=await c(e);s?d(Object.assign(e,{token:s.token,claims:s.claims})):d(null)}else d(null);g(!1)})),()=>e()},[m]),(0,r.jsx)(l.Provider,{value:{user:a,loading:o},children:s})},o=()=>(0,t.useContext)(l)},30504:(e,s,a)=>{"use strict";a.d(s,{q:()=>t});var r=a(34477);let t=(0,r.createServerReference)("400cd1fa767ef5281508e93e3ca1d7a0d11ad8371f",r.callServer,void 0,r.findSourceMapURL,"getAllNotificationsAction")},34477:(e,s,a)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),!function(e,s){for(var a in s)Object.defineProperty(e,a,{enumerable:!0,get:s[a]})}(s,{callServer:function(){return r.callServer},createServerReference:function(){return n},findSourceMapURL:function(){return t.findSourceMapURL}});let r=a(53806),t=a(31818),n=a(34979).createServerReference},40532:(e,s,a)=>{Promise.resolve().then(a.bind(a,79215))},66766:(e,s,a)=>{"use strict";a.d(s,{default:()=>t.a});var r=a(71469),t=a.n(r)},71469:(e,s,a)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),!function(e,s){for(var a in s)Object.defineProperty(e,a,{enumerable:!0,get:s[a]})}(s,{default:function(){return c},getImageProps:function(){return l}});let r=a(88229),t=a(38883),n=a(33063),i=r._(a(51193));function l(e){let{props:s}=(0,t.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,a]of Object.entries(s))void 0===a&&delete s[e];return{props:s}}let c=n.Image},79215:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>N});var r=a(95155),t=a(66766),n=a(95717),i=a.n(n),l=a(12115),c=a(6874),d=a.n(c),o=a(25731),g=a(16203),u=a(30504),m=a(34477);let p=(0,m.createServerReference)("60976633aa90a3960f31dd64f4fd8496ccbdb52456",m.callServer,void 0,m.findSourceMapURL,"createNotificationAction");var h=a(85004);function N(){let{user:e,loading:s}=(0,o.A)(),[a,n]=(0,l.useState)(!1),{authClient:c}=(0,h.D)(),m=async()=>{try{c&&await (0,g.CI)(c)}catch(e){console.error("Error during sign out process on page:",e)}};(0,l.useEffect)(()=>{(null==e?void 0:e.token)&&async function(){await (0,u.q)((null==e?void 0:e.token)||"")}()},[null==e?void 0:e.token]);let N=async()=>{try{let s=(null==e?void 0:e.claims.role)==="QA";localStorage.setItem("isViewQA",String(!s))}catch(e){console.error("Error toggling isViewQA and refetching user:",e)}},[x,j]=(0,l.useState)({userUid:"",topic:"",title:"",body:"",image:"",path:""}),[f,I]=(0,l.useState)(null),b=e=>{let{name:s,value:a}=e.target;j(e=>({...e,[s]:a}))},v=async s=>{s.preventDefault();let a=await p({...x,status:"unread",type:"system"},null==e?void 0:e.token);console.log(a);let r=await a;I({success:r.success,message:r.success?"Sended":"Error sending message"})};return(0,r.jsx)("div",{className:i().page,children:(0,r.jsxs)("main",{className:i().main,children:[(0,r.jsx)(t.default,{className:i().logo,src:"/images/ableai.png",alt:"Next JS Logo",width:180,height:180,priority:!0}),(0,r.jsxs)("details",{open:a,onToggle:e=>n(e.target.open),children:[(0,r.jsx)("summary",{className:i().summary,children:"Project Overview"}),(0,r.jsxs)("div",{className:i().projectInfo,children:[(0,r.jsx)("h2",{children:"Able AI Platform"}),(0,r.jsx)("p",{children:"A Next.js application that connects gig workers with buyers, featuring:"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:"Firebase Authentication"}),(0,r.jsx)("li",{children:"Role-based access control"}),(0,r.jsx)("li",{children:"Real-time updates with Firestore"}),(0,r.jsx)("li",{children:"PostgreSQL database for secure data storage"})]})]})]}),(0,r.jsxs)("section",{className:i().userSection,children:[(0,r.jsx)("h2",{children:"User Status"}),s&&(0,r.jsx)("p",{children:"Loading user context..."}),e&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{children:["User Email: ",e.email]}),(0,r.jsxs)("p",{children:["App Role: ",null==e?void 0:e.claims.role]})]}),e&&(null==e?void 0:e.claims)?(0,r.jsxs)("div",{className:i().userInfo_actions,children:[" ",(0,r.jsxs)("div",{className:i().userActions,children:[(0,r.jsx)(d(),{href:"/select-role",className:i().primary,children:"Select Role"}),(0,r.jsx)("button",{onClick:m,className:i().secondary,children:"Sign Out"})]})]}):(0,r.jsx)("div",{className:i().userActions,children:(0,r.jsx)(d(),{href:"/signin",className:i().primary,children:"Sign In"})})]}),(0,r.jsxs)("section",{className:i().pagesSection,children:[(0,r.jsx)("h2",{children:"Pages Under Development"}),(0,r.jsxs)("div",{className:i().pagesList,children:[(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/signin",className:i().pageName,children:"/signin"}),(0,r.jsx)("span",{className:i().badge,"data-status":"complete",children:"Complete"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/select-role",className:i().pageName,children:"/select-role"}),(0,r.jsx)("span",{className:i().badge,"data-status":"complete",children:"Complete"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/reset-password",className:i().pageName,children:"/reset-password"}),(0,r.jsx)("span",{className:i().badge,"data-status":"complete",children:"Complete"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/user/test-user-id/onboarding",className:i().pageName,children:"/user/[userId]/test-user-id/onboarding"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/user/test-user-id/onboarding",className:i().pageName,children:"/user/[userId]/test-user-id/onboarding"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/user/test-user-id/notifications",className:i().pageName,children:"/user/[userId]/notifications"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/user/test-user-id/buyer",className:i().pageName,children:"/user/[userId]/buyer"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/user/test-user-id/buyer/payments",className:i().pageName,children:"/user/[userId]/buyer/payments"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/user/test-user-id/buyer/payments/invoice",className:i().pageName,children:"/user/[userId]/buyer/payments/invoice"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/user/test-user-id/worker",className:i().pageName,children:"/user/[userId]/worker"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/user/test-user-id/worker/earnings",className:i().pageName,children:"/user/[userId]/worker/earnings"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/user/test-user-id/settings",className:i().pageName,children:"/user/[userId]/settings"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/user/test-user-id/referral",className:i().pageName,children:"/user/[userId]/referral"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/user/test-user-id/worker/test-worker-id/recommendation",className:i().pageName,children:"/user/[userId]/worker/[workerId]/recommendation"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/worker/test-worker-id/recommendation",className:i().pageName,children:"/worker/[workerId]/recommendation"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/legal/terms",className:i().pageName,children:"/legal/terms"}),(0,r.jsx)("span",{className:i().badge,"data-status":"complete",children:"Complete"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/legal/privacy",className:i().pageName,children:"/legal/privacy"}),(0,r.jsx)("span",{className:i().badge,"data-status":"complete",children:"Complete"})]}),e&&(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/user/".concat(e.uid,"/worker/offers"),className:i().pageName,children:"/user/[userId]/worker/offers"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)("span",{className:i().pageName,children:"/buyer/dashboard"}),(0,r.jsx)("span",{className:i().badge,"data-status":"planned",children:"Planned"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)("span",{className:i().pageName,children:"/worker/dashboard"}),(0,r.jsx)("span",{className:i().badge,"data-status":"planned",children:"Planned"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/user/test-user-id/worker/gigs/test-gig-id",className:i().pageName,children:"/user/[userId]/worker/gigs/[gigId]"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/user/test-user-id/worker/gigs/test-gig-id/feedback",className:i().pageName,children:"/user/test-user-id/worker/gigs/test-gig-id/feedback"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/user/test-user-id/buyer/gigs/gig789-buyer-awaiting/feedback",className:i().pageName,children:"/user/[userId]/buyer/gigs/[gigId]/feedback"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/gigs/test-gig-id/amend/test-amend-id",className:i().pageName,children:"/gigs/[gigId]/amend/[amendId]"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/gigs/test-gig-id/amends/test-amend-id/review",className:i().pageName,children:"/gigs/[gigId]/amends/[amendId]/review"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/gigs/test-gig-id/delegate",className:i().pageName,children:"/gigs/[gigId]/delegate"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/user/mock-worker/worker/calendar",className:i().pageName,children:"/user/mock-worker/worker/calendar"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/worker/test-worker-id/profile",className:i().pageName,children:"/worker/[workerId]/profile (Public)"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/user/test-user-id/worker/profile",className:i().pageName,children:"/user/[userId]/worker/profile (Owned)"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/gigs/test-gig-id/chat",className:i().pageName,children:"/gigs/[gigId]/chat"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/gigs/test-gig-id/report-issue",className:i().pageName,target:"_blank",rel:"noopener noreferrer",children:"/gigs/[gigId]/report-issue"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/user/test-user-id/buyer/gigs/pastGig123/rehire",className:i().pageName,children:"/user/[userId]/buyer/gigs/[gigId]/rehire"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/user/test-user-id/buyer/profile",className:i().pageName,children:"/user/[userId]/buyer/profile"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/user/test-user-id/able-ai",className:i().pageName,children:"/user/[userId]/able-ai"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/user/test-user-id/chat",className:i().pageName,children:"/user/[userId]/chat (New)"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:"/user/test-user-id/worker/chat",className:i().pageName,children:"/user/[userId]/worker/chat"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:e?"/user/".concat(e.uid,"/buyer/calendar"):"/user/test-user-id/buyer/calendar",className:i().pageName,children:"/user/[userId]/buyer/calendar"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:e?"/user/".concat(e.uid,"/worker/calendar"):"/user/test-user-id/worker/calendar",className:i().pageName,children:"/user/[userId]/worker/calendar"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:e?"/user/".concat(e.uid,"/buyer"):"/user/test-user-id/buyer",className:i().pageName,children:"/user/[userId]/buyer (Dashboard)"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]}),(0,r.jsxs)("div",{className:i().pageItem,children:[(0,r.jsx)(d(),{href:e?"/user/".concat(e.uid,"/worker"):"/user/test-user-id/worker",className:i().pageName,children:"/user/[userId]/worker (Dashboard)"}),(0,r.jsx)("span",{className:i().badge,"data-status":"in-progress",children:"In Progress"})]})]})]}),(0,r.jsxs)("section",{className:i().userSection,children:[(0,r.jsx)("h2",{children:"Testing Tools"}),(0,r.jsx)("button",{onClick:()=>localStorage.setItem("currentActiveRole","BUYER"),className:i().primary,children:"Set Local Storage Role to BUYER"}),(0,r.jsx)("button",{onClick:()=>localStorage.setItem("currentActiveRole","WORKER"),className:i().primary,children:"Set Local Storage Role to WORKER"}),(0,r.jsx)("button",{onClick:()=>localStorage.removeItem("currentActiveRole"),className:i().secondary,children:"Clear Local Storage Role"}),(0,r.jsxs)("button",{onClick:()=>N(),className:i().secondary,children:["Toggle isViewQA (currently ",String((null==e?void 0:e.claims.role)==="QA"),")"]})]}),(0,r.jsxs)("div",{className:"max-w-xl mx-auto p-6 bg-white shadow-md rounded-xl mt-8",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Send notification"}),(0,r.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,r.jsx)("input",{type:"text",name:"userUid",placeholder:"userUid (opcional)",value:x.userUid,onChange:b,className:"w-full input input-bordered"}),(0,r.jsx)("input",{type:"text",name:"topic",placeholder:"topic (opcional)",value:x.topic,onChange:b,className:"w-full input input-bordered"}),(0,r.jsx)("input",{type:"text",name:"title",placeholder:"T\xedtulo",required:!0,value:x.title,onChange:b,className:"w-full input input-bordered"}),(0,r.jsx)("textarea",{name:"body",placeholder:"Cuerpo",required:!0,value:x.body,onChange:b,className:"w-full textarea textarea-bordered"}),(0,r.jsx)("input",{type:"text",name:"image",placeholder:"URL de Imagen",value:x.image,onChange:b,className:"w-full input input-bordered"}),(0,r.jsx)("input",{type:"text",name:"path",placeholder:"Ruta de redirecci\xf3n (opcional)",value:x.path,onChange:b,className:"w-full input input-bordered"}),(0,r.jsx)("button",{type:"submit",disabled:s,className:"btn btn-primary w-full",children:s?"Sending...":"Send Notification"})]}),f&&(0,r.jsx)("div",{className:"mt-4 text-center font-semibold ".concat(f.success?"text-green-600":"text-red-600"),children:f.message})]})]})})}},85004:(e,s,a)=>{"use strict";a.d(s,{D:()=>m,R:()=>u});var r=a(95155),t=a(12115),n=a(23915),i=a(16203),l=a(35317),c=a(90858),d=a(74826),o=a(20996);let g=(0,t.createContext)(null),u=e=>{let{children:s}=e,[a,u]=t.useState(null),[m,p]=t.useState(null),[h,N]=t.useState(null),[x,j]=t.useState(null),[f,I]=t.useState(null),[b,v]=t.useState(!0);return(0,t.useEffect)(()=>{!async function(){let e,s=await fetch("/firebase-config.json"),a=await s.json();0===(0,n.Dk)().length?(console.log("[Firebase] Initializing new instance..."),e=(0,n.Wp)(a)):(console.log("[Firebase] Reusing existing instance."),e=(0,n.Sx)()),u((0,i.xI)(e)),N((0,l.aU)(e)),j((0,c.c7)(e)),I((0,d.lS)(e,{backend:new d.C8})),p((0,o.dG)(e)),v(!1)}()},[]),(0,r.jsx)(g.Provider,{value:{authClient:a,db:h,storage:x,ai:f,messaging:m,loading:b},children:s})},m=()=>{let e=(0,t.useContext)(g);if(!e)throw Error("useFirebase must be used within FirebaseProvider");return e}},95717:e=>{e.exports={page:"page_page__556_G",main:"page_main__nw1Wk",summary:"page_summary__OssiC",projectInfo:"page_projectInfo__xg47N",userSection:"page_userSection__myTCt",userInfo:"page_userInfo__Vqx_C",userActions:"page_userActions__DasH2",primary:"page_primary__2CBMe",secondary:"page_secondary__jzhTV",pagesSection:"page_pagesSection__iLDlC",pagesList:"page_pagesList__tHNxc",pageItem:"page_pageItem__voY8A",pageName:"page_pageName__fxUnG",badge:"page_badge__0mJr3",ctas:"page_ctas__rfsth",footer:"page_footer__F3MD0",logo:"page_logo__ikIZE"}}},e=>{var s=s=>e(e.s=s);e.O(0,[8938,2992,5965,94,3063,6874,8441,1684,7358],()=>s(40532)),_N_E=e.O()}]);