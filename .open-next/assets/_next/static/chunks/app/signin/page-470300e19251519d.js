(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4217],{2029:e=>{e.exports={togglePasswordVisibility:"PasswordInputField_togglePasswordVisibility__7XWMl",passwordContainer:"PasswordInputField_passwordContainer__vr_a5"}},7520:e=>{e.exports={container:"SignInPage_container__XQ_uZ",forgotPassword:"SignInPage_forgotPassword__wJHY0",linkText:"SignInPage_linkText__ZXP8Q",card:"SignInPage_card__4s4r_",logoWrapper:"SignInPage_logoWrapper__i_Ow9",header:"SignInPage_header__gDqpT",form:"SignInPage_form__K1E__",inputGroup:"SignInPage_inputGroup__arJMK",label:"SignInPage_label__CSTAs",roleSelection:"SignInPage_roleSelection__YXmhv",roleOptions:"SignInPage_roleOptions__1MBQx",roleOption:"SignInPage_roleOption__eAlnG",errorMessage:"SignInPage_errorMessage__1v_c_",errorCloseBtn:"SignInPage_errorCloseBtn___osKJ",errorLink:"SignInPage_errorLink__I6LBB",toggleButton:"SignInPage_toggleButton___W2Vq",submitWrapper:"SignInPage_submitWrapper__DiSUD",togglePasswordVisibility:"SignInPage_togglePasswordVisibility___Ydmp",passwordContainer:"SignInPage_passwordContainer__ztKas"}},19946:(e,r,t)=>{"use strict";t.d(r,{A:()=>u});var a=t(12115);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,t)=>t?t.toUpperCase():r.toLowerCase()),l=e=>{let r=n(e);return r.charAt(0).toUpperCase()+r.slice(1)},o=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return r.filter((e,r,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===r).join(" ").trim()},i=e=>{for(let r in e)if(r.startsWith("aria-")||"role"===r||"title"===r)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)((e,r)=>{let{color:t="currentColor",size:s=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:c="",children:u,iconNode:g,...p}=e;return(0,a.createElement)("svg",{ref:r,...d,width:s,height:s,stroke:t,strokeWidth:l?24*Number(n)/Number(s):n,className:o("lucide",c),...!u&&!i(p)&&{"aria-hidden":"true"},...p},[...g.map(e=>{let[r,t]=e;return(0,a.createElement)(r,t)}),...Array.isArray(u)?u:[u]])}),u=(e,r)=>{let t=(0,a.forwardRef)((t,n)=>{let{className:i,...d}=t;return(0,a.createElement)(c,{ref:n,iconNode:r,className:o("lucide-".concat(s(l(e))),"lucide-".concat(e),i),...d})});return t.displayName=l(e),t}},25731:(e,r,t)=>{"use strict";t.d(r,{A:()=>c,O:()=>d});var a=t(95155),s=t(12115),n=t(16203),l=t(85004);let o=(0,s.createContext)({user:null,loading:!0});async function i(e){for(let t=0;t<10;t++){var r;let t=await (0,n.yx)(e,!0);if(null==(r=t.claims)?void 0:r.role)return t;await new Promise(e=>setTimeout(e,1e3))}return null}let d=e=>{let{children:r}=e,[t,d]=(0,s.useState)(null),[c,u]=(0,s.useState)(!0),{authClient:g,loading:p}=(0,l.D)();return(0,s.useEffect)(()=>{let e=()=>{};return!p&&g&&(e=(0,n.hg)(g,async e=>{if(e){let r=await i(e);r?d(Object.assign(e,{token:r.token,claims:r.claims})):d(null)}else d(null);u(!1)})),()=>e()},[p]),(0,a.jsx)(o.Provider,{value:{user:t,loading:c},children:r})},c=()=>(0,s.useContext)(o)},28399:(e,r,t)=>{"use strict";t.d(r,{A:()=>l});var a=t(95155);t(12115);var s=t(41203),n=t.n(s);let l=e=>{let{id:r,name:t,placeholder:s,type:l="text",value:o,onChange:i,required:d=!1,...c}=e;return(0,a.jsx)("input",{id:r,name:t,className:n().input,type:l,placeholder:s,value:o,onChange:i,required:d,...c})}},31323:e=>{e.exports={button:"SubmitButton_button__5Wvdr",buttonTextDesktop:"SubmitButton_buttonTextDesktop__op4yl",buttonIconMobile:"SubmitButton_buttonIconMobile__GxFRF",loadingTextDesktop:"SubmitButton_loadingTextDesktop__YgD0N",loadingTextMobile:"SubmitButton_loadingTextMobile___tT0O",loaderMobile:"SubmitButton_loaderMobile__1Gkg5",l3:"SubmitButton_l3__gSX9e",loaderDesktop:"SubmitButton_loaderDesktop__ZWl3R",l5:"SubmitButton_l5__0hU8s",loadingText:"SubmitButton_loadingText__CbZns",loading:"SubmitButton_loading__pKbxt"}},34477:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{callServer:function(){return a.callServer},createServerReference:function(){return n},findSourceMapURL:function(){return s.findSourceMapURL}});let a=t(53806),s=t(31818),n=t(34979).createServerReference},41203:e=>{e.exports={input:"InputField_input__NlH8Q"}},53843:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});var a=t(95155);t(12115);var s=t(66766),n=t(69456),l=t.n(n);let o=e=>{let{width:r=260,height:t=260}=e;return(0,a.jsx)(s.default,{src:"/images/ableai.png",alt:"App Logo",width:r,height:t,className:l().logo})}},62310:(e,r,t)=>{"use strict";t.d(r,{A:()=>o});var a=t(95155);t(12115);var s=t(31323),n=t.n(s);let l=(0,t(19946).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),o=e=>{let{children:r,disabled:t=!1,loading:s=!1,...o}=e;return(0,a.jsx)("button",{type:"submit",className:n().button,disabled:t||s,"aria-label":s?"Processing":"string"==typeof r?r:"Submit",...o,children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:n().loaderMobile}),(0,a.jsx)("span",{className:n().loaderDesktop})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:n().buttonTextDesktop,children:r}),(0,a.jsx)("span",{className:n().buttonIconMobile,children:(0,a.jsx)(l,{size:18,strokeWidth:2.5})})]})})}},64630:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>k});var a=t(95155),s=t(12115),n=t(56671),l=t(53843),o=t(7520),i=t.n(o),d=t(28399),c=t(62310),u=t(35695),g=t(16203),p=t(34477);let m=(0,p.createServerReference)("40eaf104f6f50ffa55365ef8cfc16ef6a7ad752f73",p.callServer,void 0,p.findSourceMapURL,"signInWithFirebaseAction");var h=t(85004),_=t(86886),b=t(6874),f=t.n(b);let x=e=>{let{onToggleRegister:r,onError:t}=e,[n,l]=(0,s.useState)(""),[o,p]=(0,s.useState)(""),[b,x]=(0,s.useState)(!1),v=(0,u.useRouter)(),{authClient:w,loading:S}=(0,h.D)(),j=async e=>{e.preventDefault(),x(!0),t(null);try{let e;w&&(e=await (0,g.x9)(w,n,o));let r=null==e?void 0:e.user;if(!(null==r?void 0:r.uid))throw Error("User UID not found");let s=await m(r.uid);(null==s?void 0:s.error)?t((0,a.jsx)(a.Fragment,{children:s.error||"Email or password is incorrect."})):(await r.getIdToken(!0),await r.getIdTokenResult(),v.push("/select-role"))}catch(e){e instanceof Error?console.error("Login error:",e):console.error("Unexpected error during login:",e),t((0,a.jsx)(a.Fragment,{children:"Invalid email or password. Please try again."}))}finally{x(!1)}};return S?(0,a.jsx)("div",{className:i().loading,children:"Loading..."}):(0,a.jsxs)("form",{className:i().form,onSubmit:j,children:[(0,a.jsxs)("div",{className:i().inputGroup,children:[(0,a.jsx)("label",{htmlFor:"email",className:i().label,children:"Email Address"}),(0,a.jsx)(d.A,{type:"email",id:"email-signin",name:"email-signin",placeholder:"Enter your email",value:n,onChange:e=>l(e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:i().inputGroup,children:[(0,a.jsx)("label",{htmlFor:"password",className:i().label,children:"Password"}),(0,a.jsx)(_.A,{password:o,setPassword:p,id:"password-signin",name:"password-signin",placeholder:"Enter your password",required:!0}),(0,a.jsx)(f(),{href:"/reset-password",className:i().forgotPassword,children:"Forgot Password?"})]}),(0,a.jsx)("div",{className:i().submitWrapper,children:(0,a.jsx)(c.A,{loading:b,disabled:b,children:"Sign In"})}),(0,a.jsxs)("button",{type:"button",className:i().toggleButton,onClick:r,children:["Need an account? ",(0,a.jsx)("span",{className:i().linkText,children:"Create one"})]})]})},v=(0,p.createServerReference)("4073d387fbd2390e66a845ea62ad89b229c72571f4",p.callServer,void 0,p.findSourceMapURL,"registerUserAction"),w=(0,p.createServerReference)("40036d65845c04d8820938819f40a1d5d95b3d188b",p.callServer,void 0,p.findSourceMapURL,"isPasswordCommon");var S=t(93438);let j=[{type:"text",name:"name",label:"Name",placeholder:"Enter your name"},{type:"text",name:"phone",label:"Phone Number",placeholder:"Enter your phone number"},{type:"email",name:"email",label:"Email Address",placeholder:"Enter your email",required:!0}],y=e=>{let{onToggleRegister:r,onError:t}=e,[l,o]=(0,s.useState)({name:"",phone:"",email:"",password:""}),[p,m]=(0,s.useState)(!1),h=(0,u.useRouter)(),b=e=>{let{name:r,value:t}=e.target;o(e=>({...e,[r]:t}))},f=async e=>e.trim().length>=10?await w(e.trim())?{isValid:!1,error:"Password is too common. Please choose a more secure password."}:{isValid:!0,error:null}:{isValid:!1,error:"Password must be at least 10 characters long."},x=async e=>{var r;e.preventDefault(),t(null),m(!0);let{name:a,phone:s,email:o,password:i}=l;if(!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(o.trim())){t("Invalid email address"),m(!1);return}let{isValid:d,error:c}=await f(i);if(!d){t(c),m(!1);return}let u=await v({email:o.trim(),password:i.trim(),name:a.trim(),phone:s.trim()}),p=(null==(r=window)?void 0:r.location.origin)||"https://able-ai-mvp-able-ai-team.vercel.app";if((0,g.MN)(S.yK,o,{url:p+"/usermgmt",handleCodeInApp:!0}).then(()=>{u.ok&&(window.localStorage.setItem("emailForSignIn",o),n.oR.success("Registration successful! Please check your email to sign in."))}).catch(e=>{console.error("Error sending email:",e.code);let r=e.message;n.oR.error("Error sending email: ".concat(r))}),m(!1),u.ok)h.push("/select-role");else{console.log("Registration error:",u.error),t(u.error),m(!1);return}};return(0,a.jsxs)("form",{className:i().form,onSubmit:x,children:[j.map(e=>(0,a.jsxs)("div",{className:i().inputGroup,children:[(0,a.jsx)("label",{htmlFor:"".concat(e.name,"-register"),className:i().label,children:e.label}),(0,a.jsx)(d.A,{type:e.type,id:"".concat(e.name,"-register"),name:e.name,placeholder:e.placeholder,value:l[e.name],onChange:b,required:e.required})]},e.name)),(0,a.jsxs)("div",{className:i().inputGroup,children:[(0,a.jsx)("label",{htmlFor:"password-register",className:i().label,children:"Password"}),(0,a.jsx)(_.A,{password:l.password,setPassword:e=>o(r=>({...r,password:e})),id:"password-register",name:"password-register",placeholder:"Make it secure...",required:!0})]}),(0,a.jsx)("div",{className:i().submitWrapper,children:(0,a.jsx)(c.A,{loading:p,disabled:p,children:"Register"})}),(0,a.jsxs)("button",{type:"button",className:i().toggleButton,onClick:r,children:["Already have an account?"," ",(0,a.jsx)("span",{className:i().linkText,children:"Sign In"})]})]})};var P=t(25731);function k(){let e=(0,u.useRouter)(),{user:r,loading:t}=(0,P.A)(),[o,d]=(0,s.useState)(!1),[c,g]=(0,s.useState)(null);(0,s.useEffect)(()=>{!t&&r&&(n.oR.success("Welcome back ".concat((null==r?void 0:r.displayName)||(null==r?void 0:r.email)||"user","!")),e.push("/select-role"))},[r,t]),(0,s.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("code");e&&(sessionStorage.setItem("referralCode",e),n.oR.info('Referral code "'.concat(e,'" has been saved!')))},[]);let p=()=>{d(!o),g(null)};return(0,a.jsx)("div",{className:i().container,children:(0,a.jsxs)("div",{className:i().card,children:[(0,a.jsx)("div",{className:i().logoWrapper,children:(0,a.jsx)(l.A,{})}),(0,a.jsx)("div",{className:i().header,children:(0,a.jsx)("h1",{children:o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"Welcome!"}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{children:"Please register to get started"})]}):"Welcome back!"})}),o?(0,a.jsx)(y,{onToggleRegister:p,onError:g}):(0,a.jsx)(x,{onToggleRegister:p,onError:g}),c&&(0,a.jsxs)("div",{className:i().errorMessage,children:[(0,a.jsx)("p",{children:c}),(0,a.jsx)("span",{className:i().errorCloseBtn,onClick:()=>{g(null)},children:"X"})]})]})})}},66766:(e,r,t)=>{"use strict";t.d(r,{default:()=>s.a});var a=t(71469),s=t.n(a)},69456:e=>{e.exports={logo:"Logo_logo__aLQuM"}},71469:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{default:function(){return i},getImageProps:function(){return o}});let a=t(88229),s=t(38883),n=t(33063),l=a._(t(51193));function o(e){let{props:r}=(0,s.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,t]of Object.entries(r))void 0===t&&delete r[e];return{props:r}}let i=n.Image},75867:(e,r,t)=>{Promise.resolve().then(t.bind(t,64630))},78749:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(19946).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},85004:(e,r,t)=>{"use strict";t.d(r,{D:()=>p,R:()=>g});var a=t(95155),s=t(12115),n=t(23915),l=t(16203),o=t(35317),i=t(90858),d=t(74826),c=t(20996);let u=(0,s.createContext)(null),g=e=>{let{children:r}=e,[t,g]=s.useState(null),[p,m]=s.useState(null),[h,_]=s.useState(null),[b,f]=s.useState(null),[x,v]=s.useState(null),[w,S]=s.useState(!0);return(0,s.useEffect)(()=>{!async function(){let e,r=await fetch("/firebase-config.json"),t=await r.json();0===(0,n.Dk)().length?(console.log("[Firebase] Initializing new instance..."),e=(0,n.Wp)(t)):(console.log("[Firebase] Reusing existing instance."),e=(0,n.Sx)()),g((0,l.xI)(e)),_((0,o.aU)(e)),f((0,i.c7)(e)),v((0,d.lS)(e,{backend:new d.C8})),m((0,c.dG)(e)),S(!1)}()},[]),(0,a.jsx)(u.Provider,{value:{authClient:t,db:h,storage:b,ai:x,messaging:p,loading:w},children:r})},p=()=>{let e=(0,s.useContext)(u);if(!e)throw Error("useFirebase must be used within FirebaseProvider");return e}},86886:(e,r,t)=>{"use strict";t.d(r,{A:()=>c});var a=t(95155),s=t(12115),n=t(28399),l=t(2029),o=t.n(l),i=t(92657),d=t(78749);let c=e=>{let{password:r,setPassword:t,id:l,name:c,placeholder:u,required:g}=e,[p,m]=s.useState(!1);return(0,a.jsxs)("div",{className:o().passwordContainer,children:[(0,a.jsx)(n.A,{type:p?"text":"password",id:l,name:c,placeholder:u,value:r,onChange:e=>t(e.target.value),required:g}),(0,a.jsx)("button",{type:"button",className:o().togglePasswordVisibility,onClick:()=>m(!p),"aria-label":p?"Hide password":"Show password",children:p?(0,a.jsx)(i.A,{className:o().eyeIcon}):(0,a.jsx)(d.A,{className:o().eyeIcon})})]})}},92657:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(19946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},93438:(e,r,t)=>{"use strict";let a;t.d(r,{xv:()=>a,yK:()=>d});var s=t(23915),n=t(16203),l=t(35317),o=t(90858),i=t(74826);t(20996),a=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)({apiKey:"AIzaSyBF7DIyylS8ByVbXxdmnmLkKpLyXSdEbQA",authDomain:"ableai-mvp.firebaseapp.com",projectId:"ableai-mvp",storageBucket:"ableai-mvp.firebasestorage.app",messagingSenderId:"697522507372",appId:"1:697522507372:web:7ce039897f0e597d4d9249"});let d=(0,n.xI)(a);(0,l.aU)(a),(0,o.c7)(a),(0,i.lS)(a,{backend:new i.C8})}},e=>{var r=r=>e(e.s=r);e.O(0,[3151,7208,2992,5965,94,3063,6874,3753,8441,1684,7358],()=>r(75867)),_N_E=e.O()}]);