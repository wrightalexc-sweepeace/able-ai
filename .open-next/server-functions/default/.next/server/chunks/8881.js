exports.id=8881,exports.ids=[8881],exports.modules={1610:(e,a,r)=>{"use strict";let t;r.d(a,{xv:()=>t,yK:()=>n});var i=r(67989),l=r(50227),d=r(75535),s=r(70146),o=r(5540);r(88906),t=(0,i.Dk)().length?(0,i.Sx)():(0,i.Wp)({apiKey:"AIzaSyBF7DIyylS8ByVbXxdmnmLkKpLyXSdEbQA",authDomain:"ableai-mvp.firebaseapp.com",projectId:"ableai-mvp",storageBucket:"ableai-mvp.firebasestorage.app",messagingSenderId:"697522507372",appId:"1:697522507372:web:7ce039897f0e597d4d9249"});let n=(0,l.xI)(t);(0,d.aU)(t),(0,s.c7)(t),(0,o.lS)(t,{backend:new o.C8})},28507:(e,a,r)=>{"use strict";r.d(a,{$:()=>i});var t=r(6475);let i=(0,t.createServerReference)("7f9e922f879d94bec4ef70481acebb5feab2934c89",t.callServer,void 0,t.findSourceMapURL,"updateVideoUrlProfileAction")},41723:(e,a,r)=>{"use strict";r.d(a,{l:()=>i});var t=r(6475);let i=(0,t.createServerReference)("7f6e200ec583a3ca81b47a9c711b1a030a0190c8e4",t.callServer,void 0,t.findSourceMapURL,"getPrivateWorkerProfileAction")},65319:(e,a,r)=>{"use strict";r.d(a,{A:()=>s});var t=r(60687),i=r(11860),l=r(83960),d=r.n(l);let s=({handleCancel:e})=>(0,t.jsx)("button",{onClick:e,className:d().cancelButton,children:(0,t.jsx)(i.A,{size:18})})},74768:(e,a,r)=>{"use strict";r.a(e,async(e,t)=>{try{r.r(a),r.d(a,{"400cd1fa767ef5281508e93e3ca1d7a0d11ad8371f":()=>i.qM,"404660310a5e0f58f816c762a9f12b9b33702d2493":()=>i.OH,"40bcfd414a2446406921fe5bddeb7f04b82b554661":()=>i.Rz,"60976633aa90a3960f31dd64f4fd8496ccbdb52456":()=>i.a6,"60e7f34a33097c37a8e1219f48e58834e6fa037656":()=>i.r2,"7f1de9fcb34699b766e1d1f69bc57b7c91511e9319":()=>l.n2,"7f257862402658dcbb09cace22b90c58d86d30046c":()=>l.ob,"7f2d9f2a7cfa3c09b0a002b25fa3ae6c4a180e8492":()=>l.Hv,"7f4ece936fed690bf93ff55c19fa93344d0926bccc":()=>l.dJ,"7f6e200ec583a3ca81b47a9c711b1a030a0190c8e4":()=>l.l5,"7f9799b3f940e2c4cd5be63a74acda7eca0ae4e549":()=>l.aT,"7f9e922f879d94bec4ef70481acebb5feab2934c89":()=>l.$4,"7f9f7e73e378181dd0d16c77220da0f031b421e8db":()=>l.ue,"7fad076ff87a53fb2dc1878d8dc87b650c1a1b2caa":()=>i.gL,"7fc40dfa19caddba6c9d7290283ce5f819d7010cc7":()=>l.ye,"7fe8cf197d6dbe944a74aabef9e6d8277bfb7071c3":()=>l.kZ});var i=r(29034),l=r(79337),d=e([i,l]);[i,l]=d.then?(await d)():d,t()}catch(e){t(e)}})},79337:(e,a,r)=>{"use strict";r.a(e,async(e,t)=>{try{r.d(a,{$4:()=>p,Hv:()=>U,aT:()=>m,dJ:()=>y,kZ:()=>h,l5:()=>T,n2:()=>w,ob:()=>R,ue:()=>v,ye:()=>g});var i=r(91199);r(42087);var l=r(30298),d=r(60444),s=r(19679),o=r(47695),n=r(18839),c=r(95115),b=r(91142),u=r(33331),f=e([l,o]);[l,o]=f.then?(await f)():f;let w=async e=>{if(!e)throw"Worker ID is required";let a=await l.db.query.GigWorkerProfilesTable.findFirst({where:(0,n.eq)(d.GigWorkerProfilesTable.id,e)});return await y(a)},T=async e=>{if(!e)throw Error("User ID is required to fetch buyer profile");let{uid:a}=await (0,o.xA)(e);if(!a)throw s.O.UNAUTHORIZED;let r=await l.db.query.UsersTable.findFirst({where:(0,n.eq)(d.UsersTable.firebaseUid,a)});if(!r)throw Error("User not found");let t=await l.db.query.GigWorkerProfilesTable.findFirst({where:(0,n.eq)(d.GigWorkerProfilesTable.userId,r.id),with:{user:{columns:{rtwStatus:!0}}}});return await y(t)},y=async e=>{try{if(!e)throw"Getting worker profile error";let a=await l.db.query.SkillsTable.findMany({where:(0,n.eq)(d.SkillsTable.workerProfileId,e.id)}),r=await l.db.query.EquipmentTable.findMany({where:(0,n.eq)(d.EquipmentTable.workerProfileId,e.id)}),t=await l.db.query.QualificationsTable.findMany({where:(0,n.eq)(d.QualificationsTable.workerProfileId,e.id)}),i=await l.db.query.UserBadgesLinkTable.findMany({where:(0,n.eq)(d.UserBadgesLinkTable.userId,e.userId)}),s=await l.db.query.ReviewsTable.findMany({where:(0,n.Uo)((0,n.eq)(d.ReviewsTable.targetUserId,e.userId),(0,n.eq)(d.ReviewsTable.type,"INTERNAL_PLATFORM"))}),o=await l.db.query.ReviewsTable.findMany({where:(0,n.Uo)((0,n.eq)(d.ReviewsTable.targetUserId,e.userId),(0,n.eq)(d.ReviewsTable.type,"EXTERNAL_REQUESTED"))}),c=s?.length,b=s?.filter(e=>1===e.rating).length,u={...e,fullBio:e?.fullBio??void 0,location:e?.location??void 0,privateNotes:e?.privateNotes??void 0,responseRateInternal:e?.responseRateInternal??void 0,videoUrl:e?.videoUrl??void 0,availabilityJson:void 0,semanticProfileJson:e?.semanticProfileJson,averageRating:c>0?b/c*100:0,awards:i,equipment:r,skills:a,reviews:s,recommendations:o,qualifications:t};return{success:!0,data:u}}catch(e){throw e}},h=async e=>{try{let a=await l.db.query.SkillsTable.findFirst({where:(0,n.eq)(d.SkillsTable.id,e)});if(!a)throw"Skill not found";let r=await l.db.query.GigWorkerProfilesTable.findFirst({where:(0,n.eq)(d.GigWorkerProfilesTable.id,a?.workerProfileId)}),t=await l.db.query.UsersTable.findFirst({where:(0,n.eq)(d.UsersTable.id,r?.userId||"")}),i=await l.db.select({id:d.UserBadgesLinkTable.id,awardedAt:d.UserBadgesLinkTable.awardedAt,awardedBySystem:d.UserBadgesLinkTable.awardedBySystem,notes:d.UserBadgesLinkTable.notes,badge:{id:d.BadgeDefinitionsTable.id,name:d.BadgeDefinitionsTable.name,description:d.BadgeDefinitionsTable.description,icon:d.BadgeDefinitionsTable.iconUrlOrLucideName,type:d.BadgeDefinitionsTable.type}}).from(d.UserBadgesLinkTable).innerJoin(d.BadgeDefinitionsTable,(0,n.eq)(d.UserBadgesLinkTable.badgeId,d.BadgeDefinitionsTable.id)).where((0,n.eq)(d.UserBadgesLinkTable.userId,r?.userId||"")),s=await l.db.query.QualificationsTable.findMany({where:(0,n.eq)(d.QualificationsTable.workerProfileId,r?.id||"")}),o=await l.db.query.ReviewsTable.findMany({where:(0,n.Uo)((0,n.eq)(d.ReviewsTable.targetUserId,r?.userId||""),(0,n.eq)(d.ReviewsTable.type,"INTERNAL_PLATFORM"))}),c=await l.db.query.ReviewsTable.findMany({where:(0,n.Uo)((0,n.eq)(d.ReviewsTable.targetUserId,r?.userId||""),(0,n.eq)(d.ReviewsTable.type,"EXTERNAL_REQUESTED"),(0,n.eq)(d.ReviewsTable.skillId,a.id))}),b=await Promise.all(o.map(async e=>{if(!e.authorUserId)return{name:"Unknown",date:e.createdAt,text:e.comment};let a=await l.db.query.UsersTable.findFirst({where:(0,n.eq)(d.UsersTable.id,e.authorUserId)});return{name:a?.fullName||"Unknown",date:e.createdAt,text:e.comment}})),u=await Promise.all(c.map(async e=>({name:e.recommenderName,date:e.createdAt,text:e.comment}))),f={workerProfileId:r?.id??"",name:t?.fullName,title:a?.name,hashtags:Array.isArray(r?.hashtags)?r.hashtags.join(" "):"",customerReviewsText:r?.fullBio,ableGigs:a?.ableGigs,experienceYears:a?.experienceYears,Eph:a?.agreedRate,location:r?.location||"",address:r?.address||"",latitude:r?.latitude??0,longitude:r?.longitude??0,videoUrl:r?.videoUrl||"",statistics:{reviews:o?.length,paymentsCollected:"\xa34899",tipsReceived:"\xa3767"},supportingImages:a.images??[],badges:i,qualifications:s,buyerReviews:b,recommendations:u};return{success:!0,data:f}}catch(e){return{success:!1,data:null,error:e}}},g=async(e,{name:a,experienceYears:r,agreedRate:t,skillVideoUrl:i,adminTags:s=[],images:c=[]})=>{try{if(!e)throw Error("Token is required");let{uid:u}=await (0,o.xA)(e);if(!u)throw Error("Unauthorized");if(parseFloat(String(t))<b.w.WORKER.MIN_HOURLY_RATE)throw Error(`Hourly rate must be at least \xa3${b.w.WORKER.MIN_HOURLY_RATE}`);let f=await l.db.query.UsersTable.findFirst({where:(0,n.eq)(d.UsersTable.firebaseUid,u)});if(!f)throw Error("User not found");let w=await l.db.query.GigWorkerProfilesTable.findFirst({where:(0,n.eq)(d.GigWorkerProfilesTable.userId,f.id)});if(!w)throw Error("Worker profile not found");let[T]=await l.db.insert(d.SkillsTable).values({workerProfileId:w.id,name:a,experienceMonths:0,experienceYears:r,agreedRate:String(t),skillVideoUrl:i||null,adminTags:s.length>0?s:null,ableGigs:null,images:c,createdAt:new Date,updatedAt:new Date}).returning();return{success:!0,data:T}}catch(e){return{success:!1,data:null,error:e}}},p=async(e,a)=>{try{if(!a)throw Error("User ID is required to fetch buyer profile");let{uid:r}=await (0,o.xA)(a);if(!r)throw s.O.UNAUTHORIZED;let t=await l.db.query.UsersTable.findFirst({where:(0,n.eq)(d.UsersTable.firebaseUid,r)});if(!t)throw"User not found";return await l.db.update(d.GigWorkerProfilesTable).set({videoUrl:e,updatedAt:new Date}).where((0,n.eq)(d.GigWorkerProfilesTable.userId,t?.id)),{success:!0,data:"Url video updated successfully"}}catch(e){return{success:!1,data:"Url video updated successfully",error:e}}},R=async(e,a,r)=>{try{if(!e)throw Error("User ID is required");let{uid:t}=await (0,o.xA)(e);if(!t)throw s.O.UNAUTHORIZED;let i=await l.db.query.SkillsTable.findFirst({where:(0,n.eq)(d.SkillsTable.id,a),columns:{images:!0}}),c=[...i?.images??[],r];return await l.db.update(d.SkillsTable).set({images:c,updatedAt:new Date}).where((0,n.eq)(d.SkillsTable.id,a)),{success:!0,data:c}}catch(e){return{success:!1,data:null,error:e}}},U=async(e,a,r)=>{try{if(!e)throw Error("User ID is required");let{uid:t}=await (0,o.xA)(e);if(!t)throw s.O.UNAUTHORIZED;let i=await l.db.query.SkillsTable.findFirst({where:(0,n.eq)(d.SkillsTable.id,a),columns:{images:!0}});if(!i)throw"Skill not found";let c=i?.images?.filter(e=>e!==r);return await l.db.update(d.SkillsTable).set({images:c,updatedAt:new Date}).where((0,n.eq)(d.SkillsTable.id,a)),{success:!0,data:c}}catch(e){return{success:!1,data:null,error:e}}},m=async e=>{try{try{await l.db.execute((0,c.ll)`SELECT 1 as test`)}catch(e){throw Error(`Database connection failed: ${e}`)}if(!e)throw Error("Token is required");let{uid:a}=await (0,o.xA)(e);if(!a)throw s.O.UNAUTHORIZED;let r=await l.db.query.UsersTable.findFirst({where:(0,n.eq)(d.UsersTable.firebaseUid,a)});if(!r)throw"User not found";let t=await l.db.query.GigWorkerProfilesTable.findFirst({where:(0,n.eq)(d.GigWorkerProfilesTable.userId,r.id)});if(t)return{success:!0,data:"Worker profile already exists",workerProfileId:t.id};let i=(await l.db.insert(d.GigWorkerProfilesTable).values({userId:r.id,createdAt:new Date,updatedAt:new Date}).returning())[0].id;return await l.db.update(d.UsersTable).set({isGigWorker:!0,lastRoleUsed:"GIG_WORKER",updatedAt:new Date}).where((0,n.eq)(d.UsersTable.id,r.id)),{success:!0,data:"Worker profile created successfully",workerProfileId:i}}catch(e){return{success:!1,data:null,error:e instanceof Error?e.message:"Unknown error"}}},v=async(e,a)=>{try{let r;if(!a)throw Error("Token is required");if(parseFloat(e.hourlyRate||"0")<b.w.WORKER.MIN_HOURLY_RATE)throw Error(`Hourly rate must be at least \xa3${b.w.WORKER.MIN_HOURLY_RATE}`);let{uid:t}=await (0,o.xA)(a);if(!t)throw s.O.UNAUTHORIZED;let i=await l.db.query.UsersTable.findFirst({where:(0,n.eq)(d.UsersTable.firebaseUid,t)});if(!i)throw"User not found";let c=await l.db.query.GigWorkerProfilesTable.findFirst({where:(0,n.eq)(d.GigWorkerProfilesTable.userId,i.id)}),u={fullBio:`${e.about}

${e.experience}`,location:"string"==typeof e.location?e.location:e.location?.formatted_address||e.location?.name||"",latitude:"object"==typeof e.location&&e.location?.lat?e.location.lat:null,longitude:"object"==typeof e.location&&e.location?.lng?e.location.lng:null,videoUrl:"string"==typeof e.videoIntro?e.videoIntro:e.videoIntro?.name||"",semanticProfileJson:{tags:e.skills.split(",").map(e=>e.trim()).filter(Boolean)},privateNotes:`Hourly Rate: ${e.hourlyRate}
`,updatedAt:new Date};if(c?(await l.db.update(d.GigWorkerProfilesTable).set(u).where((0,n.eq)(d.GigWorkerProfilesTable.userId,i.id)),r=c.id):r=(await l.db.insert(d.GigWorkerProfilesTable).values({userId:i.id,...u,createdAt:new Date}).returning())[0].id,e.availability&&"object"==typeof e.availability){let a=e=>{let[a,r]=e.split(":").map(Number),t=new Date;return t.setHours(a,r,0,0),t};await l.db.insert(d.WorkerAvailabilityTable).values({userId:i.id,days:e.availability.days||[],frequency:e.availability.frequency||"never",startDate:e.availability.startDate,startTimeStr:e.availability.startTime,endTimeStr:e.availability.endTime,startTime:a(e.availability.startTime),endTime:a(e.availability.endTime),ends:e.availability.ends||"never",occurrences:e.availability.occurrences,endDate:e.availability.endDate||null,notes:`Onboarding availability - Hourly Rate: ${e.hourlyRate}`,createdAt:new Date,updatedAt:new Date})}if(e.jobTitle&&await l.db.insert(d.SkillsTable).values({workerProfileId:r,name:e.jobTitle,experienceMonths:0,experienceYears:0,agreedRate:String(parseFloat(e.hourlyRate)||0),skillVideoUrl:null,adminTags:null,ableGigs:null,images:[],createdAt:new Date,updatedAt:new Date}),e.equipment&&e.equipment.length>0)try{await l.db.transaction(async a=>{await a.delete(d.EquipmentTable).where((0,n.eq)(d.EquipmentTable.workerProfileId,r)),await a.insert(d.EquipmentTable).values(e.equipment.map(e=>({workerProfileId:r,name:e.name,description:e.description||null,isVerifiedByAdmin:!1,createdAt:new Date,updatedAt:new Date})))})}catch(e){throw e}return await l.db.update(d.UsersTable).set({isGigWorker:!0,lastRoleUsed:"GIG_WORKER",updatedAt:new Date}).where((0,n.eq)(d.UsersTable.id,i.id)),{success:!0,data:"Worker profile saved successfully",workerProfileId:r}}catch(e){return{success:!1,data:null,error:e instanceof Error?e.message:"Unknown error"}}};(0,u.D)([w,T,y,h,g,p,R,U,m,v]),(0,i.A)(w,"7f1de9fcb34699b766e1d1f69bc57b7c91511e9319",null),(0,i.A)(T,"7f6e200ec583a3ca81b47a9c711b1a030a0190c8e4",null),(0,i.A)(y,"7f4ece936fed690bf93ff55c19fa93344d0926bccc",null),(0,i.A)(h,"7fe8cf197d6dbe944a74aabef9e6d8277bfb7071c3",null),(0,i.A)(g,"7fc40dfa19caddba6c9d7290283ce5f819d7010cc7",null),(0,i.A)(p,"7f9e922f879d94bec4ef70481acebb5feab2934c89",null),(0,i.A)(R,"7f257862402658dcbb09cace22b90c58d86d30046c",null),(0,i.A)(U,"7f2d9f2a7cfa3c09b0a002b25fa3ae6c4a180e8492",null),(0,i.A)(m,"7f9799b3f940e2c4cd5be63a74acda7eca0ae4e549",null),(0,i.A)(v,"7f9f7e73e378181dd0d16c77220da0f031b421e8db",null),t()}catch(e){t(e)}})},83960:e=>{e.exports={cancelButton:"CancelButton_cancelButton__sbVPR"}},91142:(e,a,r)=>{"use strict";r.d(a,{w:()=>t});let t={WORKER:{MIN_HOURLY_RATE:12.21,MIN_ABOUT_LENGTH:10,MIN_EXPERIENCE_LENGTH:10,MIN_SKILLS_LENGTH:5,MIN_EQUIPMENT_LENGTH:5},GIG:{MIN_TITLE_LENGTH:5,MIN_DESCRIPTION_LENGTH:10,MIN_BUDGET:1},GENERAL:{MIN_PASSWORD_LENGTH:8,MAX_FILE_SIZE_MB:10}}},92475:e=>{e.exports={container:"VideoRecorderBubble_container__iJaHA",initial:"VideoRecorderBubble_initial__hqx0L",recordButton:"VideoRecorderBubble_recordButton__qnh4_",overlay:"VideoRecorderBubble_overlay__gF_Gw",recorder:"VideoRecorderBubble_recorder__bZRaG",preview:"VideoRecorderBubble_preview__kkBfE",webcam:"VideoRecorderBubble_webcam__XaA9R",controlButton:"VideoRecorderBubble_controlButton__j9dKz",note:"VideoRecorderBubble_note__wUbF9",video:"VideoRecorderBubble_video__Cb16R",actions:"VideoRecorderBubble_actions__njmim",actionButton:"VideoRecorderBubble_actionButton__hWCuv",rerecordButton:"VideoRecorderBubble_rerecordButton__GtqHQ",saveButton:"VideoRecorderBubble_saveButton__Hotky",monitorPlay:"VideoRecorderBubble_monitorPlay__e7_RS",error:"VideoRecorderBubble_error__gIfxO"}}};