(()=>{var e={};e.id=9908,e.ids=[9908],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6475:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{callServer:function(){return r.callServer},createServerReference:function(){return s},findSourceMapURL:function(){return a.findSourceMapURL}});let r=i(11264),a=i(11448),s=i(19357).createServerReference},7879:e=>{"use strict";e.exports=import("firebase-admin/firestore")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14276:e=>{"use strict";e.exports=import("firebase-admin/auth")},14952:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});let r=(0,i(62688).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},14985:e=>{"use strict";e.exports=require("dns")},16269:(e,t,i)=>{"use strict";i.d(t,{A:()=>x});var r=i(60687);i(43210);var a=i(28559),s=i(17917),o=i.n(s),n=i(85814),c=i.n(n),l=i(21295),d=i(79563),u=i(16189),p=i(30474),f=i(40477),h=i.n(f);let m=({uid:e,handleClick:t,unreadCount:i,unreadNotifications:a})=>(0,r.jsxs)(c(),{href:`/user/${e}/notifications`,passHref:!0,onClick:t,children:[(0,r.jsx)("button",{className:h().notificationButton,"aria-label":"Notifications",children:(0,r.jsx)(p.default,{src:"/images/notifications.svg",alt:"Notifications",width:40,height:40})}),i>0||a>0?(0,r.jsx)("span",{className:h().notificationBadge,children:i>0?i:a}):null]}),x=e=>{let{user:t}=(0,l.A)(),i=(0,u.usePathname)(),{isHomePage:s,title:n,onBackClick:f,handleClick:h,unreadCount:x,unreadNotifications:_}=e,g=i.includes("/able-ai");return(0,r.jsxs)("header",{className:o().header,children:[s?(0,r.jsx)(p.default,{src:"/images/home.svg",alt:"Back",width:40,height:40}):(0,r.jsx)("button",{onClick:f,className:o().backButton,"aria-label":"Go back",children:(0,r.jsx)(a.A,{size:20})}),n&&(0,r.jsx)("h1",{className:o().title,children:n}),(0,r.jsx)(c(),{href:`/user/${t?.uid}/able-ai`,className:o().chat,children:g?(0,r.jsx)(d.A,{width:40,height:40}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"Chat with Able"}),(0,r.jsx)(d.A,{width:30,height:30})]})}),s&&(0,r.jsx)(m,{uid:t?.uid,handleClick:h,unreadCount:x,unreadNotifications:_})]})}},17917:e=>{e.exports={header:"ScreenHeaderWithBack_header__mx1Ch",backButton:"ScreenHeaderWithBack_backButton__0EIlD",title:"ScreenHeaderWithBack_title__Un97C",chat:"ScreenHeaderWithBack_chat__WpLse"}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21169:e=>{e.exports={logo:"Logo_logo__aLQuM"}},21820:e=>{"use strict";e.exports=require("os")},27189:(e,t,i)=>{"use strict";i.d(t,{q:()=>a});var r=i(6475);let a=(0,r.createServerReference)("400cd1fa767ef5281508e93e3ca1d7a0d11ad8371f",r.callServer,void 0,r.findSourceMapURL,"getAllNotificationsAction")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},28559:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});let r=(0,i(62688).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},28672:(e,t,i)=>{Promise.resolve().then(i.bind(i,64726))},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},40477:e=>{e.exports={notificationButton:"Notification_notificationButton__NL740",notificationBadge:"Notification_notificationBadge__ZxPNU"}},43649:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});let r=(0,i(62688).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},46675:e=>{"use strict";e.exports=require("firebase-admin")},47536:e=>{e.exports={container:"NotificationsPage_container__Yh52o",card:"NotificationsPage_card__0_zTq",pageWrapper:"NotificationsPage_pageWrapper__e_Nl6",header:"NotificationsPage_header__nFg2r",backButton:"NotificationsPage_backButton__6tuqd",pageTitle:"NotificationsPage_pageTitle__2D5zp",notificationList:"NotificationsPage_notificationList__uRITO",notificationItem:"NotificationsPage_notificationItem___MRVr",unread:"NotificationsPage_unread__rXnhN",notificationContent:"NotificationsPage_notificationContent__ysUX_",notificationIcon:"NotificationsPage_notificationIcon__dojAY",notificationMessage:"NotificationsPage_notificationMessage__ihMT5",notificationTimestamp:"NotificationsPage_notificationTimestamp__t6TuL",chevron:"NotificationsPage_chevron__fJsro",footer:"NotificationsPage_footer__VPblN",homeButton:"NotificationsPage_homeButton__Ch50C",emptyState:"NotificationsPage_emptyState__fIQTd",loadingContainer:"NotificationsPage_loadingContainer__QIvvb"}},48551:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});let r=(0,i(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/israel/personal/code/alex/able-ai/app/(web-client)/user/[userId]/notifications/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/israel/personal/code/alex/able-ai/app/(web-client)/user/[userId]/notifications/page.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},62688:(e,t,i)=>{"use strict";i.d(t,{A:()=>u});var r=i(43210);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),o=e=>{let t=s(e);return t.charAt(0).toUpperCase()+t.slice(1)},n=(...e)=>e.filter((e,t,i)=>!!e&&""!==e.trim()&&i.indexOf(e)===t).join(" ").trim(),c=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:s="",children:o,iconNode:d,...u},p)=>(0,r.createElement)("svg",{ref:p,...l,width:t,height:t,stroke:e,strokeWidth:a?24*Number(i)/Number(t):i,className:n("lucide",s),...!o&&!c(u)&&{"aria-hidden":"true"},...u},[...d.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(o)?o:[o]])),u=(e,t)=>{let i=(0,r.forwardRef)(({className:i,...s},c)=>(0,r.createElement)(d,{ref:c,iconNode:t,className:n(`lucide-${a(o(e))}`,`lucide-${e}`,i),...s}));return i.displayName=o(e),i}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64726:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>N});var r=i(60687),a=i(43210),s=i(16189),o=i(85814),n=i.n(o),c=i(30474),l=i(96882),d=i(43649),u=i(14952),p=i(47536),f=i.n(p),h=i(65456),m=i(21295);i(27189);var x=i(6475);let _=(0,x.createServerReference)("60e7f34a33097c37a8e1219f48e58834e6fa037656",x.callServer,void 0,x.findSourceMapURL,"updateNotificationStatusAction");var g=i(16269);let b=e=>{if(!e)return null;switch(e){case"offer":case"gigUpdate":case"badge":case"referral":return(0,r.jsx)(c.default,{src:"/images/notifications.svg",width:20,height:20,className:f().notificationIcon,alt:"notification icon"});case"payment":case"system":default:return(0,r.jsx)(l.A,{size:20,className:f().notificationIcon});case"actionRequired":return(0,r.jsx)(d.A,{size:20,className:f().notificationIcon})}},v=e=>{let t=new Date(e),i=Math.round((new Date().getTime()-t.getTime())/1e3);if(i<60)return`${i}s ago`;let r=Math.round(i/60);if(r<60)return`${r}m ago`;let a=Math.round(r/60);if(a<24)return`${a}h ago`;let s=Math.round(a/24);return s<7?`${s}d ago`:t.toLocaleDateString()};function N(){let e=(0,s.useRouter)(),t=(0,s.useParams)().userId,{user:i}=(0,m.A)();i?.token;let o=i?.uid,[l,d]=(0,a.useState)([]),[p,x]=(0,a.useState)(!0),[N,j]=(0,a.useState)(null),w=async t=>{t.link&&e.push(t.link),await _(t.id,"read")};return!i||o&&o!==t?(0,r.jsx)(h.A,{}):(0,r.jsx)("div",{className:f().container,children:(0,r.jsxs)("div",{className:f().card,children:[(0,r.jsx)(g.A,{title:"Notifications",onBackClick:()=>{i?.claims.role==="BUYER"?e.push(`/user/${o}/buyer`):i?.claims.role==="GIG_WORKER"?e.push(`/user/${o}/worker`):i?e.push("/select-role"):e.back()}}),(0,r.jsxs)("div",{className:f().pageWrapper,children:[p?(0,r.jsx)(h.A,{}):N?(0,r.jsx)("div",{className:f().emptyState,children:N}):0===l.length?(0,r.jsx)("div",{className:f().emptyState,children:"You have no new notifications."}):(0,r.jsx)("div",{className:f().notificationList,children:l.map(e=>(0,r.jsxs)("div",{className:`${f().notificationItem} ${!e.isRead?f().unread:""}`,onClick:()=>w(e),role:"button",tabIndex:0,onKeyPress:t=>"Enter"===t.key&&w(e),children:[(0,r.jsxs)("div",{className:f().notificationContent,children:[e?.icon||b(e.type),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:f().notificationMessage,children:e.message}),(0,r.jsx)("div",{className:f().notificationTimestamp,children:v(e.timestamp)})]})]}),(0,r.jsx)(u.A,{size:20,className:f().chevron})]},e.id))}),(0,r.jsx)("footer",{className:f().footer,children:(0,r.jsx)(n(),{href:i?.claims.role==="BUYER"?`/user/${o}/buyer`:i?.claims.role==="GIG_WORKER"?`/user/${o}/worker`:"/select-role",passHref:!0,children:(0,r.jsx)("button",{className:f().homeButton,"aria-label":"Go to Home",children:(0,r.jsx)(c.default,{src:"/images/home.svg",width:24,height:24,className:f().homeIcon,alt:"Home icon"})})})})]})]})})}},64939:e=>{"use strict";e.exports=import("pg")},65120:(e,t,i)=>{Promise.resolve().then(i.bind(i,48551))},65456:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var r=i(60687),a=i(89521),s=i.n(a);let o=({customClass:e,customStyle:t})=>(0,r.jsx)("div",{className:e||s().loadingContainer,style:t,children:(0,r.jsx)("div",{className:s().loader})})},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},78212:(e,t,i)=>{"use strict";i.r(t),i.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>l});var r=i(65239),a=i(48088),s=i(88170),o=i.n(s),n=i(30893),c={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);i.d(t,c);let l={children:["",{children:["(web-client)",{children:["user",{children:["[userId]",{children:["notifications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,48551)),"/home/israel/personal/code/alex/able-ai/app/(web-client)/user/[userId]/notifications/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(i.bind(i,14866)),"/home/israel/personal/code/alex/able-ai/app/(web-client)/layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(i.t.bind(i,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(i.t.bind(i,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(i.bind(i,58014)),"/home/israel/personal/code/alex/able-ai/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(i.t.bind(i,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(i.t.bind(i,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(i.bind(i,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/home/israel/personal/code/alex/able-ai/app/(web-client)/user/[userId]/notifications/page.tsx"],u={require:i,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(web-client)/user/[userId]/notifications/page",pathname:"/user/[userId]/notifications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},79551:e=>{"use strict";e.exports=require("url")},79563:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});var r=i(60687);i(43210);var a=i(30474),s=i(21169),o=i.n(s);let n=({width:e=260,height:t=260})=>(0,r.jsx)(a.default,{src:"/images/ableai.png",alt:"App Logo",width:e,height:t,className:o().logo})},81630:e=>{"use strict";e.exports=require("http")},89521:e=>{e.exports={loadingContainer:"Loader_loadingContainer__p_FTp",loader:"Loader_loader__8pViD",l3:"Loader_l3__h_z0X"}},91645:e=>{"use strict";e.exports=require("net")},91902:(e,t,i)=>{"use strict";i.a(e,async(e,r)=>{try{i.r(t),i.d(t,{"400cd1fa767ef5281508e93e3ca1d7a0d11ad8371f":()=>a.qM,"404660310a5e0f58f816c762a9f12b9b33702d2493":()=>a.OH,"40bcfd414a2446406921fe5bddeb7f04b82b554661":()=>a.Rz,"60976633aa90a3960f31dd64f4fd8496ccbdb52456":()=>a.a6,"60e7f34a33097c37a8e1219f48e58834e6fa037656":()=>a.r2,"7fad076ff87a53fb2dc1878d8dc87b650c1a1b2caa":()=>a.gL});var a=i(29034),s=e([a]);a=(s.then?(await s)():s)[0],r()}catch(e){r(e)}})},92602:e=>{"use strict";e.exports=import("firebase-admin/messaging")},94735:e=>{"use strict";e.exports=require("events")},96882:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});let r=(0,i(62688).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])}};var t=require("../../../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),r=t.X(0,[4447,9558,1658,6533,2002,7715,6637,683],()=>i(78212));module.exports=r})();