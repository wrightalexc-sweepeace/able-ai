(()=>{var e={};e.id=4565,e.ids=[4565],e.modules={1610:(e,t,r)=>{"use strict";let a;r.d(t,{xv:()=>a,yK:()=>c});var s=r(67989),i=r(50227),n=r(75535),o=r(70146),l=r(5540);r(88906),a=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)({apiKey:"AIzaSyBF7DIyylS8ByVbXxdmnmLkKpLyXSdEbQA",authDomain:"ableai-mvp.firebaseapp.com",projectId:"ableai-mvp",storageBucket:"ableai-mvp.firebasestorage.app",messagingSenderId:"697522507372",appId:"1:697522507372:web:7ce039897f0e597d4d9249"});let c=(0,i.xI)(a);(0,n.aU)(a),(0,o.c7)(a),(0,l.lS)(a,{backend:new l.C8})},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5336:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(62688).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6490:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{E8:()=>g,RH:()=>_,SH:()=>y,V0:()=>h,fk:()=>b,sK:()=>x});var s=r(91199);r(42087);var i=r(30298),n=r(60444),o=r(86745),l=r(19679),c=r(47695),d=r(18839),u=r(55511),p=r.n(u),f=r(33331),m=e([i,c]);[i,c]=m.then?(await m)():m;let h=async e=>{try{if(!e)throw"Token is required";let{data:t,uid:r}=await (0,c.xA)(e);if(!t)throw l.O.UNAUTHORIZED;let a=await i.db.query.UsersTable.findFirst({where:(0,d.eq)(n.UsersTable.firebaseUid,r),with:{notificationPreferences:!0}});return{success:!0,data:a}}catch(e){return console.error("Error retrieving user profile",e),{success:!1,error:e}}},g=async(e,t)=>{try{if(!t)throw"Token is required";let{data:r,uid:a}=await (0,c.xA)(t);if(!r)throw l.O.UNAUTHORIZED;let s=await i.db.update(n.UsersTable).set(e).where((0,d.eq)(n.UsersTable.firebaseUid,a)).returning();return{success:!0,data:s[0]||null}}catch(e){return console.error("Error updating user profile",e),{success:!1,error:e}}},b=async(e,t)=>{try{if(!t)throw"Token is required";let{data:r,uid:a}=await (0,c.xA)(t);if(!r)throw l.O.UNAUTHORIZED;let s=await i.db.update(n.UsersTable).set(e).where((0,d.eq)(n.UsersTable.firebaseUid,a)).returning();return{success:!0,data:s[0]?.profileVisibility}}catch(t){return console.error("Error updating profile visibility",t),{success:!1,error:t,data:!e.profileVisibility}}},_=async(e,t)=>{try{if(!t)throw"Token is required";let{data:r,uid:a}=await (0,c.xA)(t);if(!r)throw l.O.UNAUTHORIZED;let s=await i.db.query.UsersTable.findFirst({where:(0,d.eq)(n.UsersTable.firebaseUid,a),with:{notificationPreferences:!0}});if(!s)throw"Error retrieving user profile";let o=await i.db.update(n.NotificationPreferencesTable).set({emailGigUpdates:e.emailProferences}).where((0,d.eq)(n.NotificationPreferencesTable.userId,s.id)).returning();if(o[0]?.emailGigUpdates===e.emailProferences)return{success:!0,data:o[0]?.emailGigUpdates};throw"Error updating notification email preferences"}catch(t){return console.error("Error updating email preferences",t),{success:!1,error:t,data:!e.emailProferences}}},y=async(e,t)=>{try{if(!t)throw"Token is required";let{data:r,uid:a}=await (0,c.xA)(t);if(!r)throw l.O.UNAUTHORIZED;let s=await i.db.query.UsersTable.findFirst({where:(0,d.eq)(n.UsersTable.firebaseUid,a),with:{notificationPreferences:!0}});if(!s)throw"Error retrieving user profile";let o=await i.db.update(n.NotificationPreferencesTable).set({smsGigAlerts:e.smsGigAlerts}).where((0,d.eq)(n.NotificationPreferencesTable.userId,s.id)).returning();return{success:!0,data:o[0]?.smsGigAlerts}}catch(t){return console.error("Error updating SMS preferences",t),{success:!1,error:t,data:e.smsGigAlerts}}},x=async({firebaseUid:e})=>{try{let t=await i.db.select({code:o.uu.code,userId:n.UsersTable.id}).from(n.UsersTable).leftJoin(o.uu,(0,d.eq)(o.uu.userId,n.UsersTable.id)).where((0,d.eq)(n.UsersTable.firebaseUid,e));if(!t.length)throw Error("User not found for firebaseUid "+e);if(t[0].code)return{code:t[0].code};let r="REF-"+p().randomBytes(3).toString("hex").toUpperCase(),[a]=await i.db.insert(o.uu).values({code:r,type:"USER_REFERRAL",userId:t[0].userId,discountAmount:"5.00",alreadyUsed:!1}).returning({code:o.uu.code});return a}catch(e){return console.error("Error in getUserReferralCodeAction:",e),null}};(0,f.D)([h,g,b,_,y,x]),(0,s.A)(h,"7f9b448d512c6180059965a8ae30b38592af924acf",null),(0,s.A)(g,"7f8ca9fdff883a3c4676db6e04811fb45c2e8b4a5a",null),(0,s.A)(b,"7fdd3361df32ca0ce47c1fae11a37f969b2dc3f187",null),(0,s.A)(_,"7f0eb08353f179bb33f676482e234afde0687b7d2c",null),(0,s.A)(y,"7f70361382587ca02f49f003a74e18ab229f439f9a",null),(0,s.A)(x,"7febd407effd0bf8897393b517c555c17a8bb2313b",null),a()}catch(e){a(e)}})},7879:e=>{"use strict";e.exports=import("firebase-admin/firestore")},8819:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(62688).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11860:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(62688).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},12470:(e,t,r)=>{"use strict";r.d(t,{o:()=>i});var a=r(8835);let s=process.env.STRIPE_SECRET_KEY,i=s?new a.A(s):new Proxy({},{get(){throw Error("Stripe is not configured (missing STRIPE_SECRET_KEY). This action requires Stripe to be set up.")}})},13861:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(62688).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},14276:e=>{"use strict";e.exports=import("firebase-admin/auth")},14985:e=>{"use strict";e.exports=require("dns")},16269:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var a=r(60687);r(43210);var s=r(28559),i=r(17917),n=r.n(i),o=r(85814),l=r.n(o),c=r(21295),d=r(79563),u=r(16189),p=r(30474),f=r(40477),m=r.n(f);let h=({uid:e,handleClick:t,unreadCount:r,unreadNotifications:s})=>(0,a.jsxs)(l(),{href:`/user/${e}/notifications`,passHref:!0,onClick:t,children:[(0,a.jsx)("button",{className:m().notificationButton,"aria-label":"Notifications",children:(0,a.jsx)(p.default,{src:"/images/notifications.svg",alt:"Notifications",width:40,height:40})}),r>0||s>0?(0,a.jsx)("span",{className:m().notificationBadge,children:r>0?r:s}):null]}),g=e=>{let{user:t}=(0,c.A)(),r=(0,u.usePathname)(),{isHomePage:i,title:o,onBackClick:f,handleClick:m,unreadCount:g,unreadNotifications:b}=e,_=r.includes("/able-ai");return(0,a.jsxs)("header",{className:n().header,children:[i?(0,a.jsx)(p.default,{src:"/images/home.svg",alt:"Back",width:40,height:40}):(0,a.jsx)("button",{onClick:f,className:n().backButton,"aria-label":"Go back",children:(0,a.jsx)(s.A,{size:20})}),o&&(0,a.jsx)("h1",{className:n().title,children:o}),(0,a.jsx)(l(),{href:`/user/${t?.uid}/able-ai`,className:n().chat,children:_?(0,a.jsx)(d.A,{width:40,height:40}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"Chat with Able"}),(0,a.jsx)(d.A,{width:30,height:30})]})}),i&&(0,a.jsx)(h,{uid:t?.uid,handleClick:m,unreadCount:g,unreadNotifications:b})]})}},16626:e=>{e.exports={stripeButton:"stripeModal_stripeButton__3hxT6",workerBtn:"stripeModal_workerBtn__uY6UI",buyerBtn:"stripeModal_buyerBtn__NKbXI",modalOverlay:"stripeModal_modalOverlay__bQhFW",modalContent:"stripeModal_modalContent__4Y_4m",modalTitle:"stripeModal_modalTitle__Jk3TR",modalHeaderContent:"stripeModal_modalHeaderContent__qwS0h",modalActions:"stripeModal_modalActions__98eqX",closeButton:"stripeModal_closeButton__jzW1b",modalHeader:"stripeModal_modalHeader___CV4f",connectionStatus:"stripeModal_connectionStatus__6jTCZ"}},17430:e=>{e.exports={input:"InputField_input__NlH8Q"}},17451:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{V:()=>u});var s=r(91199);r(42087);var i=r(18839),n=r(12470),o=r(30298),l=r(60444),c=r(33331),d=e([o]);async function u(e){try{if(!e)return{error:"User ID is required.",status:400};let t=await o.db.query.UsersTable.findFirst({where:(0,i.eq)(l.UsersTable.firebaseUid,e),columns:{stripeConnectAccountId:!0}});if(!t)throw Error("User not found");if(!t.stripeConnectAccountId)return{error:"Stripe Connected Account ID not found for this user. Please connect your bank account first.",status:404};return{url:(await n.o.accounts.createLoginLink(t.stripeConnectAccountId)).url,status:200}}catch(e){return console.error("Error creating Stripe Account Link:",e),{error:e.message,status:500}}}o=(d.then?(await d)():d)[0],(0,c.D)([u]),(0,s.A)(u,"40581ab4c8b323b1eb03a134088d223d58f704d344",null),a()}catch(e){a(e)}})},17738:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{Y:()=>c});var s=r(18839),i=r(30298),n=r(60444),o=r(12470),l=e([i]);async function c(e){let{userId:t,email:r,name:a}=e,l=await i.db.query.UsersTable.findFirst({where:(0,s.eq)(n.UsersTable.id,t),columns:{stripeCustomerId:!0,email:!0,fullName:!0}});if(l?.stripeCustomerId)return console.log(`Stripe Customer already exists for User ID ${t}: ${l.stripeCustomerId}`),o.o.customers.retrieve(l.stripeCustomerId);try{let e=await o.o.customers.create({email:r||l?.email,name:a||l?.fullName,metadata:{yourInternalUserId:t},description:`Customer for internal User ID: ${t}`});return console.log(`Stripe Customer created for user ${t}: ${e.id}`),await i.db.update(n.UsersTable).set({stripeCustomerId:e.id,updatedAt:new Date}).where((0,s.eq)(n.UsersTable.id,t)),console.log(`Stripe Customer ID ${e.id} save in db for User ID: ${t}`),e}catch(e){throw console.error(`Error creating Stripe Customer for User ID ${t}:`,e.message),Error(`Failed to create Stripe customer: ${e.message}`)}}i=(l.then?(await l)():l)[0],a()}catch(e){a(e)}})},17917:e=>{e.exports={header:"ScreenHeaderWithBack_header__mx1Ch",backButton:"ScreenHeaderWithBack_backButton__0EIlD",title:"ScreenHeaderWithBack_title__Un97C",chat:"ScreenHeaderWithBack_chat__WpLse"}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21169:e=>{e.exports={logo:"Logo_logo__aLQuM"}},21820:e=>{"use strict";e.exports=require("os")},24076:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{y:()=>p});var s=r(91199);r(42087);var i=r(18839),n=r(12470),o=r(30298),l=r(60444),c=r(17738),d=r(33331),u=e([o,c]);async function p(e){if(!e)return{error:"User ID is required.",status:400};try{let t=await o.db.query.UsersTable.findFirst({where:(0,i.eq)(l.UsersTable.firebaseUid,e),columns:{id:!0}});if(!t)throw Error("User not found");let r=(await (0,c.Y)({userId:t.id})).id;return{clientSecret:(await n.o.setupIntents.create({customer:r,usage:"off_session",metadata:{userId:t.id,type:"initial_payment_method_setup"},automatic_payment_methods:{enabled:!0}})).client_secret,stripeCustomerId:r,status:200}}catch(e){return console.error("Error creating setup intent:",e),{error:e.message,status:500}}}[o,c]=u.then?(await u)():u,(0,d.D)([p]),(0,s.A)(p,"40485e5ba9a725bc106541813990a1494415398c2d",null),a()}catch(e){a(e)}})},26532:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.d(t,{I:()=>p});var s=r(91199);r(42087);var i=r(74208),n=r(18839),o=r(12470),l=r(30298),c=r(60444),d=r(33331),u=e([l]);async function p(e){let t=await (0,i.b3)(),r=t.get("origin")||t.get("host");try{if(!e)return{error:"User ID is required.",status:400};let t=await l.db.query.UsersTable.findFirst({where:(0,n.eq)(c.UsersTable.firebaseUid,e)});if(!t)throw Error("User not found");let a=t?.stripeConnectAccountId;return a||(a=(await o.o.accounts.create({type:"express",country:"US",email:t?.email||"",capabilities:{card_payments:{requested:!0},transfers:{requested:!0}},business_type:"individual",individual:{email:t?.email||"",first_name:t?.fullName?.split(" ")[0],last_name:t?.fullName?.slice(t.fullName.indexOf(" ")+1)},metadata:{userId:String(t?.id)}})).id,await l.db.update(c.UsersTable).set({stripeConnectAccountId:a}).where((0,n.eq)(c.UsersTable.id,t.id))),{url:(await o.o.accountLinks.create({account:a,refresh_url:`${r}/user/${t.id}/settings/onboarding-retry`,return_url:`${r}/user/${t.id}/settings/onboarding-success?account_id=${a}`,type:"account_onboarding"})).url,status:200}}catch(e){return console.error("Error creating Stripe Account Link:",e),{error:e.message,status:500}}}l=(u.then?(await u)():u)[0],(0,d.D)([p]),(0,s.A)(p,"404a83a773f709870df51d0df4fef9f92c356ea997",null),a()}catch(e){a(e)}})},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},28559:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(62688).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},29021:e=>{"use strict";e.exports=require("fs")},29209:(e,t,r)=>{Promise.resolve().then(r.bind(r,64274))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},35088:(e,t,r)=>{"use strict";r.d(t,{I:()=>s});var a=r(6475);let s=(0,a.createServerReference)("404a83a773f709870df51d0df4fef9f92c356ea997",a.callServer,void 0,a.findSourceMapURL,"createAccountLink")},40477:e=>{e.exports={notificationButton:"Notification_notificationButton__NL740",notificationBadge:"Notification_notificationBadge__ZxPNU"}},42308:e=>{e.exports={modal:"PhoneNumberModal_modal__hGM9d",fadeIn:"PhoneNumberModal_fadeIn__xjZn5",titleContainer:"PhoneNumberModal_titleContainer__kTaBO",title:"PhoneNumberModal_title__NzEsh",text:"PhoneNumberModal_text__jHGxX",buttonRow:"PhoneNumberModal_buttonRow__thRoM",button:"PhoneNumberModal_button__stdX2",closeBtn:"PhoneNumberModal_closeBtn__v6jjF"}},43335:(e,t,r)=>{"use strict";let a;r.d(t,{A:()=>l});var s=r(60687);r(43210);var i=r(46299),n=r(39010);let o=async()=>{if(!process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY)throw Error("Missing Stripe Public Key");return a||(a=(0,n.c)(process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY)),a},l=({children:e,options:t})=>(0,s.jsx)(i.S8,{stripe:o(),options:t,children:e})},43649:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(62688).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},46675:e=>{"use strict";e.exports=require("firebase-admin")},48167:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var a=r(60687),s=r(43210),i=r.n(s),n=r(64961),o=r(97844),l=r.n(o),c=r(13861);let d=(0,r(62688).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),u=({password:e,setPassword:t,id:r,name:s,placeholder:o,required:u})=>{let[p,f]=i().useState(!1);return(0,a.jsxs)("div",{className:l().passwordContainer,children:[(0,a.jsx)(n.A,{type:p?"text":"password",id:r,name:s,placeholder:o,value:e,onChange:e=>t(e.target.value),required:u}),(0,a.jsx)("button",{type:"button",className:l().togglePasswordVisibility,onClick:()=>f(!p),"aria-label":p?"Hide password":"Show password",children:p?(0,a.jsx)(c.A,{className:l().eyeIcon}):(0,a.jsx)(d,{className:l().eyeIcon})})]})}},48508:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var a=r(65239),s=r(48088),i=r(88170),n=r.n(i),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c={children:["",{children:["(web-client)",{children:["user",{children:["[userId]",{children:["settings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,64274)),"/home/israel/personal/code/alex/able-ai/app/(web-client)/user/[userId]/settings/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,14866)),"/home/israel/personal/code/alex/able-ai/app/(web-client)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"/home/israel/personal/code/alex/able-ai/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["/home/israel/personal/code/alex/able-ai/app/(web-client)/user/[userId]/settings/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(web-client)/user/[userId]/settings/page",pathname:"/user/[userId]/settings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},55213:e=>{e.exports={switchGroup:"SwitchControl_switchGroup__Tt_JU",label:"SwitchControl_label__tws0L",switchRoot:"SwitchControl_switchRoot__miRAI",switchThumb:"SwitchControl_switchThumb__VsM4V"}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},59837:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ep});var a=r(60687),s=r(43210),i=r.t(s,2),n=r(16189),o=r(50227),l=r(64961),c=r(69788),d=r.n(c),u=r(43649),p=r(5336),f=r(8819),m=r(62688);let h=(0,m.A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),g=(0,m.A)("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),b=(0,m.A)("circle-minus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);var _=r(65456),y=r(21295),x=r(35088),v=r(6475);v.callServer,v.findSourceMapURL;var w=r(67989);function S(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function N(...e){return s.useCallback(function(...e){return t=>{let r=!1,a=e.map(e=>{let a=S(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():S(e[t],null)}}}}(...e),e)}var j=globalThis?.document?s.useLayoutEffect:()=>{},P=i[" useInsertionEffect ".trim().toString()]||j;Symbol("RADIX:SYNC_STATE"),r(51215);var C=Symbol("radix.slottable");function k(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===C}var A=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=function(e){let t=function(e){let t=s.forwardRef((e,t)=>{var r;let a,i,{children:n,...o}=e,l=N(s.isValidElement(n)?(r=n,(i=(a=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?r.ref:(i=(a=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?r.props.ref:r.props.ref||r.ref):void 0,t);if(s.isValidElement(n)){let e=function(e,t){let r={...t};for(let a in t){let s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?r[a]=(...e)=>{let t=i(...e);return s(...e),t}:s&&(r[a]=s):"style"===a?r[a]={...s,...i}:"className"===a&&(r[a]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}(o,n.props);return n.type!==s.Fragment&&(e.ref=l),s.cloneElement(n,e)}return s.Children.count(n)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=s.forwardRef((e,r)=>{let{children:i,...n}=e,o=s.Children.toArray(i),l=o.find(k);if(l){let e=l.props.children,i=o.map(t=>t!==l?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,a.jsx)(t,{...n,ref:r,children:s.isValidElement(e)?s.cloneElement(e,void 0,i):null})}return(0,a.jsx)(t,{...n,ref:r,children:i})});return r.displayName=`${e}.Slot`,r}(`Primitive.${t}`),i=s.forwardRef((e,s)=>{let{asChild:i,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(i?r:t,{...n,ref:s})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),E="Switch",[I,R]=function(e,t=[]){let r=[],i=()=>{let t=r.map(e=>s.createContext(e));return function(r){let a=r?.[e]||t;return s.useMemo(()=>({[`__scope${e}`]:{...r,[e]:a}}),[r,a])}};return i.scopeName=e,[function(t,i){let n=s.createContext(i),o=r.length;r=[...r,i];let l=t=>{let{scope:r,children:i,...l}=t,c=r?.[e]?.[o]||n,d=s.useMemo(()=>l,Object.values(l));return(0,a.jsx)(c.Provider,{value:d,children:i})};return l.displayName=t+"Provider",[l,function(r,a){let l=a?.[e]?.[o]||n,c=s.useContext(l);if(c)return c;if(void 0!==i)return i;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=r.reduce((t,{useScope:r,scopeName:a})=>{let s=r(e)[`__scope${a}`];return{...t,...s}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}(i,...t)]}(E),[T,U]=I(E),M=s.forwardRef((e,t)=>{let{__scopeSwitch:r,name:i,checked:n,defaultChecked:o,required:l,disabled:c,value:d="on",onCheckedChange:u,form:p,...f}=e,[m,h]=s.useState(null),g=N(t,e=>h(e)),b=s.useRef(!1),_=!m||p||!!m.closest("form"),[y,x]=function({prop:e,defaultProp:t,onChange:r=()=>{},caller:a}){let[i,n,o]=function({defaultProp:e,onChange:t}){let[r,a]=s.useState(e),i=s.useRef(r),n=s.useRef(t);return P(()=>{n.current=t},[t]),s.useEffect(()=>{i.current!==r&&(n.current?.(r),i.current=r)},[r,i]),[r,a,n]}({defaultProp:t,onChange:r}),l=void 0!==e,c=l?e:i;{let t=s.useRef(void 0!==e);s.useEffect(()=>{let e=t.current;if(e!==l){let t=l?"controlled":"uncontrolled";console.warn(`${a} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=l},[l,a])}return[c,s.useCallback(t=>{if(l){let r="function"==typeof t?t(e):t;r!==e&&o.current?.(r)}else n(t)},[l,e,n,o])]}({prop:n,defaultProp:o??!1,onChange:u,caller:E});return(0,a.jsxs)(T,{scope:r,checked:y,disabled:c,children:[(0,a.jsx)(A.button,{type:"button",role:"switch","aria-checked":y,"aria-required":l,"data-state":L(y),"data-disabled":c?"":void 0,disabled:c,value:d,...f,ref:g,onClick:function(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),!1===r||!a.defaultPrevented)return t?.(a)}}(e.onClick,e=>{x(e=>!e),_&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})}),_&&(0,a.jsx)(F,{control:m,bubbles:!b.current,name:i,value:d,checked:y,required:l,disabled:c,form:p,style:{transform:"translateX(-100%)"}})]})});M.displayName=E;var q="SwitchThumb",B=s.forwardRef((e,t)=>{let{__scopeSwitch:r,...s}=e,i=U(q,r);return(0,a.jsx)(A.span,{"data-state":L(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})});B.displayName=q;var F=s.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:i=!0,...n},o)=>{let l=s.useRef(null),c=N(l,o),d=function(e){let t=s.useRef({value:e,previous:e});return s.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(r),u=function(e){let[t,r]=s.useState(void 0);return j(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let a,s;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,s=t.blockSize}else a=e.offsetWidth,s=e.offsetHeight;r({width:a,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}(t);return s.useEffect(()=>{let e=l.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(d!==r&&t){let a=new Event("click",{bubbles:i});t.call(e,r),e.dispatchEvent(a)}},[d,r,i]),(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...n,tabIndex:-1,ref:c,style:{...n.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function L(e){return e?"checked":"unchecked"}F.displayName="SwitchBubbleInput";var H=r(55213),$=r.n(H);let D=({id:e,label:t,checked:r,onCheckedChange:s,disabled:i=!1})=>(0,a.jsxs)("div",{className:$().switchGroup,children:[t&&(0,a.jsx)("label",{htmlFor:e,className:$().label,children:t}),(0,a.jsx)(M,{id:e,checked:r,onCheckedChange:s,disabled:i,className:$().switchRoot,children:(0,a.jsx)(B,{className:$().switchThumb})})]});var O=r(52581);let G=(0,v.createServerReference)("7f9b448d512c6180059965a8ae30b38592af924acf",v.callServer,void 0,v.findSourceMapURL,"getProfileInfoUserAction"),V=(0,v.createServerReference)("7f8ca9fdff883a3c4676db6e04811fb45c2e8b4a5a",v.callServer,void 0,v.findSourceMapURL,"updateUserProfileAction"),z=(0,v.createServerReference)("7f0eb08353f179bb33f676482e234afde0687b7d2c",v.callServer,void 0,v.findSourceMapURL,"updateNotificationEmailAction"),W=(0,v.createServerReference)("7f70361382587ca02f49f003a74e18ab229f439f9a",v.callServer,void 0,v.findSourceMapURL,"updateNotificationSmsAction"),K=(0,v.createServerReference)("7fdd3361df32ca0ce47c1fae11a37f969b2dc3f187",v.callServer,void 0,v.findSourceMapURL,"updateProfileVisibilityAction");var Y=r(11860),X=r(16626),Z=r.n(X),J=r(46299);let Q=(0,v.createServerReference)("40485e5ba9a725bc106541813990a1494415398c2d",v.callServer,void 0,v.findSourceMapURL,"createSetupIntent");var ee=r(77247),et=r.n(ee);let er=({userId:e})=>{let t=(0,J.t2)(),r=(0,J.HH)(),[i,n]=(0,s.useState)(null),[o,l]=(0,s.useState)(""),[c,d]=(0,s.useState)(!1),[u,p]=(0,s.useState)(null);(0,s.useEffect)(()=>{let t=async()=>{d(!0),p(null);try{let t=await Q(e),r=await t;r.clientSecret?(n(r.clientSecret),l(r.stripeCustomerId||"")):p(r?.error||"Error obtaining the SetupIntent.")}catch(e){p(`network error: ${e.message}`)}finally{d(!1)}};e&&!i&&t()},[e,i]);let f=async a=>{if(a.preventDefault(),!t||!r||!i)return void p("Stripe has not loaded correctly or data is missing.");d(!0),p("Saving payment method...");let{error:s}=await r.submit();if(s)return;let{error:n}=await t.confirmSetup({elements:r,clientSecret:i,confirmParams:{return_url:`${window.location.origin}/user/${e}/settings/payment-method-setup-success?customer_id=${o}`}});n?("card_error"===n.type||"validation_error"===n.type?p(n.message||"Error in the card or validation."):p("An unexpected error occurred while saving the payment method."),d(!1)):p("Saved payment method. Redirecting...")};return(0,a.jsxs)("form",{id:"setup-form",onSubmit:f,className:et().setupForm,children:[(0,a.jsx)("h2",{children:"Set up your Primary Payment Method"}),(0,a.jsx)("p",{children:"Save a card for quick payments and to be able to book Gigs."}),c&&!i&&(0,a.jsx)("p",{children:"Loading payment form..."}),i&&(0,a.jsx)("div",{className:et().paymentElementContainer,children:(0,a.jsx)(J.He,{options:{layout:"tabs"}})}),(0,a.jsx)("button",{disabled:!t||c||!i,className:et().savePaymentMethodBtn,children:c?"Saving...":"Saved Payment method"}),u&&(0,a.jsx)("div",{className:`${et().setupMessage} ${u.includes("Error")?et().setupMessageError:""}`,children:u})]})},ea=({userId:e,userRole:t,connectionStep:r,isConnectingStripe:s,handleCloseModal:i,handleOpenStripeConnection:n})=>(0,a.jsx)("div",{className:Z().modalOverlay,onClick:i,children:(0,a.jsxs)("div",{className:Z().modalContent,onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:Z().modalHeader,children:[(0,a.jsxs)("div",{className:Z().modalHeaderContent,children:[(0,a.jsx)("div",{className:Z().stripeIconWrapper,children:(0,a.jsx)(u.A,{size:25,color:"#ffc107"})}),(0,a.jsx)("h3",{className:Z().modalTitle,children:"BUYER"===t?"Pay Securely with Stripe!":"Get Paid with Stripe!"})]}),(0,a.jsx)("button",{onClick:i,className:Z().closeButton,"aria-label":"Close",children:(0,a.jsx)(Y.A,{color:"#ffffff",size:25})})]}),"BUYER"===t?(0,a.jsx)("p",{children:"To pay for your services, you'll do so through our payment provider, Stripe. Stripe ensures your transactions are secure, free, and processed quickly."}):(0,a.jsx)("p",{children:"To receive payments for your gigs, you must connect your bank account through our payment provider, Stripe. This is secure, free, and only takes a minute."}),"connecting"===r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:Z().modalActions,children:(0,a.jsx)("button",{onClick:n,className:`${Z().stripeButton} ${"BUYER"===t?Z().buyerBtn:Z().workerBtn}`,disabled:s,children:s?"Connecting...":"Connect My Bank Account"})}),(0,a.jsxs)("div",{className:Z().connectionStatus,children:[(0,a.jsx)(u.A,{size:20,color:"#ffc107"}),(0,a.jsx)("p",{children:"Not connected"})]})]}),"payment-method"===r&&(0,a.jsx)("div",{children:(0,a.jsx)(er,{userId:e})})]})});var es=r(43335),ei=r(16269),en=r(1610),eo=r(42308),el=r.n(eo),ec=r(96882);function ed({userPhone:e}){let[t,r]=(0,s.useState)(!1);return t?(0,a.jsxs)("div",{className:el().modal,children:[(0,a.jsxs)("div",{className:el().titleContainer,children:[(0,a.jsx)(ec.A,{color:"#0f0f0f"}),(0,a.jsx)("h2",{className:el().title,children:"Phone Number Required"})]}),(0,a.jsx)("p",{className:el().text,children:"Please add your phone number so we can send you SMS notifications."}),(0,a.jsx)("div",{className:el().buttonRow,children:(0,a.jsx)("button",{onClick:()=>{let e=document.getElementById("profile-information");e&&(e.scrollIntoView({behavior:"smooth"}),setTimeout(()=>e.focus(),500)),r(!1)},className:`${el().button} ${el().closeBtn}`,children:"Got it"})})]}):null}var eu=r(48167);function ep(){let e=(0,n.useRouter)(),{user:t}=(0,y.A)(),[r,i]=(0,s.useState)(null),[c,m]=(0,s.useState)(!0),[v,S]=(0,s.useState)(!1),[N,j]=(0,s.useState)(!1),[P,C]=(0,s.useState)(!1),[k,A]=(0,s.useState)(!1),[E,I]=(0,s.useState)(!1),[R,T]=(0,s.useState)(!1),[U,M]=(0,s.useState)(!1),[q,B]=(0,s.useState)(!1),[F,L]=(0,s.useState)(""),[H,$]=(0,s.useState)(""),[Y,X]=(0,s.useState)(""),[Z,J]=(0,s.useState)(""),[Q,ee]=(0,s.useState)(""),[et,er]=(0,s.useState)(!1),[eo,el]=(0,s.useState)(!1),[ec,ep]=(0,s.useState)(!1),[ef,em]=(0,s.useState)(null),[eh,eg]=(0,s.useState)(null),[eb,e_]=(0,s.useState)("connecting"),ey=()=>{em(null),eg(null)},ex=async e=>{e.preventDefault(),ey(),S(!0);try{let{success:e,error:r}=await V({fullName:F,phone:H},t?.token);if(!e)throw r;let{success:a,error:s}=await G(t?.token);if(!a)throw s;O.oR.success("Profile updated successfully"),eg("Profile updated successfully!")}catch(e){em(e instanceof Error?e.message:"Failed to update profile.")}finally{S(!1)}},ev=async e=>{if(e.preventDefault(),ey(),Z!==Q)return void em("New passwords do not match.");if(Z.length<10)return void em("New password must be at least 10 characters long.");if(!t)return void em("User not authenticated.");S(!0);try{let e=o.IX.credential(t.email,Y);await (0,o.kZ)(t,e),await (0,o.f3)(t,Z),eg("Password changed successfully!"),X(""),J(""),ee(""),O.oR.success("Password changed successfully.")}catch(e){e instanceof w.g?(console.error("Error changing password",e),"auth/wrong-password."===e.code?em("Current password incorrect."):"auth/requires-recent-login"===e.code?em("For security login again"):em(e.message||"rror changing password.")):(console.error("Error unknown:",e),em("rror changing password."))}finally{S(!1)}},ew=async()=>{if(ey(),!r?.email)return void em("Email address not found.");try{en.yK&&(await (0,o.J1)(en.yK,r.email),eg("Password reset email sent. Please check your inbox."),O.oR.success("Check your email to reset your password."))}catch(e){e instanceof w.g?em(e.message||"Failed to send password reset email."):em("Failed to send password reset email.")}},eS=async()=>{ey();try{en.yK&&(await (0,o.CI)(en.yK),e.push("/signin"))}catch(e){e instanceof Error?em(e.message||"Logout failed."):em("Logout failed.")}},eN=async()=>{if(t){I(!0);try{await (0,o.gA)(t),O.oR.success("Verification email sent! Please check your inbox.")}catch(e){O.oR.error("Failed to send verification email. Please try again later."),console.error("Error resending verification email:",e)}finally{I(!1)}}},ej=async()=>{if(t){ey(),j(!0);try{let e=await (0,x.I)(t?.uid);if(e.error&&500===e.status)throw Error(e.error);200===e.status&&e.url&&(window.location.href=e.url)}catch(e){em(e.message||"Failed to initiate Stripe Connect.")}finally{j(!1)}}},eP=async()=>{if(t){ey(),j(!0);try{e_("payment-method"),j(!1)}catch(e){em(e.message||"Failed to initiate Stripe Connect.")}finally{j(!1)}}},eC=async()=>{ey(),A(!0);try{console.log("Deleting account..."),await new Promise(e=>setTimeout(e,2e3)),eg("Account deleted successfully. Redirecting..."),en.yK&&(await (0,o.CI)(en.yK),e.push("/signin"))}catch(e){e instanceof Error?em(e.message||"Failed to delete account."):em("Failed to delete account.")}finally{A(!1),C(!1)}};async function ek(){try{let{data:e,error:r}=await z({emailProferences:!U},t?.token);M(r?U:e),O.oR.success("Email notification updated")}catch(e){console.error("Failed to update email notifications",e),M(U)}}async function eA(){try{let{data:e,error:r}=await W({smsGigAlerts:!q},t?.token);B(r?q:e)}catch(e){console.error("Failed to update SMS notifications",e),B(q)}}async function eE(){try{let{data:e,error:r}=await K({profileVisibility:!R},t?.token);T(r?R:e)}catch(e){console.error("Failed to update profile visibility",e),T(R)}}return c?(0,a.jsx)(_.A,{}):t&&r?(console.log(t.emailVerified),(0,a.jsx)("div",{className:d().container,children:(0,a.jsxs)("div",{className:d().card,children:[(0,a.jsx)(ei.A,{title:"Settings",onBackClick:()=>e.back()}),(0,a.jsxs)("div",{className:d().pageWrapper,children:[(0,a.jsx)("p",{className:d().pageDescription,children:"Manage your account preferences and settings"}),t&&!t.emailVerified&&(0,a.jsxs)("div",{className:d().verificationSection,children:[(0,a.jsxs)("div",{className:d().verificationHeader,children:[(0,a.jsx)(u.A,{className:d().warningIcon}),(0,a.jsx)("h2",{className:d().verificationModalTitle,children:"Verify Your Email Address"})]}),(0,a.jsxs)("p",{className:d().verificationText,children:["To secure your account and access all features, please verify your email address. A verification link has been sent to ",(0,a.jsx)("strong",{children:t.email}),"."]}),(0,a.jsx)("div",{className:d().verificationActions,children:(0,a.jsx)("button",{onClick:eN,className:d().resendButton,disabled:E,children:E?"Sending...":"Resend Verification Email"})})]}),ef&&(0,a.jsx)("p",{className:d().errorMessage,children:ef}),eh&&(0,a.jsx)("p",{className:d().successMessage,children:eh}),r&&r.stripeAccountId&&"connected"===r.stripeAccountStatus&&r.canReceivePayouts&&(0,a.jsxs)("div",{className:`${d().section} ${d().stripeStatusBannerConnected}`,children:[(0,a.jsx)(p.A,{size:20})," Stripe account connected and active."]}),(0,a.jsxs)("section",{className:d().section,id:"profile-information",children:[(0,a.jsx)("h2",{className:d().sectionTitle,children:"Personal Information"}),(0,a.jsxs)("form",{onSubmit:ex,className:d().form,children:[(0,a.jsxs)("div",{className:d().formGroup,children:[(0,a.jsx)("label",{htmlFor:"displayName",className:d().label,children:"Full Name"}),(0,a.jsx)(l.A,{id:"displayName",name:"displayName",type:"text",value:F,onChange:e=>L(e.target.value),placeholder:"Your display name"})]}),(0,a.jsxs)("div",{className:d().formGroup,children:[(0,a.jsx)("label",{htmlFor:"email",className:d().label,children:"Email"}),(0,a.jsx)("input",{id:"email",type:"email",value:t.email||"",readOnly:!0,disabled:!0,className:d().inputField})]}),(0,a.jsxs)("div",{className:d().formGroup,children:[" ",(0,a.jsx)("label",{htmlFor:"phone",className:d().label,children:"Phone"}),(0,a.jsx)(l.A,{id:"phone",name:"phone",type:"tel",value:H,onChange:e=>$(e.target.value),placeholder:"Your phone number"})]}),(0,a.jsx)("div",{className:d().actionButtons,children:(0,a.jsxs)("button",{type:"submit",className:d().button,disabled:v,children:[(0,a.jsx)(f.A,{size:16})," ",v?"Saving...":"Save Profile"]})})]})]}),t&&!t.phoneNumber&&(0,a.jsx)(ed,{userPhone:t.phoneNumber||""}),(0,a.jsxs)("section",{className:d().section,children:[(0,a.jsx)("h2",{className:d().sectionTitle,children:"Payment Settings - Stripe portal"}),(0,a.jsx)("label",{htmlFor:"phone",className:d().label,children:"Payment method"}),(0,a.jsx)(l.A,{id:"card",name:"card",type:"text",disabled:!0,value:"Visa **** 1234",onChange:e=>()=>{console.log(e)},placeholder:"Your display name"})]}),(0,a.jsxs)("section",{className:d().section,children:[(0,a.jsx)("h2",{className:d().sectionTitle,children:"Notification Preferences"}),(0,a.jsx)(D,{id:"emailNotification",label:"Email Notifications",checked:U,onCheckedChange:()=>ek()}),(0,a.jsx)(D,{id:"smsNotification",label:"SMS Notifications",checked:q,onCheckedChange:()=>eA()})]}),(0,a.jsxs)("section",{className:d().section,children:[(0,a.jsx)("h2",{className:d().sectionTitle,children:"Privacy Settings"}),(0,a.jsx)(D,{id:"profileVisibility",label:"Profile Visibility (Public/Private for search)",checked:R,onCheckedChange:()=>eE()})]}),(0,a.jsxs)("section",{className:d().section,children:[(0,a.jsx)("h2",{className:d().sectionTitle,children:"Community Discord channel"}),(0,a.jsx)("label",{htmlFor:"phone",className:d().label,children:"Join here"})]}),(0,a.jsxs)("section",{className:d().section,children:[(0,a.jsx)("h2",{className:d().sectionTitle,children:"User policy"}),(0,a.jsx)("label",{htmlFor:"phone",className:d().label,children:"Read here"})]}),(0,a.jsxs)("section",{className:d().section,children:[(0,a.jsxs)("h2",{className:d().sectionTitle,children:[(0,a.jsx)(h,{size:20,style:{marginRight:"0.5rem"}})," Account Security"]}),(0,a.jsxs)("form",{onSubmit:ev,className:d().passwordChangeSection,children:[(0,a.jsxs)("div",{className:d().formGroup,children:[(0,a.jsx)("label",{htmlFor:"currentPassword",className:d().label,children:"Current Password"}),(0,a.jsx)(eu.A,{password:Y,setPassword:X,id:"currentPassword",name:"currentPassword",placeholder:"Enter your current password",required:!0})]}),(0,a.jsxs)("div",{className:d().formGroup,children:[(0,a.jsx)("label",{htmlFor:"newPassword",className:d().label,children:"New Password"}),(0,a.jsx)(eu.A,{password:Z,setPassword:J,id:"newPassword",name:"newPassword",placeholder:"Minimum 10 characters",required:!0})]}),(0,a.jsxs)("div",{className:d().formGroup,children:[(0,a.jsx)("label",{htmlFor:"confirmNewPassword",className:d().label,children:"Confirm New Password"}),(0,a.jsx)(eu.A,{password:Q,setPassword:ee,id:"confirmNewPassword",name:"confirmNewPassword",placeholder:"Type new password again",required:!0})]}),(0,a.jsx)("div",{className:d().actionButtons,children:(0,a.jsx)("button",{type:"submit",className:d().button,disabled:v,children:v?"Changing...":"Change Password"})})]}),(0,a.jsx)("div",{style:{marginTop:"1rem",textAlign:"right"},children:(0,a.jsx)("button",{onClick:ew,className:`${d().button} ${d().secondary}`,children:"Forgot Password? Send Reset Link"})})]}),(0,a.jsx)("section",{className:d().bottomNavSection,children:(0,a.jsxs)("div",{className:d().bottomNav,children:[(0,a.jsxs)("button",{onClick:eS,className:d().bottomNavLink,children:[(0,a.jsx)(g,{size:18})," Logout"]}),(0,a.jsxs)("button",{onClick:()=>C(!0),className:`${d().bottomNavLink} ${d().dangerLink}`,children:[(0,a.jsx)(b,{size:18})," Delete Account"]})]})})]}),P&&(0,a.jsx)("div",{className:d().modalOverlay,onClick:()=>C(!1),children:(0,a.jsxs)("div",{className:d().modalContent,onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:d().modalHeader,children:[(0,a.jsx)(u.A,{size:24,color:"red"}),(0,a.jsx)("h3",{className:d().modalTitle,children:"Confirm Account Deletion"})]}),(0,a.jsx)("p",{children:"Are you absolutely sure you want to delete your account? This action is permanent and cannot be undone. All your data, gigs, and profile information will be removed."}),(0,a.jsxs)("div",{className:d().modalActions,children:[(0,a.jsx)("button",{onClick:()=>C(!1),className:`${d().button} ${d().secondary}`,disabled:k,children:"Cancel"}),(0,a.jsx)("button",{onClick:eC,className:`${d().button} ${d().danger}`,disabled:k,children:k?"Deleting...":"Yes, Delete My Account"})]})]})}),et&&(r?.lastRole==="BUYER"?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(es.A,{options:{mode:"setup",currency:"usd",appearance:{theme:"night",labels:"floating"}},children:(0,a.jsx)(ea,{userId:t?.uid,userRole:r.lastRole,connectionStep:eb,isConnectingStripe:N,handleCloseModal:()=>er(!1),handleOpenStripeConnection:eP})})}):(0,a.jsx)(ea,{userId:t?.uid,userRole:r.lastRole,connectionStep:eb,isConnectingStripe:N,handleCloseModal:()=>er(!1),handleOpenStripeConnection:ej}))]})})):(0,a.jsx)("div",{className:d().loadingContainer,children:"Unable to load settings. Please ensure you are logged in."})}},62688:(e,t,r)=>{"use strict";r.d(t,{A:()=>u});var a=r(43210);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),n=e=>{let t=i(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:i="",children:n,iconNode:d,...u},p)=>(0,a.createElement)("svg",{ref:p,...c,width:t,height:t,stroke:e,strokeWidth:s?24*Number(r)/Number(t):r,className:o("lucide",i),...!n&&!l(u)&&{"aria-hidden":"true"},...u},[...d.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(n)?n:[n]])),u=(e,t)=>{let r=(0,a.forwardRef)(({className:r,...i},l)=>(0,a.createElement)(d,{ref:l,iconNode:t,className:o(`lucide-${s(n(e))}`,`lucide-${e}`,r),...i}));return r.displayName=n(e),r}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64274:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/israel/personal/code/alex/able-ai/app/(web-client)/user/[userId]/settings/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/israel/personal/code/alex/able-ai/app/(web-client)/user/[userId]/settings/page.tsx","default")},64939:e=>{"use strict";e.exports=import("pg")},64961:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(60687);r(43210);var s=r(17430),i=r.n(s);let n=({id:e,name:t,placeholder:r,type:s="text",value:n,onChange:o,required:l=!1,...c})=>(0,a.jsx)("input",{id:e,name:t,className:i().input,type:s,placeholder:r,value:n,onChange:o,required:l,...c})},65456:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(60687),s=r(89521),i=r.n(s);let n=({customClass:e,customStyle:t})=>(0,a.jsx)("div",{className:e||i().loadingContainer,style:t,children:(0,a.jsx)("div",{className:i().loader})})},65657:(e,t,r)=>{Promise.resolve().then(r.bind(r,59837))},69788:e=>{e.exports={container:"SettingsPage_container__x7Ugk",card:"SettingsPage_card__RPA5a",pageWrapper:"SettingsPage_pageWrapper__jAv2v",pageHeader:"SettingsPage_pageHeader__IPiGF",section:"SettingsPage_section__53RKH",sectionTitle:"SettingsPage_sectionTitle__neP96",form:"SettingsPage_form__sbwBS",formGroup:"SettingsPage_formGroup__6o89j",label:"SettingsPage_label__7ReZn",inputField:"SettingsPage_inputField__ywxTh",actionButtons:"SettingsPage_actionButtons__Wpvj0",button:"SettingsPage_button__UO4k9",secondary:"SettingsPage_secondary__ifHfj",danger:"SettingsPage_danger__6o6Pv",errorMessage:"SettingsPage_errorMessage__TbRSe",successMessage:"SettingsPage_successMessage__oEpcO",verificationSection:"SettingsPage_verificationSection__enDg_",verificationHeader:"SettingsPage_verificationHeader__BM_6D",warningIcon:"SettingsPage_warningIcon__lJrub",verificationModalTitle:"SettingsPage_verificationModalTitle__Go0QF",verificationText:"SettingsPage_verificationText__kQWg8",verificationActions:"SettingsPage_verificationActions__S_Z8e",resendButton:"SettingsPage_resendButton__F7p0K",modalOverlay:"SettingsPage_modalOverlay__3E3Hd",modalContent:"SettingsPage_modalContent__SxHiM",modalTitle:"SettingsPage_modalTitle__EqqS9",modalActions:"SettingsPage_modalActions__GOE9o",closeButton:"SettingsPage_closeButton__HJ688",modalHeader:"SettingsPage_modalHeader__IXvxa",bottomNavSection:"SettingsPage_bottomNavSection__Fvvyt",bottomNav:"SettingsPage_bottomNav__YBsS_",bottomNavLink:"SettingsPage_bottomNavLink__4aE_x",dangerLink:"SettingsPage_dangerLink__xIS_c",pageDescription:"SettingsPage_pageDescription__dhnvR",profileInfo:"SettingsPage_profileInfo__VGWTF",linkList:"SettingsPage_linkList__OkGOY",passwordChangeSection:"SettingsPage_passwordChangeSection__57gx8",loadingContainer:"SettingsPage_loadingContainer__3uwln",stripePromptInline:"SettingsPage_stripePromptInline__1xf3_",stripePromptHeader:"SettingsPage_stripePromptHeader___PeiB",stripeIconWrapper:"SettingsPage_stripeIconWrapper__HPLJp",stripeButton:"SettingsPage_stripeButton__9mpfO",stripeStatus:"SettingsPage_stripeStatus__q3LlT",stripeStatusBannerConnected:"SettingsPage_stripeStatusBannerConnected__2y3qb",settingItem:"SettingsPage_settingItem__qzFsE",settingLabel:"SettingsPage_settingLabel__cpvHX"}},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},77247:e=>{e.exports={setupForm:"PaymentSetupForm_setupForm__HpCgV",paymentElementContainer:"PaymentSetupForm_paymentElementContainer__bSNok",savePaymentMethodBtn:"PaymentSetupForm_savePaymentMethodBtn__R_iD5",setupMessageError:"PaymentSetupForm_setupMessageError__o14HR",setupMessage:"PaymentSetupForm_setupMessage__Pdv2c"}},79551:e=>{"use strict";e.exports=require("url")},79563:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(60687);r(43210);var s=r(30474),i=r(21169),n=r.n(i);let o=({width:e=260,height:t=260})=>(0,a.jsx)(s.default,{src:"/images/ableai.png",alt:"App Logo",width:e,height:t,className:n().logo})},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},89521:e=>{e.exports={loadingContainer:"Loader_loadingContainer__p_FTp",loader:"Loader_loader__8pViD",l3:"Loader_l3__h_z0X"}},91645:e=>{"use strict";e.exports=require("net")},92602:e=>{"use strict";e.exports=import("firebase-admin/messaging")},94735:e=>{"use strict";e.exports=require("events")},95805:(e,t,r)=>{"use strict";r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{"400cd1fa767ef5281508e93e3ca1d7a0d11ad8371f":()=>s.qM,"404660310a5e0f58f816c762a9f12b9b33702d2493":()=>s.OH,"40485e5ba9a725bc106541813990a1494415398c2d":()=>l.y,"404a83a773f709870df51d0df4fef9f92c356ea997":()=>i.I,"40581ab4c8b323b1eb03a134088d223d58f704d344":()=>n.V,"40bcfd414a2446406921fe5bddeb7f04b82b554661":()=>s.Rz,"60976633aa90a3960f31dd64f4fd8496ccbdb52456":()=>s.a6,"60e7f34a33097c37a8e1219f48e58834e6fa037656":()=>s.r2,"7f0eb08353f179bb33f676482e234afde0687b7d2c":()=>o.RH,"7f70361382587ca02f49f003a74e18ab229f439f9a":()=>o.SH,"7f8ca9fdff883a3c4676db6e04811fb45c2e8b4a5a":()=>o.E8,"7f9b448d512c6180059965a8ae30b38592af924acf":()=>o.V0,"7fad076ff87a53fb2dc1878d8dc87b650c1a1b2caa":()=>s.gL,"7fdd3361df32ca0ce47c1fae11a37f969b2dc3f187":()=>o.fk,"7febd407effd0bf8897393b517c555c17a8bb2313b":()=>o.sK});var s=r(29034),i=r(26532),n=r(17451),o=r(6490),l=r(24076),c=e([s,i,n,o,l]);[s,i,n,o,l]=c.then?(await c)():c,a()}catch(e){a(e)}})},96882:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(62688).A)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},97844:e=>{e.exports={togglePasswordVisibility:"PasswordInputField_togglePasswordVisibility__7XWMl",passwordContainer:"PasswordInputField_passwordContainer__vr_a5"}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[4447,9558,1658,6533,2002,7715,8065,4208,7580,6637,683],()=>r(48508));module.exports=a})();