(()=>{var e={};e.id=6515,e.ids=[6515],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3335:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(62688).A)("wine",[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]])},7879:e=>{"use strict";e.exports=import("firebase-admin/firestore")},10022:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(62688).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14276:e=>{"use strict";e.exports=import("firebase-admin/auth")},14284:e=>{e.exports={container:"PaymentsPage_container__l4piu",pageWrapper:"PaymentsPage_pageWrapper__FpaZj",header:"PaymentsPage_header__XOzqv",backButton:"PaymentsPage_backButton__gP_n2",totalsNote:"PaymentsPage_totalsNote__KhYlA",pageTitle:"PaymentsPage_pageTitle__e4BNt",filterButton:"PaymentsPage_filterButton__wiWin",filterSection:"PaymentsPage_filterSection__1Hfxl",filterSectionTitle:"PaymentsPage_filterSectionTitle__cvkHv",filterOptions:"PaymentsPage_filterOptions__ZyYRn",filterOptionLabel:"PaymentsPage_filterOptionLabel__I4zLg",filterNote:"PaymentsPage_filterNote__EQRb0",paymentList:"PaymentsPage_paymentList__lGmC8",paymentRight:"PaymentsPage_paymentRight__V9LJo",amount:"PaymentsPage_amount__0HQIs",actions:"PaymentsPage_actions__UBJUa",actionButton:"PaymentsPage_actionButton__Oe60d",barChartContainer:"PaymentsPage_barChartContainer__2iMOh",emptyState:"PaymentsPage_emptyState__slFFz",loadingContainer:"PaymentsPage_loadingContainer___bIm_",modalOverlay:"PaymentsPage_modalOverlay__is0UU",modalContent:"PaymentsPage_modalContent__4unIE",modalHeader:"PaymentsPage_modalHeader__Qv14l",modalActions:"PaymentsPage_modalActions__kaTtx",chartTooltip:"PaymentsPage_chartTooltip__RXrs4",tooltipLabel:"PaymentsPage_tooltipLabel__wWu6p",tooltipValue:"PaymentsPage_tooltipValue__aIzpo",paymentItem:"PaymentsPage_paymentItem__epoC_",paymentGigIcon:"PaymentsPage_paymentGigIcon__zIVEQ",paymentCard:"PaymentsPage_paymentCard___3WVp",paymentDetails:"PaymentsPage_paymentDetails___BIQf",paymentHeader:"PaymentsPage_paymentHeader__2vQyT",generateInvoice:"PaymentsPage_generateInvoice__RhuCV"}},14985:e=>{"use strict";e.exports=require("dns")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},28559:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(62688).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},36969:(e,t,a)=>{Promise.resolve().then(a.bind(a,37174))},37174:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>f});var r=a(60687),s=a(43210),i=a(16189),n=a(85814),o=a.n(n),l=a(3335),d=a(94577),c=a(57800),p=a(41862),m=a(28559),u=a(80462),h=a(10022),y=a(14284),_=a.n(y),x=a(21295);let g=e=>{let t={};return e.forEach(e=>{if("Paid"===e.status){let a=new Date(e.date).toLocaleString("default",{month:"short",year:"2-digit"});t[a]=(t[a]||0)+e.amount}}),Object.entries(t).map(([e,t])=>({name:e,total:t})).reverse()};function f(){let e=(0,i.useRouter)(),t=(0,i.useParams)(),a=t.userId,{user:n,loading:y}=(0,x.A)(),f=n?.uid,[P,b]=(0,s.useState)([]),[v,j]=(0,s.useState)(!0),[N,A]=(0,s.useState)(null),[k,C]=(0,s.useState)("All"),[w,I]=(0,s.useState)(!1),q=t=>{if(!t)return void alert("Gig ID not available for rehire.");console.log("Repeat gig ID:",t),e.push(`gigs/${t}/rehire`)};(0,s.useMemo)(()=>g(P),[P]);let z=e=>"Bartender"===e?(0,r.jsx)(l.A,{size:18,className:_().paymentGigIcon}):"Waiter"===e||"Chef"===e?(0,r.jsx)(d.A,{size:18,className:_().paymentGigIcon}):(0,r.jsx)(c.A,{size:18,className:_().paymentGigIcon});return y||!n&&!y||f&&f!==a?(0,r.jsxs)("div",{className:_().loadingContainer,children:[(0,r.jsx)(p.A,{className:"animate-spin",size:32})," Loading..."]}):(0,r.jsx)("div",{className:_().container,children:(0,r.jsxs)("div",{className:_().pageWrapper,children:[(0,r.jsxs)("header",{className:_().header,children:[(0,r.jsx)("button",{onClick:()=>e.back(),className:_().backButton,children:(0,r.jsx)(m.A,{size:16})}),(0,r.jsx)("h1",{className:_().pageTitle,children:"Payments"}),(0,r.jsxs)("button",{onClick:()=>I(!0),className:_().filterButton,children:[(0,r.jsx)(u.A,{size:16})," Filter"]})]}),(0,r.jsx)("p",{className:_().totalsNote,children:"Totals include Able AI & payment provider fees."}),w&&(0,r.jsx)("div",{className:_().modalOverlay,onClick:()=>I(!1),children:(0,r.jsxs)("div",{className:_().modalContent,onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("h3",{className:_().modalHeader,children:"Filter Payments"}),(0,r.jsx)("div",{className:_().filterOptions,style:{flexDirection:"column"},children:["All","Bartender","Waiter","Chef","Event Staff"].map(e=>(0,r.jsxs)("label",{className:_().filterOptionLabel,style:{padding:"0.5rem 0"},children:[(0,r.jsx)("input",{type:"radio",name:"gigTypeModalFilter",value:e,checked:k===e,onChange:()=>{C(e),I(!1)}}),e]},e))}),(0,r.jsx)("div",{className:_().modalActions,children:(0,r.jsx)("button",{onClick:()=>I(!1),className:`${_().actionButton} ${_().secondary}`,children:"Close"})})]})}),v?(0,r.jsxs)("div",{className:_().loadingContainer,children:[(0,r.jsx)(p.A,{className:"animate-spin",size:28})," Loading payments..."]}):N?(0,r.jsx)("div",{className:_().emptyState,children:N}):0===P.length?(0,r.jsxs)("div",{className:_().emptyState,children:["No payment history found ","All"!==k?`for ${k}s`:"","."]}):(0,r.jsx)("div",{className:_().paymentList,children:P.map(e=>(0,r.jsxs)("div",{className:_().paymentItem,children:[(0,r.jsxs)("div",{className:_().paymentCard,children:[(0,r.jsxs)("div",{className:_().paymentDetails,children:[z(e.gigType),(0,r.jsxs)("div",{className:_().paymentHeader,children:[(0,r.jsxs)("span",{className:_().paymentGigInfo,children:[e.gigType,", ",e.workerName]}),(0,r.jsx)("span",{className:_().paymentDate,children:new Date(e.date).toLocaleDateString()})]})]}),"Paid"===e.status&&(0,r.jsxs)(o(),{href:`/user/${t.userId}/buyer/payments/invoice?id=${e.id}`,className:_().generateInvoice,children:[(0,r.jsx)(h.A,{size:20})," Generate Invoice"]})]}),(0,r.jsxs)("div",{className:_().paymentRight,children:[(0,r.jsxs)("span",{className:_().amount,children:["\xa3",e.amount.toFixed(2)]}),(0,r.jsx)("div",{className:_().actions,children:(0,r.jsx)("button",{onClick:()=>q(e.gigId),className:_().actionButton,children:"Repeat Gig"})})]})]},e.id))})]})})}},41862:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(62688).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},46675:e=>{"use strict";e.exports=require("firebase-admin")},52748:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=a(65239),s=a(48088),i=a(88170),n=a.n(i),o=a(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let d={children:["",{children:["(web-client)",{children:["user",{children:["[userId]",{children:["buyer",{children:["payments",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,99052)),"/home/israel/personal/code/alex/able-ai/app/(web-client)/user/[userId]/buyer/payments/page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,14866)),"/home/israel/personal/code/alex/able-ai/app/(web-client)/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,58014)),"/home/israel/personal/code/alex/able-ai/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/israel/personal/code/alex/able-ai/app/(web-client)/user/[userId]/buyer/payments/page.tsx"],p={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(web-client)/user/[userId]/buyer/payments/page",pathname:"/user/[userId]/buyer/payments",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},55511:e=>{"use strict";e.exports=require("crypto")},57800:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(62688).A)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},62688:(e,t,a)=>{"use strict";a.d(t,{A:()=>p});var r=a(43210);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),n=e=>{let t=i(e);return t.charAt(0).toUpperCase()+t.slice(1)},o=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim(),l=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:i="",children:n,iconNode:c,...p},m)=>(0,r.createElement)("svg",{ref:m,...d,width:t,height:t,stroke:e,strokeWidth:s?24*Number(a)/Number(t):a,className:o("lucide",i),...!n&&!l(p)&&{"aria-hidden":"true"},...p},[...c.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(n)?n:[n]])),p=(e,t)=>{let a=(0,r.forwardRef)(({className:a,...i},l)=>(0,r.createElement)(c,{ref:l,iconNode:t,className:o(`lucide-${s(n(e))}`,`lucide-${e}`,a),...i}));return a.displayName=n(e),a}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64939:e=>{"use strict";e.exports=import("pg")},71817:(e,t,a)=>{Promise.resolve().then(a.bind(a,99052))},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},80462:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(62688).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},91902:(e,t,a)=>{"use strict";a.a(e,async(e,r)=>{try{a.r(t),a.d(t,{"400cd1fa767ef5281508e93e3ca1d7a0d11ad8371f":()=>s.qM,"404660310a5e0f58f816c762a9f12b9b33702d2493":()=>s.OH,"40bcfd414a2446406921fe5bddeb7f04b82b554661":()=>s.Rz,"60976633aa90a3960f31dd64f4fd8496ccbdb52456":()=>s.a6,"60e7f34a33097c37a8e1219f48e58834e6fa037656":()=>s.r2,"7fad076ff87a53fb2dc1878d8dc87b650c1a1b2caa":()=>s.gL});var s=a(29034),i=e([s]);s=(i.then?(await i)():i)[0],r()}catch(e){r(e)}})},92602:e=>{"use strict";e.exports=import("firebase-admin/messaging")},94577:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(62688).A)("utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]])},94735:e=>{"use strict";e.exports=require("events")},99052:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/israel/personal/code/alex/able-ai/app/(web-client)/user/[userId]/buyer/payments/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/israel/personal/code/alex/able-ai/app/(web-client)/user/[userId]/buyer/payments/page.tsx","default")}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[4447,9558,1658,6533,2002,7715,6637,683],()=>a(52748));module.exports=r})();