(()=>{var e={};e.id=6666,e.ids=[6666],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7879:e=>{"use strict";e.exports=import("firebase-admin/firestore")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14276:e=>{"use strict";e.exports=import("firebase-admin/auth")},14985:e=>{"use strict";e.exports=require("dns")},18568:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var r=t(65239),s=t(48088),i=t(88170),n=t.n(i),o=t(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(a,l);let d={children:["",{children:["(web-client)",{children:["user",{children:["[userId]",{children:["chat",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,53657)),"/home/israel/personal/code/alex/able-ai/app/(web-client)/user/[userId]/chat/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,14866)),"/home/israel/personal/code/alex/able-ai/app/(web-client)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"/home/israel/personal/code/alex/able-ai/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/home/israel/personal/code/alex/able-ai/app/(web-client)/user/[userId]/chat/page.tsx"],p={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/(web-client)/user/[userId]/chat/page",pathname:"/user/[userId]/chat",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27900:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(62688).A)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},28559:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(62688).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30474:(e,a,t)=>{"use strict";t.d(a,{default:()=>s.a});var r=t(31261),s=t.n(r)},31261:(e,a,t)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),!function(e,a){for(var t in a)Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}(a,{default:function(){return l},getImageProps:function(){return o}});let r=t(37366),s=t(44953),i=t(46533),n=r._(t(1933));function o(e){let{props:a}=(0,s.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,t]of Object.entries(a))void 0===t&&delete a[e];return{props:a}}let l=i.Image},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37210:(e,a,t)=>{Promise.resolve().then(t.bind(t,68723))},46675:e=>{"use strict";e.exports=require("firebase-admin")},47826:(e,a,t)=>{Promise.resolve().then(t.bind(t,53657))},53657:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/israel/personal/code/alex/able-ai/app/(web-client)/user/[userId]/chat/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/israel/personal/code/alex/able-ai/app/(web-client)/user/[userId]/chat/page.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},57800:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(62688).A)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},58869:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(62688).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},62688:(e,a,t)=>{"use strict";t.d(a,{A:()=>p});var r=t(43210);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,t)=>t?t.toUpperCase():a.toLowerCase()),n=e=>{let a=i(e);return a.charAt(0).toUpperCase()+a.slice(1)},o=(...e)=>e.filter((e,a,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===a).join(" ").trim(),l=e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,r.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:i="",children:n,iconNode:c,...p},u)=>(0,r.createElement)("svg",{ref:u,...d,width:a,height:a,stroke:e,strokeWidth:s?24*Number(t)/Number(a):t,className:o("lucide",i),...!n&&!l(p)&&{"aria-hidden":"true"},...p},[...c.map(([e,a])=>(0,r.createElement)(e,a)),...Array.isArray(n)?n:[n]])),p=(e,a)=>{let t=(0,r.forwardRef)(({className:t,...i},l)=>(0,r.createElement)(c,{ref:l,iconNode:a,className:o(`lucide-${s(n(e))}`,`lucide-${e}`,t),...i}));return t.displayName=n(e),t}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64939:e=>{"use strict";e.exports=import("pg")},65456:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});var r=t(60687),s=t(89521),i=t.n(s);let n=({customClass:e,customStyle:a})=>(0,r.jsx)("div",{className:e||i().loadingContainer,style:a,children:(0,r.jsx)("div",{className:i().loader})})},68723:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>g});var r=t(60687),s=t(43210),i=t(16189),n=t(30474),o=t(58869),l=t(57800),d=t(28559),c=t(27900),p=t(65456),u=t(76862),h=t.n(u),m=t(21295);function g(){let{user:e,loading:a}=(0,m.A)(),t=(0,i.useRouter)(),u=(0,s.useRef)(null),g=(0,s.useRef)(null),[_]=(0,s.useState)([{id:"benji-123",name:"Benji",role:"WORKER"},{id:"sue-456",name:"Sue",role:"BUYER"}]),[x,f]=(0,s.useState)([{id:"1",senderId:"benji-123",senderName:"Benji",senderRole:"WORKER",content:"Hi! I just wanted to confirm the details of our gig. Could you let me know if there's anything specific you'd like me to focus on?",timestamp:new Date(Date.now()-3e5)},{id:"2",senderId:"sue-456",senderName:"Sue",senderRole:"BUYER",content:"Hello! Yes, please focus on the main tasks as outlined in the gig detail. Let me know if you have any questions.",timestamp:new Date(Date.now()-18e4)},{id:"3",senderId:"benji-123",senderName:"Benji",senderRole:"WORKER",content:"Great! I look forward to working with you. I've started on it right away. Thank you for the clarification.",timestamp:new Date(Date.now()-6e4)}]),[b,v]=(0,s.useState)(""),[C,P]=(0,s.useState)(!1),j=_.find(a=>a.id===e?.uid)||_[0],y=_.find(e=>e.id!==j.id)||_[1],w=e=>e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),N=e=>"BUYER"===e?(0,r.jsx)(o.A,{size:16}):(0,r.jsx)(l.A,{size:16}),k=(0,s.useCallback)(async e=>{if(!e.trim()||C)return;P(!0);let a={id:Date.now().toString(),senderId:j.id,senderName:j.name,senderRole:j.role,content:e.trim(),timestamp:new Date,isNew:!0};f(e=>[...e,a]),v(""),setTimeout(()=>{P(!1)},1e3)},[j,C]);return a?(0,r.jsx)("div",{className:h().loadingContainer,children:(0,r.jsx)("p",{children:"Loading authentication..."})}):e?(0,r.jsxs)("div",{className:h().container,children:[(0,r.jsxs)("header",{className:h().header,children:[(0,r.jsx)("button",{onClick:()=>t.back(),className:h().backButton,"aria-label":"Go back",children:(0,r.jsx)(d.A,{size:20})}),(0,r.jsx)("div",{className:h().headerContent,children:(0,r.jsxs)("div",{className:h().participantInfo,children:[(0,r.jsx)("div",{className:h().avatar,children:y.avatar?(0,r.jsx)(n.default,{src:y.avatar,alt:y.name,width:40,height:40,className:h().avatarImage}):(0,r.jsx)("div",{className:h().avatarPlaceholder,children:y.name.charAt(0)})}),(0,r.jsxs)("div",{className:h().participantDetails,children:[(0,r.jsx)("h2",{className:h().participantName,children:y.name}),(0,r.jsxs)("div",{className:h().participantRoleContainer,children:[N(y.role),(0,r.jsx)("p",{className:h().participantRole,children:"BUYER"===y.role?"Buyer":"Worker"})]})]})]})})]}),(0,r.jsxs)("div",{className:h().chatContent,ref:u,children:[x.map(e=>{let a=e.senderId===j.id,t=_.find(a=>a.id===e.senderId);return(0,r.jsxs)("div",{className:`${h().messageWrapper} ${a?h().messageUser:h().messageOther}`,children:[!a&&(0,r.jsx)("div",{className:h().avatar,children:(0,r.jsx)("div",{className:h().avatarPlaceholder,children:t?.name.charAt(0).toUpperCase()||"U"})}),(0,r.jsx)("div",{className:h().messageContent,children:(0,r.jsxs)("div",{className:`${h().messageBubble} ${a?h().bubbleUser:h().bubbleOther}`,children:[(0,r.jsx)("p",{className:h().messageText,children:e.content}),(0,r.jsxs)("div",{className:h().messageFooter,children:[(0,r.jsx)("span",{className:h().messageTime,children:w(e.timestamp)}),(0,r.jsx)("div",{className:h().messageRole,children:N(e.senderRole)})]})]})})]},e.id)}),C&&(0,r.jsxs)("div",{className:`${h().messageWrapper} ${h().messageOther}`,children:[(0,r.jsx)("div",{className:h().avatar,children:(0,r.jsx)("div",{className:h().avatarPlaceholder,children:y.name.charAt(0).toUpperCase()})}),(0,r.jsx)("div",{className:h().messageContent,children:(0,r.jsx)("div",{className:`${h().messageBubble} ${h().bubbleOther}`,children:(0,r.jsxs)("div",{className:h().typingIndicator,children:[(0,r.jsx)("span",{}),(0,r.jsx)("span",{}),(0,r.jsx)("span",{})]})})})]}),(0,r.jsx)("div",{ref:g})]}),(0,r.jsx)("div",{className:h().chatInput,children:(0,r.jsxs)("div",{className:h().inputWrapper,children:[(0,r.jsx)("div",{className:h().avatar,children:(0,r.jsx)("div",{className:h().avatarPlaceholder,children:j.name.charAt(0).toUpperCase()})}),(0,r.jsx)("input",{type:"text",value:b,onChange:e=>v(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),k(b))},placeholder:"Type a message...",className:h().input,disabled:C}),(0,r.jsx)("button",{onClick:()=>k(b),disabled:!b.trim()||C,className:h().sendButton,"aria-label":"Send message",children:(0,r.jsx)(c.A,{size:18})})]})})]}):(0,r.jsx)(p.A,{})}},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},76862:e=>{e.exports={container:"ChatPage_container__2Sp0l",fadeIn:"ChatPage_fadeIn__DWm1K",loadingContainer:"ChatPage_loadingContainer__HDUUx",header:"ChatPage_header__YobJZ",backButton:"ChatPage_backButton__rVy_p",headerContent:"ChatPage_headerContent__idHCY",participantInfo:"ChatPage_participantInfo__PYxc_",avatar:"ChatPage_avatar__ge94E",avatarImage:"ChatPage_avatarImage__IYfap",avatarPlaceholder:"ChatPage_avatarPlaceholder__Yma_n",participantDetails:"ChatPage_participantDetails__LRbw5",participantName:"ChatPage_participantName__pMphX",participantRoleContainer:"ChatPage_participantRoleContainer__wh0mr",participantRole:"ChatPage_participantRole__JOiQ3",chatContent:"ChatPage_chatContent__Mkp5R",messageWrapper:"ChatPage_messageWrapper__USF7Y",slideInPrimary:"ChatPage_slideInPrimary__8wms6",messageUser:"ChatPage_messageUser__CvvzV",messageOther:"ChatPage_messageOther__UeWlB",messageContent:"ChatPage_messageContent__bVVVF",messageBubble:"ChatPage_messageBubble__37L1l",bubbleUser:"ChatPage_bubbleUser__9ytd4",bubbleOther:"ChatPage_bubbleOther__qmhv1",messageText:"ChatPage_messageText__aSErg",messageFooter:"ChatPage_messageFooter__h1FXZ",messageTime:"ChatPage_messageTime__pNY35",messageRole:"ChatPage_messageRole__mhQe5",typingIndicator:"ChatPage_typingIndicator__pdOkm",typingBounce:"ChatPage_typingBounce__nFRqI",chatInput:"ChatPage_chatInput__AvAAB",inputWrapper:"ChatPage_inputWrapper__dcRUz",input:"ChatPage_input__RLxVY",sendButton:"ChatPage_sendButton__xq_A6"}},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},89521:e=>{e.exports={loadingContainer:"Loader_loadingContainer__p_FTp",loader:"Loader_loader__8pViD",l3:"Loader_l3__h_z0X"}},91645:e=>{"use strict";e.exports=require("net")},91902:(e,a,t)=>{"use strict";t.a(e,async(e,r)=>{try{t.r(a),t.d(a,{"400cd1fa767ef5281508e93e3ca1d7a0d11ad8371f":()=>s.qM,"404660310a5e0f58f816c762a9f12b9b33702d2493":()=>s.OH,"40bcfd414a2446406921fe5bddeb7f04b82b554661":()=>s.Rz,"60976633aa90a3960f31dd64f4fd8496ccbdb52456":()=>s.a6,"60e7f34a33097c37a8e1219f48e58834e6fa037656":()=>s.r2,"7fad076ff87a53fb2dc1878d8dc87b650c1a1b2caa":()=>s.gL});var s=t(29034),i=e([s]);s=(i.then?(await i)():i)[0],r()}catch(e){r(e)}})},92602:e=>{"use strict";e.exports=import("firebase-admin/messaging")},94735:e=>{"use strict";e.exports=require("events")}};var a=require("../../../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[4447,9558,1658,6533,2002,6637,683],()=>t(18568));module.exports=r})();