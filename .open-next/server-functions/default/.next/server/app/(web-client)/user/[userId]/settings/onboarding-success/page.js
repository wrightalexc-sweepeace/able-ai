(()=>{var e={};e.id=6861,e.ids=[6861],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},7879:e=>{"use strict";e.exports=import("firebase-admin/firestore")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12470:(e,t,r)=>{"use strict";r.d(t,{o:()=>n});var s=r(8835);let i=process.env.STRIPE_SECRET_KEY,n=i?new s.A(i):new Proxy({},{get(){throw Error("Stripe is not configured (missing STRIPE_SECRET_KEY). This action requires Stripe to be set up.")}})},14276:e=>{"use strict";e.exports=import("firebase-admin/auth")},14985:e=>{"use strict";e.exports=require("dns")},18999:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.r(t),r.d(t,{"400cd1fa767ef5281508e93e3ca1d7a0d11ad8371f":()=>i.qM,"404660310a5e0f58f816c762a9f12b9b33702d2493":()=>i.OH,"4099f7c3b3bfce62d3de295a0eb14c5f4ae691fd52":()=>n.i,"40bcfd414a2446406921fe5bddeb7f04b82b554661":()=>i.Rz,"60976633aa90a3960f31dd64f4fd8496ccbdb52456":()=>i.a6,"60e7f34a33097c37a8e1219f48e58834e6fa037656":()=>i.r2,"7fad076ff87a53fb2dc1878d8dc87b650c1a1b2caa":()=>i.gL});var i=r(29034),n=r(62517),a=e([i,n]);[i,n]=a.then?(await a)():a,s()}catch(e){s(e)}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},46675:e=>{"use strict";e.exports=require("firebase-admin")},49778:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/israel/personal/code/alex/able-ai/app/(web-client)/user/[userId]/settings/onboarding-success/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/israel/personal/code/alex/able-ai/app/(web-client)/user/[userId]/settings/onboarding-success/page.tsx","default")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},62517:(e,t,r)=>{"use strict";r.a(e,async(e,s)=>{try{r.d(t,{i:()=>l});var i=r(91199);r(42087);var n=r(30298),a=r(60444),o=r(18839),c=r(12470),d=r(33331),u=e([n]);async function l(e){try{if(!e)return{error:"Stripe Account ID is required.",status:400};let t=await c.o.accounts.retrieve(e),r=t.capabilities?.transfers==="active",s=t.payouts_enabled,i=await n.db.query.UsersTable.findFirst({where:(0,o.eq)(a.UsersTable.stripeConnectAccountId,e),columns:{id:!0}});return i?(await n.db.update(a.UsersTable).set({canReceivePayouts:s,stripeAccountStatus:r&&s?"connected":"incomplete"}).where((0,o.eq)(a.UsersTable.id,i.id)),console.log(`DB updated for user ${i.id} from direct Stripe API check.`)):console.warn(`User with Stripe Account ID ${e} not found in local DB during status check.`),{accountId:e,payoutsEnabled:s,transfersActive:r}}catch(e){return console.error("Error fetching Stripe account status:",e),{error:e.message||"Failed to retrieve Stripe account status.",status:500}}}n=(u.then?(await u)():u)[0],(0,d.D)([l]),(0,i.A)(l,"4099f7c3b3bfce62d3de295a0eb14c5f4ae691fd52",null),s()}catch(e){s(e)}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64939:e=>{"use strict";e.exports=import("pg")},69656:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>l,pages:()=>u,routeModule:()=>p,tree:()=>d});var s=r(65239),i=r(48088),n=r(88170),a=r.n(n),o=r(30893),c={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);r.d(t,c);let d={children:["",{children:["(web-client)",{children:["user",{children:["[userId]",{children:["settings",{children:["onboarding-success",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,49778)),"/home/israel/personal/code/alex/able-ai/app/(web-client)/user/[userId]/settings/onboarding-success/page.tsx"]}]},{}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,14866)),"/home/israel/personal/code/alex/able-ai/app/(web-client)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,58014)),"/home/israel/personal/code/alex/able-ai/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,u=["/home/israel/personal/code/alex/able-ai/app/(web-client)/user/[userId]/settings/onboarding-success/page.tsx"],l={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/(web-client)/user/[userId]/settings/onboarding-success/page",pathname:"/user/[userId]/settings/onboarding-success",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},69788:e=>{e.exports={container:"SettingsPage_container__x7Ugk",card:"SettingsPage_card__RPA5a",pageWrapper:"SettingsPage_pageWrapper__jAv2v",pageHeader:"SettingsPage_pageHeader__IPiGF",section:"SettingsPage_section__53RKH",sectionTitle:"SettingsPage_sectionTitle__neP96",form:"SettingsPage_form__sbwBS",formGroup:"SettingsPage_formGroup__6o89j",label:"SettingsPage_label__7ReZn",inputField:"SettingsPage_inputField__ywxTh",actionButtons:"SettingsPage_actionButtons__Wpvj0",button:"SettingsPage_button__UO4k9",secondary:"SettingsPage_secondary__ifHfj",danger:"SettingsPage_danger__6o6Pv",errorMessage:"SettingsPage_errorMessage__TbRSe",successMessage:"SettingsPage_successMessage__oEpcO",verificationSection:"SettingsPage_verificationSection__enDg_",verificationHeader:"SettingsPage_verificationHeader__BM_6D",warningIcon:"SettingsPage_warningIcon__lJrub",verificationModalTitle:"SettingsPage_verificationModalTitle__Go0QF",verificationText:"SettingsPage_verificationText__kQWg8",verificationActions:"SettingsPage_verificationActions__S_Z8e",resendButton:"SettingsPage_resendButton__F7p0K",modalOverlay:"SettingsPage_modalOverlay__3E3Hd",modalContent:"SettingsPage_modalContent__SxHiM",modalTitle:"SettingsPage_modalTitle__EqqS9",modalActions:"SettingsPage_modalActions__GOE9o",closeButton:"SettingsPage_closeButton__HJ688",modalHeader:"SettingsPage_modalHeader__IXvxa",bottomNavSection:"SettingsPage_bottomNavSection__Fvvyt",bottomNav:"SettingsPage_bottomNav__YBsS_",bottomNavLink:"SettingsPage_bottomNavLink__4aE_x",dangerLink:"SettingsPage_dangerLink__xIS_c",pageDescription:"SettingsPage_pageDescription__dhnvR",profileInfo:"SettingsPage_profileInfo__VGWTF",linkList:"SettingsPage_linkList__OkGOY",passwordChangeSection:"SettingsPage_passwordChangeSection__57gx8",loadingContainer:"SettingsPage_loadingContainer__3uwln",stripePromptInline:"SettingsPage_stripePromptInline__1xf3_",stripePromptHeader:"SettingsPage_stripePromptHeader___PeiB",stripeIconWrapper:"SettingsPage_stripeIconWrapper__HPLJp",stripeButton:"SettingsPage_stripeButton__9mpfO",stripeStatus:"SettingsPage_stripeStatus__q3LlT",stripeStatusBannerConnected:"SettingsPage_stripeStatusBannerConnected__2y3qb",settingItem:"SettingsPage_settingItem__qzFsE",settingLabel:"SettingsPage_settingLabel__cpvHX"}},71467:(e,t,r)=>{Promise.resolve().then(r.bind(r,74636))},73496:e=>{"use strict";e.exports=require("http2")},74075:e=>{"use strict";e.exports=require("zlib")},74636:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>_});var s=r(60687),i=r(43210),n=r(85814),a=r.n(n),o=r(16189),c=r(69788),d=r.n(c),u=r(92551),l=r.n(u),p=r(6475);function _(){(0,o.useRouter)();let e=(0,o.useSearchParams)(),{userId:t}=(0,o.useParams)();e.get("account_id");let[r,n]=(0,i.useState)("Verifying Stripe connection..."),[c,u]=(0,i.useState)(!0);return(0,s.jsx)("div",{className:d().container,children:(0,s.jsx)("div",{className:d().card,children:(0,s.jsxs)("div",{children:[(0,s.jsx)("header",{className:d().pageHeader,children:(0,s.jsx)("h1",{children:"Stripe Onboarding"})}),c?(0,s.jsx)("p",{children:r}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{children:r}),(0,s.jsx)("p",{children:"You will be redirected shortly."}),(0,s.jsx)("div",{className:l().buttonWrapper,children:(0,s.jsx)(a(),{href:`/user/${t}/settings`,className:`${d().button} ${l().buttonLink}`,children:"Go to Settings"})})]})]})})})}p.callServer,p.findSourceMapURL},77043:(e,t,r)=>{Promise.resolve().then(r.bind(r,49778))},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},91645:e=>{"use strict";e.exports=require("net")},92551:e=>{e.exports={buttonWrapper:"onboarding-success_buttonWrapper__50h5K",buttonLink:"onboarding-success_buttonLink__AksZk"}},92602:e=>{"use strict";e.exports=import("firebase-admin/messaging")},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[4447,9558,1658,6533,2002,7715,8065,6637,683],()=>r(69656));module.exports=s})();